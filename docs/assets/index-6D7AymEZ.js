var xv=a=>{throw TypeError(a)};var Wd=(a,t,e)=>t.has(a)||xv("Cannot "+e);var ne=(a,t,e)=>(Wd(a,t,"read from private field"),e?e.call(a):t.get(a)),ni=(a,t,e)=>t.has(a)?xv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,e),an=(a,t,e,i)=>(Wd(a,t,"write to private field"),i?i.call(a,e):t.set(a,e),e),ii=(a,t,e)=>(Wd(a,t,"access private method"),e);var wv=(a,t,e,i)=>({set _(r){an(a,t,r,e)},get _(){return ne(a,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function xE(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Kd={exports:{}},yo={};var Av;function wE(){if(Av)return yo;Av=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:a,type:i,key:l,ref:r!==void 0?r:null,props:o}}return yo.Fragment=t,yo.jsx=e,yo.jsxs=e,yo}var Sv;function AE(){return Sv||(Sv=1,Kd.exports=wE()),Kd.exports}var y=AE(),Qd={exports:{}},wt={};var Ev;function SE(){if(Ev)return wt;Ev=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function x(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,T={};function E(k,$,Z){this.props=k,this.context=$,this.refs=T,this.updater=Z||w}E.prototype.isReactComponent={},E.prototype.setState=function(k,$){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,$,"setState")},E.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function _(){}_.prototype=E.prototype;function N(k,$,Z){this.props=k,this.context=$,this.refs=T,this.updater=Z||w}var R=N.prototype=new _;R.constructor=N,A(R,E.prototype),R.isPureReactComponent=!0;var D=Array.isArray;function L(){}var P={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function H(k,$,Z){var et=Z.ref;return{$$typeof:a,type:k,key:$,ref:et!==void 0?et:null,props:Z}}function Y(k,$){return H(k.type,$,k.props)}function J(k){return typeof k=="object"&&k!==null&&k.$$typeof===a}function at(k){var $={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(Z){return $[Z]})}var ft=/\/+/g;function rt(k,$){return typeof k=="object"&&k!==null&&k.key!=null?at(""+k.key):$.toString(36)}function vt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(L,L):(k.status="pending",k.then(function($){k.status==="pending"&&(k.status="fulfilled",k.value=$)},function($){k.status==="pending"&&(k.status="rejected",k.reason=$)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function B(k,$,Z,et,dt){var gt=typeof k;(gt==="undefined"||gt==="boolean")&&(k=null);var ut=!1;if(k===null)ut=!0;else switch(gt){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(k.$$typeof){case a:case t:ut=!0;break;case m:return ut=k._init,B(ut(k._payload),$,Z,et,dt)}}if(ut)return dt=dt(k),ut=et===""?"."+rt(k,0):et,D(dt)?(Z="",ut!=null&&(Z=ut.replace(ft,"$&/")+"/"),B(dt,$,Z,"",function(qe){return qe})):dt!=null&&(J(dt)&&(dt=Y(dt,Z+(dt.key==null||k&&k.key===dt.key?"":(""+dt.key).replace(ft,"$&/")+"/")+ut)),$.push(dt)),1;ut=0;var $t=et===""?".":et+":";if(D(k))for(var Pt=0;Pt<k.length;Pt++)et=k[Pt],gt=$t+rt(et,Pt),ut+=B(et,$,Z,gt,dt);else if(Pt=x(k),typeof Pt=="function")for(k=Pt.call(k),Pt=0;!(et=k.next()).done;)et=et.value,gt=$t+rt(et,Pt++),ut+=B(et,$,Z,gt,dt);else if(gt==="object"){if(typeof k.then=="function")return B(vt(k),$,Z,et,dt);throw $=String(k),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ut}function V(k,$,Z){if(k==null)return k;var et=[],dt=0;return B(k,et,"","",function(gt){return $.call(Z,gt,dt++)}),et}function Q(k){if(k._status===-1){var $=k._result;$=$(),$.then(function(Z){(k._status===0||k._status===-1)&&(k._status=1,k._result=Z)},function(Z){(k._status===0||k._status===-1)&&(k._status=2,k._result=Z)}),k._status===-1&&(k._status=0,k._result=$)}if(k._status===1)return k._result.default;throw k._result}var lt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},xt={map:V,forEach:function(k,$,Z){V(k,function(){$.apply(this,arguments)},Z)},count:function(k){var $=0;return V(k,function(){$++}),$},toArray:function(k){return V(k,function($){return $})||[]},only:function(k){if(!J(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return wt.Activity=p,wt.Children=xt,wt.Component=E,wt.Fragment=e,wt.Profiler=r,wt.PureComponent=N,wt.StrictMode=i,wt.Suspense=d,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,wt.__COMPILER_RUNTIME={__proto__:null,c:function(k){return P.H.useMemoCache(k)}},wt.cache=function(k){return function(){return k.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(k,$,Z){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var et=A({},k.props),dt=k.key;if($!=null)for(gt in $.key!==void 0&&(dt=""+$.key),$)!F.call($,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&$.ref===void 0||(et[gt]=$[gt]);var gt=arguments.length-2;if(gt===1)et.children=Z;else if(1<gt){for(var ut=Array(gt),$t=0;$t<gt;$t++)ut[$t]=arguments[$t+2];et.children=ut}return H(k.type,dt,et)},wt.createContext=function(k){return k={$$typeof:l,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:o,_context:k},k},wt.createElement=function(k,$,Z){var et,dt={},gt=null;if($!=null)for(et in $.key!==void 0&&(gt=""+$.key),$)F.call($,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(dt[et]=$[et]);var ut=arguments.length-2;if(ut===1)dt.children=Z;else if(1<ut){for(var $t=Array(ut),Pt=0;Pt<ut;Pt++)$t[Pt]=arguments[Pt+2];dt.children=$t}if(k&&k.defaultProps)for(et in ut=k.defaultProps,ut)dt[et]===void 0&&(dt[et]=ut[et]);return H(k,gt,dt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(k){return{$$typeof:u,render:k}},wt.isValidElement=J,wt.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:Q}},wt.memo=function(k,$){return{$$typeof:f,type:k,compare:$===void 0?null:$}},wt.startTransition=function(k){var $=P.T,Z={};P.T=Z;try{var et=k(),dt=P.S;dt!==null&&dt(Z,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(L,lt)}catch(gt){lt(gt)}finally{$!==null&&Z.types!==null&&($.types=Z.types),P.T=$}},wt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},wt.use=function(k){return P.H.use(k)},wt.useActionState=function(k,$,Z){return P.H.useActionState(k,$,Z)},wt.useCallback=function(k,$){return P.H.useCallback(k,$)},wt.useContext=function(k){return P.H.useContext(k)},wt.useDebugValue=function(){},wt.useDeferredValue=function(k,$){return P.H.useDeferredValue(k,$)},wt.useEffect=function(k,$){return P.H.useEffect(k,$)},wt.useEffectEvent=function(k){return P.H.useEffectEvent(k)},wt.useId=function(){return P.H.useId()},wt.useImperativeHandle=function(k,$,Z){return P.H.useImperativeHandle(k,$,Z)},wt.useInsertionEffect=function(k,$){return P.H.useInsertionEffect(k,$)},wt.useLayoutEffect=function(k,$){return P.H.useLayoutEffect(k,$)},wt.useMemo=function(k,$){return P.H.useMemo(k,$)},wt.useOptimistic=function(k,$){return P.H.useOptimistic(k,$)},wt.useReducer=function(k,$,Z){return P.H.useReducer(k,$,Z)},wt.useRef=function(k){return P.H.useRef(k)},wt.useState=function(k){return P.H.useState(k)},wt.useSyncExternalStore=function(k,$,Z){return P.H.useSyncExternalStore(k,$,Z)},wt.useTransition=function(){return P.H.useTransition()},wt.version="19.2.3",wt}var Tv;function ym(){return Tv||(Tv=1,Qd.exports=SE()),Qd.exports}var M=ym(),Zd={exports:{}},vo={},Jd={exports:{}},tf={};var Cv;function EE(){return Cv||(Cv=1,(function(a){function t(B,V){var Q=B.length;B.push(V);t:for(;0<Q;){var lt=Q-1>>>1,xt=B[lt];if(0<r(xt,V))B[lt]=V,B[Q]=xt,Q=lt;else break t}}function e(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var V=B[0],Q=B.pop();if(Q!==V){B[0]=Q;t:for(var lt=0,xt=B.length,k=xt>>>1;lt<k;){var $=2*(lt+1)-1,Z=B[$],et=$+1,dt=B[et];if(0>r(Z,Q))et<xt&&0>r(dt,Z)?(B[lt]=dt,B[et]=Q,lt=et):(B[lt]=Z,B[$]=Q,lt=$);else if(et<xt&&0>r(dt,Q))B[lt]=dt,B[et]=Q,lt=et;else break t}}return V}function r(B,V){var Q=B.sortIndex-V.sortIndex;return Q!==0?Q:B.id-V.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();a.unstable_now=function(){return l.now()-u}}var d=[],f=[],m=1,p=null,b=3,x=!1,w=!1,A=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function R(B){for(var V=e(f);V!==null;){if(V.callback===null)i(f);else if(V.startTime<=B)i(f),V.sortIndex=V.expirationTime,t(d,V);else break;V=e(f)}}function D(B){if(A=!1,R(B),!w)if(e(d)!==null)w=!0,L||(L=!0,at());else{var V=e(f);V!==null&&vt(D,V.startTime-B)}}var L=!1,P=-1,F=5,H=-1;function Y(){return T?!0:!(a.unstable_now()-H<F)}function J(){if(T=!1,L){var B=a.unstable_now();H=B;var V=!0;try{t:{w=!1,A&&(A=!1,_(P),P=-1),x=!0;var Q=b;try{e:{for(R(B),p=e(d);p!==null&&!(p.expirationTime>B&&Y());){var lt=p.callback;if(typeof lt=="function"){p.callback=null,b=p.priorityLevel;var xt=lt(p.expirationTime<=B);if(B=a.unstable_now(),typeof xt=="function"){p.callback=xt,R(B),V=!0;break e}p===e(d)&&i(d),R(B)}else i(d);p=e(d)}if(p!==null)V=!0;else{var k=e(f);k!==null&&vt(D,k.startTime-B),V=!1}}break t}finally{p=null,b=Q,x=!1}V=void 0}}finally{V?at():L=!1}}}var at;if(typeof N=="function")at=function(){N(J)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,rt=ft.port2;ft.port1.onmessage=J,at=function(){rt.postMessage(null)}}else at=function(){E(J,0)};function vt(B,V){P=E(function(){B(a.unstable_now())},V)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(B){B.callback=null},a.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(B){switch(b){case 1:case 2:case 3:var V=3;break;default:V=b}var Q=b;b=V;try{return B()}finally{b=Q}},a.unstable_requestPaint=function(){T=!0},a.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=b;b=B;try{return V()}finally{b=Q}},a.unstable_scheduleCallback=function(B,V,Q){var lt=a.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?lt+Q:lt):Q=lt,B){case 1:var xt=-1;break;case 2:xt=250;break;case 5:xt=1073741823;break;case 4:xt=1e4;break;default:xt=5e3}return xt=Q+xt,B={id:m++,callback:V,priorityLevel:B,startTime:Q,expirationTime:xt,sortIndex:-1},Q>lt?(B.sortIndex=Q,t(f,B),e(d)===null&&B===e(f)&&(A?(_(P),P=-1):A=!0,vt(D,Q-lt))):(B.sortIndex=xt,t(d,B),w||x||(w=!0,L||(L=!0,at()))),B},a.unstable_shouldYield=Y,a.unstable_wrapCallback=function(B){var V=b;return function(){var Q=b;b=V;try{return B.apply(this,arguments)}finally{b=Q}}}})(tf)),tf}var _v;function TE(){return _v||(_v=1,Jd.exports=EE()),Jd.exports}var ef={exports:{}},ze={};var Nv;function CE(){if(Nv)return ze;Nv=1;var a=ym();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var l=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ze.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,m)},ze.flushSync=function(d){var f=l.T,m=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=f,i.p=m,i.d.f()}},ze.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},ze.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},ze.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=u(m,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:x}):m==="script"&&i.d.X(d,{crossOrigin:p,integrity:b,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ze.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=u(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},ze.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=u(m,f.crossOrigin);i.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ze.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=u(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},ze.requestFormReset=function(d){i.d.r(d)},ze.unstable_batchedUpdates=function(d,f){return d(f)},ze.useFormState=function(d,f,m){return l.H.useFormState(d,f,m)},ze.useFormStatus=function(){return l.H.useHostTransitionStatus()},ze.version="19.2.3",ze}var Mv;function _E(){if(Mv)return ef.exports;Mv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),ef.exports=CE(),ef.exports}var Rv;function NE(){if(Rv)return vo;Rv=1;var a=TE(),t=ym(),e=_E();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,c=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(c=s.return),n=s.return;while(n)}return s.tag===3?c:null}function l(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function u(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(o(n)!==n)throw Error(i(188))}function f(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(i(188));return s!==n?null:n}for(var c=n,h=s;;){var g=c.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===c)return d(g),n;if(v===h)return d(g),s;v=v.sibling}throw Error(i(188))}if(c.return!==h.return)c=g,h=v;else{for(var S=!1,C=g.child;C;){if(C===c){S=!0,c=g,h=v;break}if(C===h){S=!0,h=g,c=v;break}C=C.sibling}if(!S){for(C=v.child;C;){if(C===c){S=!0,c=v,h=g;break}if(C===h){S=!0,h=v,c=g;break}C=C.sibling}if(!S)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?n:s}function m(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=m(n),s!==null)return s;n=n.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),N=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function at(n){return n===null||typeof n!="object"?null:(n=J&&n[J]||n["@@iterator"],typeof n=="function"?n:null)}var ft=Symbol.for("react.client.reference");function rt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ft?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case E:return"Profiler";case T:return"StrictMode";case D:return"Suspense";case L:return"SuspenseList";case H:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case N:return n.displayName||"Context";case _:return(n._context.displayName||"Context")+".Consumer";case R:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case P:return s=n.displayName||null,s!==null?s:rt(n.type)||"Memo";case F:s=n._payload,n=n._init;try{return rt(n(s))}catch{}}return null}var vt=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},lt=[],xt=-1;function k(n){return{current:n}}function $(n){0>xt||(n.current=lt[xt],lt[xt]=null,xt--)}function Z(n,s){xt++,lt[xt]=n.current,n.current=s}var et=k(null),dt=k(null),gt=k(null),ut=k(null);function $t(n,s){switch(Z(gt,s),Z(dt,n),Z(et,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?H0(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=H0(s),n=q0(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$(et),Z(et,n)}function Pt(){$(et),$(dt),$(gt)}function qe(n){n.memoizedState!==null&&Z(ut,n);var s=et.current,c=q0(s,n.type);s!==c&&(Z(dt,n),Z(et,c))}function zt(n){dt.current===n&&($(et),$(dt)),ut.current===n&&($(ut),fo._currentValue=Q)}var ln,Xt;function Lt(n){if(ln===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);ln=s&&s[1]||"",Xt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ln+n+Xt}var Zt=!1;function Te(n,s){if(!n||Zt)return"";Zt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(G){var q=G}Reflect.construct(n,[],K)}else{try{K.call()}catch(G){q=G}n.call(K.prototype)}}else{try{throw Error()}catch(G){q=G}(K=n())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),S=v[0],C=v[1];if(S&&C){var j=S.split(`
`),U=C.split(`
`);for(g=h=0;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;for(;g<U.length&&!U[g].includes("DetermineComponentFrameRoot");)g++;if(h===j.length||g===U.length)for(h=j.length-1,g=U.length-1;1<=h&&0<=g&&j[h]!==U[g];)g--;for(;1<=h&&0<=g;h--,g--)if(j[h]!==U[g]){if(h!==1||g!==1)do if(h--,g--,0>g||j[h]!==U[g]){var X=`
`+j[h].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=h&&0<=g);break}}}finally{Zt=!1,Error.prepareStackTrace=c}return(c=n?n.displayName||n.name:"")?Lt(c):""}function ge(n,s){switch(n.tag){case 26:case 27:case 5:return Lt(n.type);case 16:return Lt("Lazy");case 13:return n.child!==s&&s!==null?Lt("Suspense Fallback"):Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return Te(n.type,!1);case 11:return Te(n.type.render,!1);case 1:return Te(n.type,!0);case 31:return Lt("Activity");default:return""}}function ml(n){try{var s="",c=null;do s+=ge(n,c),c=n,n=n.return;while(n);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var wr=Object.prototype.hasOwnProperty,_s=a.unstable_scheduleCallback,Ar=a.unstable_cancelCallback,ca=a.unstable_shouldYield,Pu=a.unstable_requestPaint,Ge=a.unstable_now,Ou=a.unstable_getCurrentPriorityLevel,pl=a.unstable_ImmediatePriority,gl=a.unstable_UserBlockingPriority,cn=a.unstable_NormalPriority,Hi=a.unstable_LowPriority,Hn=a.unstable_IdlePriority,Sr=a.log,iS=a.unstable_setDisableYieldValue,Er=null,un=null;function qi(n){if(typeof Sr=="function"&&iS(n),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(Er,n)}catch{}}var hn=Math.clz32?Math.clz32:rS,sS=Math.log,aS=Math.LN2;function rS(n){return n>>>=0,n===0?32:31-(sS(n)/aS|0)|0}var yl=256,vl=262144,bl=4194304;function Ns(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function xl(n,s,c){var h=n.pendingLanes;if(h===0)return 0;var g=0,v=n.suspendedLanes,S=n.pingedLanes;n=n.warmLanes;var C=h&134217727;return C!==0?(h=C&~v,h!==0?g=Ns(h):(S&=C,S!==0?g=Ns(S):c||(c=C&~n,c!==0&&(g=Ns(c))))):(C=h&~v,C!==0?g=Ns(C):S!==0?g=Ns(S):c||(c=h&~n,c!==0&&(g=Ns(c)))),g===0?0:s!==0&&s!==g&&(s&v)===0&&(v=g&-g,c=s&-s,v>=c||v===32&&(c&4194048)!==0)?s:g}function Tr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function oS(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ep(){var n=bl;return bl<<=1,(bl&62914560)===0&&(bl=4194304),n}function Bu(n){for(var s=[],c=0;31>c;c++)s.push(n);return s}function Cr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function lS(n,s,c,h,g,v){var S=n.pendingLanes;n.pendingLanes=c,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=c,n.entangledLanes&=c,n.errorRecoveryDisabledLanes&=c,n.shellSuspendCounter=0;var C=n.entanglements,j=n.expirationTimes,U=n.hiddenUpdates;for(c=S&~c;0<c;){var X=31-hn(c),K=1<<X;C[X]=0,j[X]=-1;var q=U[X];if(q!==null)for(U[X]=null,X=0;X<q.length;X++){var G=q[X];G!==null&&(G.lane&=-536870913)}c&=~K}h!==0&&Tp(n,h,0),v!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=v&~(S&~s))}function Tp(n,s,c){n.pendingLanes|=s,n.suspendedLanes&=~s;var h=31-hn(s);n.entangledLanes|=s,n.entanglements[h]=n.entanglements[h]|1073741824|c&261930}function Cp(n,s){var c=n.entangledLanes|=s;for(n=n.entanglements;c;){var h=31-hn(c),g=1<<h;g&s|n[h]&s&&(n[h]|=s),c&=~g}}function _p(n,s){var c=s&-s;return c=(c&42)!==0?1:Fu(c),(c&(n.suspendedLanes|s))!==0?0:c}function Fu(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function zu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Np(){var n=V.p;return n!==0?n:(n=window.event,n===void 0?32:fv(n.type))}function Mp(n,s){var c=V.p;try{return V.p=n,s()}finally{V.p=c}}var Gi=Math.random().toString(36).slice(2),De="__reactFiber$"+Gi,Qe="__reactProps$"+Gi,ua="__reactContainer$"+Gi,Iu="__reactEvents$"+Gi,cS="__reactListeners$"+Gi,uS="__reactHandles$"+Gi,Rp="__reactResources$"+Gi,_r="__reactMarker$"+Gi;function Uu(n){delete n[De],delete n[Qe],delete n[Iu],delete n[cS],delete n[uS]}function ha(n){var s=n[De];if(s)return s;for(var c=n.parentNode;c;){if(s=c[ua]||c[De]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(n=Q0(n);n!==null;){if(c=n[De])return c;n=Q0(n)}return s}n=c,c=n.parentNode}return null}function da(n){if(n=n[De]||n[ua]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Nr(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function fa(n){var s=n[Rp];return s||(s=n[Rp]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ce(n){n[_r]=!0}var Dp=new Set,jp={};function Ms(n,s){ma(n,s),ma(n+"Capture",s)}function ma(n,s){for(jp[n]=s,n=0;n<s.length;n++)Dp.add(s[n])}var hS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kp={},Lp={};function dS(n){return wr.call(Lp,n)?!0:wr.call(kp,n)?!1:hS.test(n)?Lp[n]=!0:(kp[n]=!0,!1)}function wl(n,s,c){if(dS(s))if(c===null)n.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+c)}}function Al(n,s,c){if(c===null)n.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+c)}}function pi(n,s,c,h){if(h===null)n.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(c);return}n.setAttributeNS(s,c,""+h)}}function Sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Pp(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function fS(n,s,c){var h=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,v=h.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(S){c=""+S,v.call(this,S)}}),Object.defineProperty(n,s,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Vu(n){if(!n._valueTracker){var s=Pp(n)?"checked":"value";n._valueTracker=fS(n,s,""+n[s])}}function Op(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var c=s.getValue(),h="";return n&&(h=Pp(n)?n.checked?"true":"false":n.value),n=h,n!==c?(s.setValue(n),!0):!1}function Sl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var mS=/[\n"\\]/g;function En(n){return n.replace(mS,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Hu(n,s,c,h,g,v,S,C){n.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.type=S:n.removeAttribute("type"),s!=null?S==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Sn(s)):n.value!==""+Sn(s)&&(n.value=""+Sn(s)):S!=="submit"&&S!=="reset"||n.removeAttribute("value"),s!=null?qu(n,S,Sn(s)):c!=null?qu(n,S,Sn(c)):h!=null&&n.removeAttribute("value"),g==null&&v!=null&&(n.defaultChecked=!!v),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Sn(C):n.removeAttribute("name")}function Bp(n,s,c,h,g,v,S,C){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),s!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){Vu(n);return}c=c!=null?""+Sn(c):"",s=s!=null?""+Sn(s):c,C||s===n.value||(n.value=s),n.defaultValue=s}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,n.checked=C?n.checked:!!h,n.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.name=S),Vu(n)}function qu(n,s,c){s==="number"&&Sl(n.ownerDocument)===n||n.defaultValue===""+c||(n.defaultValue=""+c)}function pa(n,s,c,h){if(n=n.options,s){s={};for(var g=0;g<c.length;g++)s["$"+c[g]]=!0;for(c=0;c<n.length;c++)g=s.hasOwnProperty("$"+n[c].value),n[c].selected!==g&&(n[c].selected=g),g&&h&&(n[c].defaultSelected=!0)}else{for(c=""+Sn(c),s=null,g=0;g<n.length;g++){if(n[g].value===c){n[g].selected=!0,h&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function Fp(n,s,c){if(s!=null&&(s=""+Sn(s),s!==n.value&&(n.value=s),c==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=c!=null?""+Sn(c):""}function zp(n,s,c,h){if(s==null){if(h!=null){if(c!=null)throw Error(i(92));if(vt(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),s=c}c=Sn(s),n.defaultValue=c,h=n.textContent,h===c&&h!==""&&h!==null&&(n.value=h),Vu(n)}function ga(n,s){if(s){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=s;return}}n.textContent=s}var pS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ip(n,s,c){var h=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":h?n.setProperty(s,c):typeof c!="number"||c===0||pS.has(s)?s==="float"?n.cssFloat=c:n[s]=(""+c).trim():n[s]=c+"px"}function Up(n,s,c){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?n.setProperty(h,""):h==="float"?n.cssFloat="":n[h]="");for(var g in s)h=s[g],s.hasOwnProperty(g)&&c[g]!==h&&Ip(n,g,h)}else for(var v in s)s.hasOwnProperty(v)&&Ip(n,v,s[v])}function Gu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function El(n){return yS.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function gi(){}var $u=null;function Xu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ya=null,va=null;function Vp(n){var s=da(n);if(s&&(n=s.stateNode)){var c=n[Qe]||null;t:switch(n=s.stateNode,s.type){case"input":if(Hu(n,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+En(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var h=c[s];if(h!==n&&h.form===n.form){var g=h[Qe]||null;if(!g)throw Error(i(90));Hu(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<c.length;s++)h=c[s],h.form===n.form&&Op(h)}break t;case"textarea":Fp(n,c.value,c.defaultValue);break t;case"select":s=c.value,s!=null&&pa(n,!!c.multiple,s,!1)}}}var Yu=!1;function Hp(n,s,c){if(Yu)return n(s,c);Yu=!0;try{var h=n(s);return h}finally{if(Yu=!1,(ya!==null||va!==null)&&(hc(),ya&&(s=ya,n=va,va=ya=null,Vp(s),n)))for(s=0;s<n.length;s++)Vp(n[s])}}function Mr(n,s){var c=n.stateNode;if(c===null)return null;var h=c[Qe]||null;if(h===null)return null;c=h[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break t;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(i(231,s,typeof c));return c}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wu=!1;if(yi)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){Wu=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{Wu=!1}var $i=null,Ku=null,Tl=null;function qp(){if(Tl)return Tl;var n,s=Ku,c=s.length,h,g="value"in $i?$i.value:$i.textContent,v=g.length;for(n=0;n<c&&s[n]===g[n];n++);var S=c-n;for(h=1;h<=S&&s[c-h]===g[v-h];h++);return Tl=g.slice(n,1<h?1-h:void 0)}function Cl(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function _l(){return!0}function Gp(){return!1}function Ze(n){function s(c,h,g,v,S){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(c=n[C],this[C]=c?c(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?_l:Gp,this.isPropagationStopped=Gp,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),s}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=Ze(Rs),Dr=p({},Rs,{view:0,detail:0}),vS=Ze(Dr),Qu,Zu,jr,Ml=p({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:th,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==jr&&(jr&&n.type==="mousemove"?(Qu=n.screenX-jr.screenX,Zu=n.screenY-jr.screenY):Zu=Qu=0,jr=n),Qu)},movementY:function(n){return"movementY"in n?n.movementY:Zu}}),$p=Ze(Ml),bS=p({},Ml,{dataTransfer:0}),xS=Ze(bS),wS=p({},Dr,{relatedTarget:0}),Ju=Ze(wS),AS=p({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),SS=Ze(AS),ES=p({},Rs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),TS=Ze(ES),CS=p({},Rs,{data:0}),Xp=Ze(CS),_S={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RS(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=MS[n])?!!s[n]:!1}function th(){return RS}var DS=p({},Dr,{key:function(n){if(n.key){var s=_S[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Cl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?NS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:th,charCode:function(n){return n.type==="keypress"?Cl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Cl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),jS=Ze(DS),kS=p({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yp=Ze(kS),LS=p({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:th}),PS=Ze(LS),OS=p({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),BS=Ze(OS),FS=p({},Ml,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),zS=Ze(FS),IS=p({},Rs,{newState:0,oldState:0}),US=Ze(IS),VS=[9,13,27,32],eh=yi&&"CompositionEvent"in window,kr=null;yi&&"documentMode"in document&&(kr=document.documentMode);var HS=yi&&"TextEvent"in window&&!kr,Wp=yi&&(!eh||kr&&8<kr&&11>=kr),Kp=" ",Qp=!1;function Zp(n,s){switch(n){case"keyup":return VS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ba=!1;function qS(n,s){switch(n){case"compositionend":return Jp(s);case"keypress":return s.which!==32?null:(Qp=!0,Kp);case"textInput":return n=s.data,n===Kp&&Qp?null:n;default:return null}}function GS(n,s){if(ba)return n==="compositionend"||!eh&&Zp(n,s)?(n=qp(),Tl=Ku=$i=null,ba=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wp&&s.locale!=="ko"?null:s.data;default:return null}}var $S={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tg(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!$S[n.type]:s==="textarea"}function eg(n,s,c,h){ya?va?va.push(h):va=[h]:ya=h,s=vc(s,"onChange"),0<s.length&&(c=new Nl("onChange","change",null,c,h),n.push({event:c,listeners:s}))}var Lr=null,Pr=null;function XS(n){B0(n,0)}function Rl(n){var s=Nr(n);if(Op(s))return n}function ng(n,s){if(n==="change")return s}var ig=!1;if(yi){var nh;if(yi){var ih="oninput"in document;if(!ih){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),ih=typeof sg.oninput=="function"}nh=ih}else nh=!1;ig=nh&&(!document.documentMode||9<document.documentMode)}function ag(){Lr&&(Lr.detachEvent("onpropertychange",rg),Pr=Lr=null)}function rg(n){if(n.propertyName==="value"&&Rl(Pr)){var s=[];eg(s,Pr,n,Xu(n)),Hp(XS,s)}}function YS(n,s,c){n==="focusin"?(ag(),Lr=s,Pr=c,Lr.attachEvent("onpropertychange",rg)):n==="focusout"&&ag()}function WS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Rl(Pr)}function KS(n,s){if(n==="click")return Rl(s)}function QS(n,s){if(n==="input"||n==="change")return Rl(s)}function ZS(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var dn=typeof Object.is=="function"?Object.is:ZS;function Or(n,s){if(dn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var c=Object.keys(n),h=Object.keys(s);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!wr.call(s,g)||!dn(n[g],s[g]))return!1}return!0}function og(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function lg(n,s){var c=og(n);n=0;for(var h;c;){if(c.nodeType===3){if(h=n+c.textContent.length,n<=s&&h>=s)return{node:c,offset:s-n};n=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=og(c)}}function cg(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?cg(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function ug(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Sl(n.document);s instanceof n.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)n=s.contentWindow;else break;s=Sl(n.document)}return s}function sh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var JS=yi&&"documentMode"in document&&11>=document.documentMode,xa=null,ah=null,Br=null,rh=!1;function hg(n,s,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;rh||xa==null||xa!==Sl(h)||(h=xa,"selectionStart"in h&&sh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Br&&Or(Br,h)||(Br=h,h=vc(ah,"onSelect"),0<h.length&&(s=new Nl("onSelect","select",null,s,c),n.push({event:s,listeners:h}),s.target=xa)))}function Ds(n,s){var c={};return c[n.toLowerCase()]=s.toLowerCase(),c["Webkit"+n]="webkit"+s,c["Moz"+n]="moz"+s,c}var wa={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},oh={},dg={};yi&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function js(n){if(oh[n])return oh[n];if(!wa[n])return n;var s=wa[n],c;for(c in s)if(s.hasOwnProperty(c)&&c in dg)return oh[n]=s[c];return n}var fg=js("animationend"),mg=js("animationiteration"),pg=js("animationstart"),t2=js("transitionrun"),e2=js("transitionstart"),n2=js("transitioncancel"),gg=js("transitionend"),yg=new Map,lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lh.push("scrollEnd");function qn(n,s){yg.set(n,s),Ms(s,[n])}var Dl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Tn=[],Aa=0,ch=0;function jl(){for(var n=Aa,s=ch=Aa=0;s<n;){var c=Tn[s];Tn[s++]=null;var h=Tn[s];Tn[s++]=null;var g=Tn[s];Tn[s++]=null;var v=Tn[s];if(Tn[s++]=null,h!==null&&g!==null){var S=h.pending;S===null?g.next=g:(g.next=S.next,S.next=g),h.pending=g}v!==0&&vg(c,g,v)}}function kl(n,s,c,h){Tn[Aa++]=n,Tn[Aa++]=s,Tn[Aa++]=c,Tn[Aa++]=h,ch|=h,n.lanes|=h,n=n.alternate,n!==null&&(n.lanes|=h)}function uh(n,s,c,h){return kl(n,s,c,h),Ll(n)}function ks(n,s){return kl(n,null,null,s),Ll(n)}function vg(n,s,c){n.lanes|=c;var h=n.alternate;h!==null&&(h.lanes|=c);for(var g=!1,v=n.return;v!==null;)v.childLanes|=c,h=v.alternate,h!==null&&(h.childLanes|=c),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(g=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,g&&s!==null&&(g=31-hn(c),n=v.hiddenUpdates,h=n[g],h===null?n[g]=[s]:h.push(s),s.lane=c|536870912),v):null}function Ll(n){if(50<ao)throw ao=0,bd=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Sa={};function i2(n,s,c,h){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(n,s,c,h){return new i2(n,s,c,h)}function hh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function vi(n,s){var c=n.alternate;return c===null?(c=fn(n.tag,s,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=s,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&65011712,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,s=n.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c.refCleanup=n.refCleanup,c}function bg(n,s){n.flags&=65011714;var c=n.alternate;return c===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=c.childLanes,n.lanes=c.lanes,n.child=c.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=c.memoizedProps,n.memoizedState=c.memoizedState,n.updateQueue=c.updateQueue,n.type=c.type,s=c.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Pl(n,s,c,h,g,v){var S=0;if(h=n,typeof n=="function")hh(n)&&(S=1);else if(typeof n=="string")S=lE(n,c,et.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case H:return n=fn(31,c,s,g),n.elementType=H,n.lanes=v,n;case A:return Ls(c.children,g,v,s);case T:S=8,g|=24;break;case E:return n=fn(12,c,s,g|2),n.elementType=E,n.lanes=v,n;case D:return n=fn(13,c,s,g),n.elementType=D,n.lanes=v,n;case L:return n=fn(19,c,s,g),n.elementType=L,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case N:S=10;break t;case _:S=9;break t;case R:S=11;break t;case P:S=14;break t;case F:S=16,h=null;break t}S=29,c=Error(i(130,n===null?"null":typeof n,"")),h=null}return s=fn(S,c,s,g),s.elementType=n,s.type=h,s.lanes=v,s}function Ls(n,s,c,h){return n=fn(7,n,h,s),n.lanes=c,n}function dh(n,s,c){return n=fn(6,n,null,s),n.lanes=c,n}function xg(n){var s=fn(18,null,null,0);return s.stateNode=n,s}function fh(n,s,c){return s=fn(4,n.children!==null?n.children:[],n.key,s),s.lanes=c,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var wg=new WeakMap;function Cn(n,s){if(typeof n=="object"&&n!==null){var c=wg.get(n);return c!==void 0?c:(s={value:n,source:s,stack:ml(s)},wg.set(n,s),s)}return{value:n,source:s,stack:ml(s)}}var Ea=[],Ta=0,Ol=null,Fr=0,_n=[],Nn=0,Xi=null,Zn=1,Jn="";function bi(n,s){Ea[Ta++]=Fr,Ea[Ta++]=Ol,Ol=n,Fr=s}function Ag(n,s,c){_n[Nn++]=Zn,_n[Nn++]=Jn,_n[Nn++]=Xi,Xi=n;var h=Zn;n=Jn;var g=32-hn(h)-1;h&=~(1<<g),c+=1;var v=32-hn(s)+g;if(30<v){var S=g-g%5;v=(h&(1<<S)-1).toString(32),h>>=S,g-=S,Zn=1<<32-hn(s)+g|c<<g|h,Jn=v+n}else Zn=1<<v|c<<g|h,Jn=n}function mh(n){n.return!==null&&(bi(n,1),Ag(n,1,0))}function ph(n){for(;n===Ol;)Ol=Ea[--Ta],Ea[Ta]=null,Fr=Ea[--Ta],Ea[Ta]=null;for(;n===Xi;)Xi=_n[--Nn],_n[Nn]=null,Jn=_n[--Nn],_n[Nn]=null,Zn=_n[--Nn],_n[Nn]=null}function Sg(n,s){_n[Nn++]=Zn,_n[Nn++]=Jn,_n[Nn++]=Xi,Zn=s.id,Jn=s.overflow,Xi=n}var je=null,Jt=null,jt=!1,Yi=null,Mn=!1,gh=Error(i(519));function Wi(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zr(Cn(s,n)),gh}function Eg(n){var s=n.stateNode,c=n.type,h=n.memoizedProps;switch(s[De]=n,s[Qe]=h,c){case"dialog":Nt("cancel",s),Nt("close",s);break;case"iframe":case"object":case"embed":Nt("load",s);break;case"video":case"audio":for(c=0;c<oo.length;c++)Nt(oo[c],s);break;case"source":Nt("error",s);break;case"img":case"image":case"link":Nt("error",s),Nt("load",s);break;case"details":Nt("toggle",s);break;case"input":Nt("invalid",s),Bp(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Nt("invalid",s);break;case"textarea":Nt("invalid",s),zp(s,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||h.suppressHydrationWarning===!0||U0(s.textContent,c)?(h.popover!=null&&(Nt("beforetoggle",s),Nt("toggle",s)),h.onScroll!=null&&Nt("scroll",s),h.onScrollEnd!=null&&Nt("scrollend",s),h.onClick!=null&&(s.onclick=gi),s=!0):s=!1,s||Wi(n,!0)}function Tg(n){for(je=n.return;je;)switch(je.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:je=je.return}}function Ca(n){if(n!==je)return!1;if(!jt)return Tg(n),jt=!0,!1;var s=n.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=n.type,c=!(c!=="form"&&c!=="button")||Ld(n.type,n.memoizedProps)),c=!c),c&&Jt&&Wi(n),Tg(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Jt=K0(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Jt=K0(n)}else s===27?(s=Jt,cs(n.type)?(n=zd,zd=null,Jt=n):Jt=s):Jt=je?Dn(n.stateNode.nextSibling):null;return!0}function Ps(){Jt=je=null,jt=!1}function yh(){var n=Yi;return n!==null&&(nn===null?nn=n:nn.push.apply(nn,n),Yi=null),n}function zr(n){Yi===null?Yi=[n]:Yi.push(n)}var vh=k(null),Os=null,xi=null;function Ki(n,s,c){Z(vh,s._currentValue),s._currentValue=c}function wi(n){n._currentValue=vh.current,$(vh)}function bh(n,s,c){for(;n!==null;){var h=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),n===c)break;n=n.return}}function xh(n,s,c,h){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var v=g.dependencies;if(v!==null){var S=g.child;v=v.firstContext;t:for(;v!==null;){var C=v;v=g;for(var j=0;j<s.length;j++)if(C.context===s[j]){v.lanes|=c,C=v.alternate,C!==null&&(C.lanes|=c),bh(v.return,c,n),h||(S=null);break t}v=C.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(i(341));S.lanes|=c,v=S.alternate,v!==null&&(v.lanes|=c),bh(S,c,n),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===n){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function _a(n,s,c,h){n=null;for(var g=s,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var C=g.type;dn(g.pendingProps.value,S.value)||(n!==null?n.push(C):n=[C])}}else if(g===ut.current){if(S=g.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(fo):n=[fo])}g=g.return}n!==null&&xh(s,n,c,h),s.flags|=262144}function Bl(n){for(n=n.firstContext;n!==null;){if(!dn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Bs(n){Os=n,xi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ke(n){return Cg(Os,n)}function Fl(n,s){return Os===null&&Bs(n),Cg(n,s)}function Cg(n,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},xi===null){if(n===null)throw Error(i(308));xi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else xi=xi.next=s;return c}var s2=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(c,h){n.push(h)}};this.abort=function(){s.aborted=!0,n.forEach(function(c){return c()})}},a2=a.unstable_scheduleCallback,r2=a.unstable_NormalPriority,ye={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wh(){return{controller:new s2,data:new Map,refCount:0}}function Ir(n){n.refCount--,n.refCount===0&&a2(r2,function(){n.controller.abort()})}var Ur=null,Ah=0,Na=0,Ma=null;function o2(n,s){if(Ur===null){var c=Ur=[];Ah=0,Na=Td(),Ma={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Ah++,s.then(_g,_g),s}function _g(){if(--Ah===0&&Ur!==null){Ma!==null&&(Ma.status="fulfilled");var n=Ur;Ur=null,Na=0,Ma=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function l2(n,s){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return n.then(function(){h.status="fulfilled",h.value=s;for(var g=0;g<c.length;g++)(0,c[g])(s)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var Ng=B.S;B.S=function(n,s){h0=Ge(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&o2(n,s),Ng!==null&&Ng(n,s)};var Fs=k(null);function Sh(){var n=Fs.current;return n!==null?n:Yt.pooledCache}function zl(n,s){s===null?Z(Fs,Fs.current):Z(Fs,s.pool)}function Mg(){var n=Sh();return n===null?null:{parent:ye._currentValue,pool:n}}var Ra=Error(i(460)),Eh=Error(i(474)),Il=Error(i(542)),Ul={then:function(){}};function Rg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Dg(n,s,c){switch(c=n[c],c===void 0?n.push(s):c!==s&&(s.then(gi,gi),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,kg(n),n;default:if(typeof s.status=="string")s.then(gi,gi);else{if(n=Yt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(h){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=h}},function(h){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,kg(n),n}throw Is=s,Ra}}function zs(n){try{var s=n._init;return s(n._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Is=c,Ra):c}}var Is=null;function jg(){if(Is===null)throw Error(i(459));var n=Is;return Is=null,n}function kg(n){if(n===Ra||n===Il)throw Error(i(483))}var Da=null,Vr=0;function Vl(n){var s=Vr;return Vr+=1,Da===null&&(Da=[]),Dg(Da,n,s)}function Hr(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Hl(n,s){throw s.$$typeof===b?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Lg(n){function s(z,O){if(n){var I=z.deletions;I===null?(z.deletions=[O],z.flags|=16):I.push(O)}}function c(z,O){if(!n)return null;for(;O!==null;)s(z,O),O=O.sibling;return null}function h(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function g(z,O){return z=vi(z,O),z.index=0,z.sibling=null,z}function v(z,O,I){return z.index=I,n?(I=z.alternate,I!==null?(I=I.index,I<O?(z.flags|=67108866,O):I):(z.flags|=67108866,O)):(z.flags|=1048576,O)}function S(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function C(z,O,I,W){return O===null||O.tag!==6?(O=dh(I,z.mode,W),O.return=z,O):(O=g(O,I),O.return=z,O)}function j(z,O,I,W){var mt=I.type;return mt===A?X(z,O,I.props.children,W,I.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===F&&zs(mt)===O.type)?(O=g(O,I.props),Hr(O,I),O.return=z,O):(O=Pl(I.type,I.key,I.props,null,z.mode,W),Hr(O,I),O.return=z,O)}function U(z,O,I,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==I.containerInfo||O.stateNode.implementation!==I.implementation?(O=fh(I,z.mode,W),O.return=z,O):(O=g(O,I.children||[]),O.return=z,O)}function X(z,O,I,W,mt){return O===null||O.tag!==7?(O=Ls(I,z.mode,W,mt),O.return=z,O):(O=g(O,I),O.return=z,O)}function K(z,O,I){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=dh(""+O,z.mode,I),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case x:return I=Pl(O.type,O.key,O.props,null,z.mode,I),Hr(I,O),I.return=z,I;case w:return O=fh(O,z.mode,I),O.return=z,O;case F:return O=zs(O),K(z,O,I)}if(vt(O)||at(O))return O=Ls(O,z.mode,I,null),O.return=z,O;if(typeof O.then=="function")return K(z,Vl(O),I);if(O.$$typeof===N)return K(z,Fl(z,O),I);Hl(z,O)}return null}function q(z,O,I,W){var mt=O!==null?O.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return mt!==null?null:C(z,O,""+I,W);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case x:return I.key===mt?j(z,O,I,W):null;case w:return I.key===mt?U(z,O,I,W):null;case F:return I=zs(I),q(z,O,I,W)}if(vt(I)||at(I))return mt!==null?null:X(z,O,I,W,null);if(typeof I.then=="function")return q(z,O,Vl(I),W);if(I.$$typeof===N)return q(z,O,Fl(z,I),W);Hl(z,I)}return null}function G(z,O,I,W,mt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(I)||null,C(O,z,""+W,mt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return z=z.get(W.key===null?I:W.key)||null,j(O,z,W,mt);case w:return z=z.get(W.key===null?I:W.key)||null,U(O,z,W,mt);case F:return W=zs(W),G(z,O,I,W,mt)}if(vt(W)||at(W))return z=z.get(I)||null,X(O,z,W,mt,null);if(typeof W.then=="function")return G(z,O,I,Vl(W),mt);if(W.$$typeof===N)return G(z,O,I,Fl(O,W),mt);Hl(O,W)}return null}function st(z,O,I,W){for(var mt=null,Ot=null,ct=O,Tt=O=0,Rt=null;ct!==null&&Tt<I.length;Tt++){ct.index>Tt?(Rt=ct,ct=null):Rt=ct.sibling;var Bt=q(z,ct,I[Tt],W);if(Bt===null){ct===null&&(ct=Rt);break}n&&ct&&Bt.alternate===null&&s(z,ct),O=v(Bt,O,Tt),Ot===null?mt=Bt:Ot.sibling=Bt,Ot=Bt,ct=Rt}if(Tt===I.length)return c(z,ct),jt&&bi(z,Tt),mt;if(ct===null){for(;Tt<I.length;Tt++)ct=K(z,I[Tt],W),ct!==null&&(O=v(ct,O,Tt),Ot===null?mt=ct:Ot.sibling=ct,Ot=ct);return jt&&bi(z,Tt),mt}for(ct=h(ct);Tt<I.length;Tt++)Rt=G(ct,z,Tt,I[Tt],W),Rt!==null&&(n&&Rt.alternate!==null&&ct.delete(Rt.key===null?Tt:Rt.key),O=v(Rt,O,Tt),Ot===null?mt=Rt:Ot.sibling=Rt,Ot=Rt);return n&&ct.forEach(function(ms){return s(z,ms)}),jt&&bi(z,Tt),mt}function yt(z,O,I,W){if(I==null)throw Error(i(151));for(var mt=null,Ot=null,ct=O,Tt=O=0,Rt=null,Bt=I.next();ct!==null&&!Bt.done;Tt++,Bt=I.next()){ct.index>Tt?(Rt=ct,ct=null):Rt=ct.sibling;var ms=q(z,ct,Bt.value,W);if(ms===null){ct===null&&(ct=Rt);break}n&&ct&&ms.alternate===null&&s(z,ct),O=v(ms,O,Tt),Ot===null?mt=ms:Ot.sibling=ms,Ot=ms,ct=Rt}if(Bt.done)return c(z,ct),jt&&bi(z,Tt),mt;if(ct===null){for(;!Bt.done;Tt++,Bt=I.next())Bt=K(z,Bt.value,W),Bt!==null&&(O=v(Bt,O,Tt),Ot===null?mt=Bt:Ot.sibling=Bt,Ot=Bt);return jt&&bi(z,Tt),mt}for(ct=h(ct);!Bt.done;Tt++,Bt=I.next())Bt=G(ct,z,Tt,Bt.value,W),Bt!==null&&(n&&Bt.alternate!==null&&ct.delete(Bt.key===null?Tt:Bt.key),O=v(Bt,O,Tt),Ot===null?mt=Bt:Ot.sibling=Bt,Ot=Bt);return n&&ct.forEach(function(bE){return s(z,bE)}),jt&&bi(z,Tt),mt}function qt(z,O,I,W){if(typeof I=="object"&&I!==null&&I.type===A&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case x:t:{for(var mt=I.key;O!==null;){if(O.key===mt){if(mt=I.type,mt===A){if(O.tag===7){c(z,O.sibling),W=g(O,I.props.children),W.return=z,z=W;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===F&&zs(mt)===O.type){c(z,O.sibling),W=g(O,I.props),Hr(W,I),W.return=z,z=W;break t}c(z,O);break}else s(z,O);O=O.sibling}I.type===A?(W=Ls(I.props.children,z.mode,W,I.key),W.return=z,z=W):(W=Pl(I.type,I.key,I.props,null,z.mode,W),Hr(W,I),W.return=z,z=W)}return S(z);case w:t:{for(mt=I.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===I.containerInfo&&O.stateNode.implementation===I.implementation){c(z,O.sibling),W=g(O,I.children||[]),W.return=z,z=W;break t}else{c(z,O);break}else s(z,O);O=O.sibling}W=fh(I,z.mode,W),W.return=z,z=W}return S(z);case F:return I=zs(I),qt(z,O,I,W)}if(vt(I))return st(z,O,I,W);if(at(I)){if(mt=at(I),typeof mt!="function")throw Error(i(150));return I=mt.call(I),yt(z,O,I,W)}if(typeof I.then=="function")return qt(z,O,Vl(I),W);if(I.$$typeof===N)return qt(z,O,Fl(z,I),W);Hl(z,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,O!==null&&O.tag===6?(c(z,O.sibling),W=g(O,I),W.return=z,z=W):(c(z,O),W=dh(I,z.mode,W),W.return=z,z=W),S(z)):c(z,O)}return function(z,O,I,W){try{Vr=0;var mt=qt(z,O,I,W);return Da=null,mt}catch(ct){if(ct===Ra||ct===Il)throw ct;var Ot=fn(29,ct,null,z.mode);return Ot.lanes=W,Ot.return=z,Ot}}}var Us=Lg(!0),Pg=Lg(!1),Qi=!1;function Th(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ch(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Zi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ji(n,s,c){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Ft&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,s=Ll(n),vg(n,null,c),s}return kl(n,h,s,c),Ll(n)}function qr(n,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var h=s.lanes;h&=n.pendingLanes,c|=h,s.lanes=c,Cp(n,c)}}function _h(n,s){var c=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?g=v=S:v=v.next=S,c=c.next}while(c!==null);v===null?g=v=s:v=v.next=s}else g=v=s;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=s:n.next=s,c.lastBaseUpdate=s}var Nh=!1;function Gr(){if(Nh){var n=Ma;if(n!==null)throw n}}function $r(n,s,c,h){Nh=!1;var g=n.updateQueue;Qi=!1;var v=g.firstBaseUpdate,S=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var j=C,U=j.next;j.next=null,S===null?v=U:S.next=U,S=j;var X=n.alternate;X!==null&&(X=X.updateQueue,C=X.lastBaseUpdate,C!==S&&(C===null?X.firstBaseUpdate=U:C.next=U,X.lastBaseUpdate=j))}if(v!==null){var K=g.baseState;S=0,X=U=j=null,C=v;do{var q=C.lane&-536870913,G=q!==C.lane;if(G?(Mt&q)===q:(h&q)===q){q!==0&&q===Na&&(Nh=!0),X!==null&&(X=X.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var st=n,yt=C;q=s;var qt=c;switch(yt.tag){case 1:if(st=yt.payload,typeof st=="function"){K=st.call(qt,K,q);break t}K=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=yt.payload,q=typeof st=="function"?st.call(qt,K,q):st,q==null)break t;K=p({},K,q);break t;case 2:Qi=!0}}q=C.callback,q!==null&&(n.flags|=64,G&&(n.flags|=8192),G=g.callbacks,G===null?g.callbacks=[q]:G.push(q))}else G={lane:q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},X===null?(U=X=G,j=K):X=X.next=G,S|=q;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;G=C,C=G.next,G.next=null,g.lastBaseUpdate=G,g.shared.pending=null}}while(!0);X===null&&(j=K),g.baseState=j,g.firstBaseUpdate=U,g.lastBaseUpdate=X,v===null&&(g.shared.lanes=0),ss|=S,n.lanes=S,n.memoizedState=K}}function Og(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function Bg(n,s){var c=n.callbacks;if(c!==null)for(n.callbacks=null,n=0;n<c.length;n++)Og(c[n],s)}var ja=k(null),ql=k(0);function Fg(n,s){n=Ri,Z(ql,n),Z(ja,s),Ri=n|s.baseLanes}function Mh(){Z(ql,Ri),Z(ja,ja.current)}function Rh(){Ri=ql.current,$(ja),$(ql)}var mn=k(null),Rn=null;function ts(n){var s=n.alternate;Z(de,de.current&1),Z(mn,n),Rn===null&&(s===null||ja.current!==null||s.memoizedState!==null)&&(Rn=n)}function Dh(n){Z(de,de.current),Z(mn,n),Rn===null&&(Rn=n)}function zg(n){n.tag===22?(Z(de,de.current),Z(mn,n),Rn===null&&(Rn=n)):es()}function es(){Z(de,de.current),Z(mn,mn.current)}function pn(n){$(mn),Rn===n&&(Rn=null),$(de)}var de=k(0);function Gl(n){for(var s=n;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Bd(c)||Fd(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ai=0,Et=null,Vt=null,ve=null,$l=!1,ka=!1,Vs=!1,Xl=0,Xr=0,La=null,c2=0;function ce(){throw Error(i(321))}function jh(n,s){if(s===null)return!1;for(var c=0;c<s.length&&c<n.length;c++)if(!dn(n[c],s[c]))return!1;return!0}function kh(n,s,c,h,g,v){return Ai=v,Et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=n===null||n.memoizedState===null?Ay:Yh,Vs=!1,v=c(h,g),Vs=!1,ka&&(v=Ug(s,c,h,g)),Ig(n),v}function Ig(n){B.H=Kr;var s=Vt!==null&&Vt.next!==null;if(Ai=0,ve=Vt=Et=null,$l=!1,Xr=0,La=null,s)throw Error(i(300));n===null||be||(n=n.dependencies,n!==null&&Bl(n)&&(be=!0))}function Ug(n,s,c,h){Et=n;var g=0;do{if(ka&&(La=null),Xr=0,ka=!1,25<=g)throw Error(i(301));if(g+=1,ve=Vt=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}B.H=Sy,v=s(c,h)}while(ka);return v}function u2(){var n=B.H,s=n.useState()[0];return s=typeof s.then=="function"?Yr(s):s,n=n.useState()[0],(Vt!==null?Vt.memoizedState:null)!==n&&(Et.flags|=1024),s}function Lh(){var n=Xl!==0;return Xl=0,n}function Ph(n,s,c){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~c}function Oh(n){if($l){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}$l=!1}Ai=0,ve=Vt=Et=null,ka=!1,Xr=Xl=0,La=null}function $e(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?Et.memoizedState=ve=n:ve=ve.next=n,ve}function fe(){if(Vt===null){var n=Et.alternate;n=n!==null?n.memoizedState:null}else n=Vt.next;var s=ve===null?Et.memoizedState:ve.next;if(s!==null)ve=s,Vt=n;else{if(n===null)throw Et.alternate===null?Error(i(467)):Error(i(310));Vt=n,n={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},ve===null?Et.memoizedState=ve=n:ve=ve.next=n}return ve}function Yl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yr(n){var s=Xr;return Xr+=1,La===null&&(La=[]),n=Dg(La,n,s),s=Et,(ve===null?s.memoizedState:ve.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?Ay:Yh),n}function Wl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Yr(n);if(n.$$typeof===N)return ke(n)}throw Error(i(438,String(n)))}function Bh(n){var s=null,c=Et.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var h=Et.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Yl(),Et.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(n),h=0;h<n;h++)c[h]=Y;return s.index++,c}function Si(n,s){return typeof s=="function"?s(n):s}function Kl(n){var s=fe();return Fh(s,Vt,n)}function Fh(n,s,c){var h=n.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var g=n.baseQueue,v=h.pending;if(v!==null){if(g!==null){var S=g.next;g.next=v.next,v.next=S}s.baseQueue=g=v,h.pending=null}if(v=n.baseState,g===null)n.memoizedState=v;else{s=g.next;var C=S=null,j=null,U=s,X=!1;do{var K=U.lane&-536870913;if(K!==U.lane?(Mt&K)===K:(Ai&K)===K){var q=U.revertLane;if(q===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),K===Na&&(X=!0);else if((Ai&q)===q){U=U.next,q===Na&&(X=!0);continue}else K={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},j===null?(C=j=K,S=v):j=j.next=K,Et.lanes|=q,ss|=q;K=U.action,Vs&&c(v,K),v=U.hasEagerState?U.eagerState:c(v,K)}else q={lane:K,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},j===null?(C=j=q,S=v):j=j.next=q,Et.lanes|=K,ss|=K;U=U.next}while(U!==null&&U!==s);if(j===null?S=v:j.next=C,!dn(v,n.memoizedState)&&(be=!0,X&&(c=Ma,c!==null)))throw c;n.memoizedState=v,n.baseState=S,n.baseQueue=j,h.lastRenderedState=v}return g===null&&(h.lanes=0),[n.memoizedState,h.dispatch]}function zh(n){var s=fe(),c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=n;var h=c.dispatch,g=c.pending,v=s.memoizedState;if(g!==null){c.pending=null;var S=g=g.next;do v=n(v,S.action),S=S.next;while(S!==g);dn(v,s.memoizedState)||(be=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),c.lastRenderedState=v}return[v,h]}function Vg(n,s,c){var h=Et,g=fe(),v=jt;if(v){if(c===void 0)throw Error(i(407));c=c()}else c=s();var S=!dn((Vt||g).memoizedState,c);if(S&&(g.memoizedState=c,be=!0),g=g.queue,Vh(Gg.bind(null,h,g,n),[n]),g.getSnapshot!==s||S||ve!==null&&ve.memoizedState.tag&1){if(h.flags|=2048,Pa(9,{destroy:void 0},qg.bind(null,h,g,c,s),null),Yt===null)throw Error(i(349));v||(Ai&127)!==0||Hg(h,s,c)}return c}function Hg(n,s,c){n.flags|=16384,n={getSnapshot:s,value:c},s=Et.updateQueue,s===null?(s=Yl(),Et.updateQueue=s,s.stores=[n]):(c=s.stores,c===null?s.stores=[n]:c.push(n))}function qg(n,s,c,h){s.value=c,s.getSnapshot=h,$g(s)&&Xg(n)}function Gg(n,s,c){return c(function(){$g(s)&&Xg(n)})}function $g(n){var s=n.getSnapshot;n=n.value;try{var c=s();return!dn(n,c)}catch{return!0}}function Xg(n){var s=ks(n,2);s!==null&&sn(s,n,2)}function Ih(n){var s=$e();if(typeof n=="function"){var c=n;if(n=c(),Vs){qi(!0);try{c()}finally{qi(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:n},s}function Yg(n,s,c,h){return n.baseState=c,Fh(n,Vt,typeof h=="function"?h:Si)}function h2(n,s,c,h,g){if(Jl(n))throw Error(i(485));if(n=s.action,n!==null){var v={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};B.T!==null?c(!0):v.isTransition=!1,h(v),c=s.pending,c===null?(v.next=s.pending=v,Wg(s,v)):(v.next=c.next,s.pending=c.next=v)}}function Wg(n,s){var c=s.action,h=s.payload,g=n.state;if(s.isTransition){var v=B.T,S={};B.T=S;try{var C=c(g,h),j=B.S;j!==null&&j(S,C),Kg(n,s,C)}catch(U){Uh(n,s,U)}finally{v!==null&&S.types!==null&&(v.types=S.types),B.T=v}}else try{v=c(g,h),Kg(n,s,v)}catch(U){Uh(n,s,U)}}function Kg(n,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){Qg(n,s,h)},function(h){return Uh(n,s,h)}):Qg(n,s,c)}function Qg(n,s,c){s.status="fulfilled",s.value=c,Zg(s),n.state=c,s=n.pending,s!==null&&(c=s.next,c===s?n.pending=null:(c=c.next,s.next=c,Wg(n,c)))}function Uh(n,s,c){var h=n.pending;if(n.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=c,Zg(s),s=s.next;while(s!==h)}n.action=null}function Zg(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Jg(n,s){return s}function ty(n,s){if(jt){var c=Yt.formState;if(c!==null){t:{var h=Et;if(jt){if(Jt){e:{for(var g=Jt,v=Mn;g.nodeType!==8;){if(!v){g=null;break e}if(g=Dn(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Jt=Dn(g.nextSibling),h=g.data==="F!";break t}}Wi(h)}h=!1}h&&(s=c[0])}}return c=$e(),c.memoizedState=c.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:s},c.queue=h,c=by.bind(null,Et,h),h.dispatch=c,h=Ih(!1),v=Xh.bind(null,Et,!1,h.queue),h=$e(),g={state:s,dispatch:null,action:n,pending:null},h.queue=g,c=h2.bind(null,Et,g,v,c),g.dispatch=c,h.memoizedState=n,[s,c,!1]}function ey(n){var s=fe();return ny(s,Vt,n)}function ny(n,s,c){if(s=Fh(n,s,Jg)[0],n=Kl(Si)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Yr(s)}catch(S){throw S===Ra?Il:S}else h=s;s=fe();var g=s.queue,v=g.dispatch;return c!==s.memoizedState&&(Et.flags|=2048,Pa(9,{destroy:void 0},d2.bind(null,g,c),null)),[h,v,n]}function d2(n,s){n.action=s}function iy(n){var s=fe(),c=Vt;if(c!==null)return ny(s,c,n);fe(),s=s.memoizedState,c=fe();var h=c.queue.dispatch;return c.memoizedState=n,[s,h,!1]}function Pa(n,s,c,h){return n={tag:n,create:c,deps:h,inst:s,next:null},s=Et.updateQueue,s===null&&(s=Yl(),Et.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=n.next=n:(h=c.next,c.next=n,n.next=h,s.lastEffect=n),n}function sy(){return fe().memoizedState}function Ql(n,s,c,h){var g=$e();Et.flags|=n,g.memoizedState=Pa(1|s,{destroy:void 0},c,h===void 0?null:h)}function Zl(n,s,c,h){var g=fe();h=h===void 0?null:h;var v=g.memoizedState.inst;Vt!==null&&h!==null&&jh(h,Vt.memoizedState.deps)?g.memoizedState=Pa(s,v,c,h):(Et.flags|=n,g.memoizedState=Pa(1|s,v,c,h))}function ay(n,s){Ql(8390656,8,n,s)}function Vh(n,s){Zl(2048,8,n,s)}function f2(n){Et.flags|=4;var s=Et.updateQueue;if(s===null)s=Yl(),Et.updateQueue=s,s.events=[n];else{var c=s.events;c===null?s.events=[n]:c.push(n)}}function ry(n){var s=fe().memoizedState;return f2({ref:s,nextImpl:n}),function(){if((Ft&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function oy(n,s){return Zl(4,2,n,s)}function ly(n,s){return Zl(4,4,n,s)}function cy(n,s){if(typeof s=="function"){n=n();var c=s(n);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function uy(n,s,c){c=c!=null?c.concat([n]):null,Zl(4,4,cy.bind(null,s,n),c)}function Hh(){}function hy(n,s){var c=fe();s=s===void 0?null:s;var h=c.memoizedState;return s!==null&&jh(s,h[1])?h[0]:(c.memoizedState=[n,s],n)}function dy(n,s){var c=fe();s=s===void 0?null:s;var h=c.memoizedState;if(s!==null&&jh(s,h[1]))return h[0];if(h=n(),Vs){qi(!0);try{n()}finally{qi(!1)}}return c.memoizedState=[h,s],h}function qh(n,s,c){return c===void 0||(Ai&1073741824)!==0&&(Mt&261930)===0?n.memoizedState=s:(n.memoizedState=c,n=f0(),Et.lanes|=n,ss|=n,c)}function fy(n,s,c,h){return dn(c,s)?c:ja.current!==null?(n=qh(n,c,h),dn(n,s)||(be=!0),n):(Ai&42)===0||(Ai&1073741824)!==0&&(Mt&261930)===0?(be=!0,n.memoizedState=c):(n=f0(),Et.lanes|=n,ss|=n,s)}function my(n,s,c,h,g){var v=V.p;V.p=v!==0&&8>v?v:8;var S=B.T,C={};B.T=C,Xh(n,!1,s,c);try{var j=g(),U=B.S;if(U!==null&&U(C,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var X=l2(j,h);Wr(n,s,X,vn(n))}else Wr(n,s,h,vn(n))}catch(K){Wr(n,s,{then:function(){},status:"rejected",reason:K},vn())}finally{V.p=v,S!==null&&C.types!==null&&(S.types=C.types),B.T=S}}function m2(){}function Gh(n,s,c,h){if(n.tag!==5)throw Error(i(476));var g=py(n).queue;my(n,g,s,Q,c===null?m2:function(){return gy(n),c(h)})}function py(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:Q},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:c},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function gy(n){var s=py(n);s.next===null&&(s=n.alternate.memoizedState),Wr(n,s.next.queue,{},vn())}function $h(){return ke(fo)}function yy(){return fe().memoizedState}function vy(){return fe().memoizedState}function p2(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var c=vn();n=Zi(c);var h=Ji(s,n,c);h!==null&&(sn(h,s,c),qr(h,s,c)),s={cache:wh()},n.payload=s;return}s=s.return}}function g2(n,s,c){var h=vn();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Jl(n)?xy(s,c):(c=uh(n,s,c,h),c!==null&&(sn(c,n,h),wy(c,s,h)))}function by(n,s,c){var h=vn();Wr(n,s,c,h)}function Wr(n,s,c,h){var g={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Jl(n))xy(s,g);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var S=s.lastRenderedState,C=v(S,c);if(g.hasEagerState=!0,g.eagerState=C,dn(C,S))return kl(n,s,g,0),Yt===null&&jl(),!1}catch{}if(c=uh(n,s,g,h),c!==null)return sn(c,n,h),wy(c,s,h),!0}return!1}function Xh(n,s,c,h){if(h={lane:2,revertLane:Td(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Jl(n)){if(s)throw Error(i(479))}else s=uh(n,c,h,2),s!==null&&sn(s,n,2)}function Jl(n){var s=n.alternate;return n===Et||s!==null&&s===Et}function xy(n,s){ka=$l=!0;var c=n.pending;c===null?s.next=s:(s.next=c.next,c.next=s),n.pending=s}function wy(n,s,c){if((c&4194048)!==0){var h=s.lanes;h&=n.pendingLanes,c|=h,s.lanes=c,Cp(n,c)}}var Kr={readContext:ke,use:Wl,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Kr.useEffectEvent=ce;var Ay={readContext:ke,use:Wl,useCallback:function(n,s){return $e().memoizedState=[n,s===void 0?null:s],n},useContext:ke,useEffect:ay,useImperativeHandle:function(n,s,c){c=c!=null?c.concat([n]):null,Ql(4194308,4,cy.bind(null,s,n),c)},useLayoutEffect:function(n,s){return Ql(4194308,4,n,s)},useInsertionEffect:function(n,s){Ql(4,2,n,s)},useMemo:function(n,s){var c=$e();s=s===void 0?null:s;var h=n();if(Vs){qi(!0);try{n()}finally{qi(!1)}}return c.memoizedState=[h,s],h},useReducer:function(n,s,c){var h=$e();if(c!==void 0){var g=c(s);if(Vs){qi(!0);try{c(s)}finally{qi(!1)}}}else g=s;return h.memoizedState=h.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},h.queue=n,n=n.dispatch=g2.bind(null,Et,n),[h.memoizedState,n]},useRef:function(n){var s=$e();return n={current:n},s.memoizedState=n},useState:function(n){n=Ih(n);var s=n.queue,c=by.bind(null,Et,s);return s.dispatch=c,[n.memoizedState,c]},useDebugValue:Hh,useDeferredValue:function(n,s){var c=$e();return qh(c,n,s)},useTransition:function(){var n=Ih(!1);return n=my.bind(null,Et,n.queue,!0,!1),$e().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,c){var h=Et,g=$e();if(jt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=s(),Yt===null)throw Error(i(349));(Mt&127)!==0||Hg(h,s,c)}g.memoizedState=c;var v={value:c,getSnapshot:s};return g.queue=v,ay(Gg.bind(null,h,v,n),[n]),h.flags|=2048,Pa(9,{destroy:void 0},qg.bind(null,h,v,c,s),null),c},useId:function(){var n=$e(),s=Yt.identifierPrefix;if(jt){var c=Jn,h=Zn;c=(h&~(1<<32-hn(h)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Xl++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=c2++,s="_"+s+"r_"+c.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:$h,useFormState:ty,useActionState:ty,useOptimistic:function(n){var s=$e();s.memoizedState=s.baseState=n;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Xh.bind(null,Et,!0,c),c.dispatch=s,[n,s]},useMemoCache:Bh,useCacheRefresh:function(){return $e().memoizedState=p2.bind(null,Et)},useEffectEvent:function(n){var s=$e(),c={impl:n};return s.memoizedState=c,function(){if((Ft&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},Yh={readContext:ke,use:Wl,useCallback:hy,useContext:ke,useEffect:Vh,useImperativeHandle:uy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:dy,useReducer:Kl,useRef:sy,useState:function(){return Kl(Si)},useDebugValue:Hh,useDeferredValue:function(n,s){var c=fe();return fy(c,Vt.memoizedState,n,s)},useTransition:function(){var n=Kl(Si)[0],s=fe().memoizedState;return[typeof n=="boolean"?n:Yr(n),s]},useSyncExternalStore:Vg,useId:yy,useHostTransitionStatus:$h,useFormState:ey,useActionState:ey,useOptimistic:function(n,s){var c=fe();return Yg(c,Vt,n,s)},useMemoCache:Bh,useCacheRefresh:vy};Yh.useEffectEvent=ry;var Sy={readContext:ke,use:Wl,useCallback:hy,useContext:ke,useEffect:Vh,useImperativeHandle:uy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:dy,useReducer:zh,useRef:sy,useState:function(){return zh(Si)},useDebugValue:Hh,useDeferredValue:function(n,s){var c=fe();return Vt===null?qh(c,n,s):fy(c,Vt.memoizedState,n,s)},useTransition:function(){var n=zh(Si)[0],s=fe().memoizedState;return[typeof n=="boolean"?n:Yr(n),s]},useSyncExternalStore:Vg,useId:yy,useHostTransitionStatus:$h,useFormState:iy,useActionState:iy,useOptimistic:function(n,s){var c=fe();return Vt!==null?Yg(c,Vt,n,s):(c.baseState=n,[n,c.queue.dispatch])},useMemoCache:Bh,useCacheRefresh:vy};Sy.useEffectEvent=ry;function Wh(n,s,c,h){s=n.memoizedState,c=c(h,s),c=c==null?s:p({},s,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var Kh={enqueueSetState:function(n,s,c){n=n._reactInternals;var h=vn(),g=Zi(h);g.payload=s,c!=null&&(g.callback=c),s=Ji(n,g,h),s!==null&&(sn(s,n,h),qr(s,n,h))},enqueueReplaceState:function(n,s,c){n=n._reactInternals;var h=vn(),g=Zi(h);g.tag=1,g.payload=s,c!=null&&(g.callback=c),s=Ji(n,g,h),s!==null&&(sn(s,n,h),qr(s,n,h))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var c=vn(),h=Zi(c);h.tag=2,s!=null&&(h.callback=s),s=Ji(n,h,c),s!==null&&(sn(s,n,c),qr(s,n,c))}};function Ey(n,s,c,h,g,v,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,v,S):s.prototype&&s.prototype.isPureReactComponent?!Or(c,h)||!Or(g,v):!0}function Ty(n,s,c,h){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,h),s.state!==n&&Kh.enqueueReplaceState(s,s.state,null)}function Hs(n,s){var c=s;if("ref"in s){c={};for(var h in s)h!=="ref"&&(c[h]=s[h])}if(n=n.defaultProps){c===s&&(c=p({},c));for(var g in n)c[g]===void 0&&(c[g]=n[g])}return c}function Cy(n){Dl(n)}function _y(n){console.error(n)}function Ny(n){Dl(n)}function tc(n,s){try{var c=n.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function My(n,s,c){try{var h=n.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Qh(n,s,c){return c=Zi(c),c.tag=3,c.payload={element:null},c.callback=function(){tc(n,s)},c}function Ry(n){return n=Zi(n),n.tag=3,n}function Dy(n,s,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var v=h.value;n.payload=function(){return g(v)},n.callback=function(){My(s,c,h)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){My(s,c,h),typeof g!="function"&&(as===null?as=new Set([this]):as.add(this));var C=h.stack;this.componentDidCatch(h.value,{componentStack:C!==null?C:""})})}function y2(n,s,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=c.alternate,s!==null&&_a(s,c,g,!0),c=mn.current,c!==null){switch(c.tag){case 31:case 13:return Rn===null?dc():c.alternate===null&&ue===0&&(ue=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===Ul?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([h]):s.add(h),Ad(n,h,g)),!1;case 22:return c.flags|=65536,h===Ul?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([h]):c.add(h)),Ad(n,h,g)),!1}throw Error(i(435,c.tag))}return Ad(n,h,g),dc(),!1}if(jt)return s=mn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,h!==gh&&(n=Error(i(422),{cause:h}),zr(Cn(n,c)))):(h!==gh&&(s=Error(i(423),{cause:h}),zr(Cn(s,c))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,h=Cn(h,c),g=Qh(n.stateNode,h,g),_h(n,g),ue!==4&&(ue=2)),!1;var v=Error(i(520),{cause:h});if(v=Cn(v,c),so===null?so=[v]:so.push(v),ue!==4&&(ue=2),s===null)return!0;h=Cn(h,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,n=g&-g,c.lanes|=n,n=Qh(c.stateNode,h,n),_h(c,n),!1;case 1:if(s=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(as===null||!as.has(v))))return c.flags|=65536,g&=-g,c.lanes|=g,g=Ry(g),Dy(g,n,c,h),_h(c,g),!1}c=c.return}while(c!==null);return!1}var Zh=Error(i(461)),be=!1;function Le(n,s,c,h){s.child=n===null?Pg(s,null,c,h):Us(s,n.child,c,h)}function jy(n,s,c,h,g){c=c.render;var v=s.ref;if("ref"in h){var S={};for(var C in h)C!=="ref"&&(S[C]=h[C])}else S=h;return Bs(s),h=kh(n,s,c,S,v,g),C=Lh(),n!==null&&!be?(Ph(n,s,g),Ei(n,s,g)):(jt&&C&&mh(s),s.flags|=1,Le(n,s,h,g),s.child)}function ky(n,s,c,h,g){if(n===null){var v=c.type;return typeof v=="function"&&!hh(v)&&v.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=v,Ly(n,s,v,h,g)):(n=Pl(c.type,null,h,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(v=n.child,!rd(n,g)){var S=v.memoizedProps;if(c=c.compare,c=c!==null?c:Or,c(S,h)&&n.ref===s.ref)return Ei(n,s,g)}return s.flags|=1,n=vi(v,h),n.ref=s.ref,n.return=s,s.child=n}function Ly(n,s,c,h,g){if(n!==null){var v=n.memoizedProps;if(Or(v,h)&&n.ref===s.ref)if(be=!1,s.pendingProps=h=v,rd(n,g))(n.flags&131072)!==0&&(be=!0);else return s.lanes=n.lanes,Ei(n,s,g)}return Jh(n,s,c,h,g)}function Py(n,s,c,h){var g=h.children,v=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|c:c,n!==null){for(h=s.child=n.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~v}else h=0,s.child=null;return Oy(n,s,v,c,h)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&zl(s,v!==null?v.cachePool:null),v!==null?Fg(s,v):Mh(),zg(s);else return h=s.lanes=536870912,Oy(n,s,v!==null?v.baseLanes|c:c,c,h)}else v!==null?(zl(s,v.cachePool),Fg(s,v),es(),s.memoizedState=null):(n!==null&&zl(s,null),Mh(),es());return Le(n,s,g,c),s.child}function Qr(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Oy(n,s,c,h,g){var v=Sh();return v=v===null?null:{parent:ye._currentValue,pool:v},s.memoizedState={baseLanes:c,cachePool:v},n!==null&&zl(s,null),Mh(),zg(s),n!==null&&_a(n,s,h,!0),s.childLanes=g,null}function ec(n,s){return s=ic({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function By(n,s,c){return Us(s,n.child,null,c),n=ec(s,s.pendingProps),n.flags|=2,pn(s),s.memoizedState=null,n}function v2(n,s,c){var h=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(jt){if(h.mode==="hidden")return n=ec(s,h),s.lanes=536870912,Qr(null,n);if(Dh(s),(n=Jt)?(n=W0(n,Mn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Xi!==null?{id:Zn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},c=xg(n),c.return=s,s.child=c,je=s,Jt=null)):n=null,n===null)throw Wi(s);return s.lanes=536870912,null}return ec(s,h)}var v=n.memoizedState;if(v!==null){var S=v.dehydrated;if(Dh(s),g)if(s.flags&256)s.flags&=-257,s=By(n,s,c);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(be||_a(n,s,c,!1),g=(c&n.childLanes)!==0,be||g){if(h=Yt,h!==null&&(S=_p(h,c),S!==0&&S!==v.retryLane))throw v.retryLane=S,ks(n,S),sn(h,n,S),Zh;dc(),s=By(n,s,c)}else n=v.treeContext,Jt=Dn(S.nextSibling),je=s,jt=!0,Yi=null,Mn=!1,n!==null&&Sg(s,n),s=ec(s,h),s.flags|=4096;return s}return n=vi(n.child,{mode:h.mode,children:h.children}),n.ref=s.ref,s.child=n,n.return=s,n}function nc(n,s){var c=s.ref;if(c===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(n===null||n.ref!==c)&&(s.flags|=4194816)}}function Jh(n,s,c,h,g){return Bs(s),c=kh(n,s,c,h,void 0,g),h=Lh(),n!==null&&!be?(Ph(n,s,g),Ei(n,s,g)):(jt&&h&&mh(s),s.flags|=1,Le(n,s,c,g),s.child)}function Fy(n,s,c,h,g,v){return Bs(s),s.updateQueue=null,c=Ug(s,h,c,g),Ig(n),h=Lh(),n!==null&&!be?(Ph(n,s,v),Ei(n,s,v)):(jt&&h&&mh(s),s.flags|=1,Le(n,s,c,v),s.child)}function zy(n,s,c,h,g){if(Bs(s),s.stateNode===null){var v=Sa,S=c.contextType;typeof S=="object"&&S!==null&&(v=ke(S)),v=new c(h,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Kh,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=h,v.state=s.memoizedState,v.refs={},Th(s),S=c.contextType,v.context=typeof S=="object"&&S!==null?ke(S):Sa,v.state=s.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(Wh(s,c,S,h),v.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&Kh.enqueueReplaceState(v,v.state,null),$r(s,h,v,g),Gr(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(n===null){v=s.stateNode;var C=s.memoizedProps,j=Hs(c,C);v.props=j;var U=v.context,X=c.contextType;S=Sa,typeof X=="object"&&X!==null&&(S=ke(X));var K=c.getDerivedStateFromProps;X=typeof K=="function"||typeof v.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,X||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C||U!==S)&&Ty(s,v,h,S),Qi=!1;var q=s.memoizedState;v.state=q,$r(s,h,v,g),Gr(),U=s.memoizedState,C||q!==U||Qi?(typeof K=="function"&&(Wh(s,c,K,h),U=s.memoizedState),(j=Qi||Ey(s,c,j,h,q,U,S))?(X||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=U),v.props=h,v.state=U,v.context=S,h=j):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{v=s.stateNode,Ch(n,s),S=s.memoizedProps,X=Hs(c,S),v.props=X,K=s.pendingProps,q=v.context,U=c.contextType,j=Sa,typeof U=="object"&&U!==null&&(j=ke(U)),C=c.getDerivedStateFromProps,(U=typeof C=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==K||q!==j)&&Ty(s,v,h,j),Qi=!1,q=s.memoizedState,v.state=q,$r(s,h,v,g),Gr();var G=s.memoizedState;S!==K||q!==G||Qi||n!==null&&n.dependencies!==null&&Bl(n.dependencies)?(typeof C=="function"&&(Wh(s,c,C,h),G=s.memoizedState),(X=Qi||Ey(s,c,X,h,q,G,j)||n!==null&&n.dependencies!==null&&Bl(n.dependencies))?(U||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,G,j),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,G,j)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=G),v.props=h,v.state=G,v.context=j,h=X):(typeof v.componentDidUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),h=!1)}return v=h,nc(n,s),h=(s.flags&128)!==0,v||h?(v=s.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,n!==null&&h?(s.child=Us(s,n.child,null,g),s.child=Us(s,null,c,g)):Le(n,s,c,g),s.memoizedState=v.state,n=s.child):n=Ei(n,s,g),n}function Iy(n,s,c,h){return Ps(),s.flags|=256,Le(n,s,c,h),s.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(n){return{baseLanes:n,cachePool:Mg()}}function nd(n,s,c){return n=n!==null?n.childLanes&~c:0,s&&(n|=yn),n}function Uy(n,s,c){var h=s.pendingProps,g=!1,v=(s.flags&128)!==0,S;if((S=v)||(S=n!==null&&n.memoizedState===null?!1:(de.current&2)!==0),S&&(g=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,n===null){if(jt){if(g?ts(s):es(),(n=Jt)?(n=W0(n,Mn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Xi!==null?{id:Zn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},c=xg(n),c.return=s,s.child=c,je=s,Jt=null)):n=null,n===null)throw Wi(s);return Fd(n)?s.lanes=32:s.lanes=536870912,null}var C=h.children;return h=h.fallback,g?(es(),g=s.mode,C=ic({mode:"hidden",children:C},g),h=Ls(h,g,c,null),C.return=s,h.return=s,C.sibling=h,s.child=C,h=s.child,h.memoizedState=ed(c),h.childLanes=nd(n,S,c),s.memoizedState=td,Qr(null,h)):(ts(s),id(s,C))}var j=n.memoizedState;if(j!==null&&(C=j.dehydrated,C!==null)){if(v)s.flags&256?(ts(s),s.flags&=-257,s=sd(n,s,c)):s.memoizedState!==null?(es(),s.child=n.child,s.flags|=128,s=null):(es(),C=h.fallback,g=s.mode,h=ic({mode:"visible",children:h.children},g),C=Ls(C,g,c,null),C.flags|=2,h.return=s,C.return=s,h.sibling=C,s.child=h,Us(s,n.child,null,c),h=s.child,h.memoizedState=ed(c),h.childLanes=nd(n,S,c),s.memoizedState=td,s=Qr(null,h));else if(ts(s),Fd(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var U=S.dgst;S=U,h=Error(i(419)),h.stack="",h.digest=S,zr({value:h,source:null,stack:null}),s=sd(n,s,c)}else if(be||_a(n,s,c,!1),S=(c&n.childLanes)!==0,be||S){if(S=Yt,S!==null&&(h=_p(S,c),h!==0&&h!==j.retryLane))throw j.retryLane=h,ks(n,h),sn(S,n,h),Zh;Bd(C)||dc(),s=sd(n,s,c)}else Bd(C)?(s.flags|=192,s.child=n.child,s=null):(n=j.treeContext,Jt=Dn(C.nextSibling),je=s,jt=!0,Yi=null,Mn=!1,n!==null&&Sg(s,n),s=id(s,h.children),s.flags|=4096);return s}return g?(es(),C=h.fallback,g=s.mode,j=n.child,U=j.sibling,h=vi(j,{mode:"hidden",children:h.children}),h.subtreeFlags=j.subtreeFlags&65011712,U!==null?C=vi(U,C):(C=Ls(C,g,c,null),C.flags|=2),C.return=s,h.return=s,h.sibling=C,s.child=h,Qr(null,h),h=s.child,C=n.child.memoizedState,C===null?C=ed(c):(g=C.cachePool,g!==null?(j=ye._currentValue,g=g.parent!==j?{parent:j,pool:j}:g):g=Mg(),C={baseLanes:C.baseLanes|c,cachePool:g}),h.memoizedState=C,h.childLanes=nd(n,S,c),s.memoizedState=td,Qr(n.child,h)):(ts(s),c=n.child,n=c.sibling,c=vi(c,{mode:"visible",children:h.children}),c.return=s,c.sibling=null,n!==null&&(S=s.deletions,S===null?(s.deletions=[n],s.flags|=16):S.push(n)),s.child=c,s.memoizedState=null,c)}function id(n,s){return s=ic({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function ic(n,s){return n=fn(22,n,null,s),n.lanes=0,n}function sd(n,s,c){return Us(s,n.child,null,c),n=id(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Vy(n,s,c){n.lanes|=s;var h=n.alternate;h!==null&&(h.lanes|=s),bh(n.return,s,c)}function ad(n,s,c,h,g,v){var S=n.memoizedState;S===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g,treeForkCount:v}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=h,S.tail=c,S.tailMode=g,S.treeForkCount=v)}function Hy(n,s,c){var h=s.pendingProps,g=h.revealOrder,v=h.tail;h=h.children;var S=de.current,C=(S&2)!==0;if(C?(S=S&1|2,s.flags|=128):S&=1,Z(de,S),Le(n,s,h,c),h=jt?Fr:0,!C&&n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Vy(n,c,s);else if(n.tag===19)Vy(n,c,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(c=s.child,g=null;c!==null;)n=c.alternate,n!==null&&Gl(n)===null&&(g=c),c=c.sibling;c=g,c===null?(g=s.child,s.child=null):(g=c.sibling,c.sibling=null),ad(s,!1,g,c,v,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&Gl(n)===null){s.child=g;break}n=g.sibling,g.sibling=c,c=g,g=n}ad(s,!0,c,null,v,h);break;case"together":ad(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function Ei(n,s,c){if(n!==null&&(s.dependencies=n.dependencies),ss|=s.lanes,(c&s.childLanes)===0)if(n!==null){if(_a(n,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,c=vi(n,n.pendingProps),s.child=c,c.return=s;n.sibling!==null;)n=n.sibling,c=c.sibling=vi(n,n.pendingProps),c.return=s;c.sibling=null}return s.child}function rd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Bl(n)))}function b2(n,s,c){switch(s.tag){case 3:$t(s,s.stateNode.containerInfo),Ki(s,ye,n.memoizedState.cache),Ps();break;case 27:case 5:qe(s);break;case 4:$t(s,s.stateNode.containerInfo);break;case 10:Ki(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Dh(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(ts(s),s.flags|=128,null):(c&s.child.childLanes)!==0?Uy(n,s,c):(ts(s),n=Ei(n,s,c),n!==null?n.sibling:null);ts(s);break;case 19:var g=(n.flags&128)!==0;if(h=(c&s.childLanes)!==0,h||(_a(n,s,c,!1),h=(c&s.childLanes)!==0),g){if(h)return Hy(n,s,c);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Z(de,de.current),h)break;return null;case 22:return s.lanes=0,Py(n,s,c,s.pendingProps);case 24:Ki(s,ye,n.memoizedState.cache)}return Ei(n,s,c)}function qy(n,s,c){if(n!==null)if(n.memoizedProps!==s.pendingProps)be=!0;else{if(!rd(n,c)&&(s.flags&128)===0)return be=!1,b2(n,s,c);be=(n.flags&131072)!==0}else be=!1,jt&&(s.flags&1048576)!==0&&Ag(s,Fr,s.index);switch(s.lanes=0,s.tag){case 16:t:{var h=s.pendingProps;if(n=zs(s.elementType),s.type=n,typeof n=="function")hh(n)?(h=Hs(n,h),s.tag=1,s=zy(null,s,n,h,c)):(s.tag=0,s=Jh(null,s,n,h,c));else{if(n!=null){var g=n.$$typeof;if(g===R){s.tag=11,s=jy(null,s,n,h,c);break t}else if(g===P){s.tag=14,s=ky(null,s,n,h,c);break t}}throw s=rt(n)||n,Error(i(306,s,""))}}return s;case 0:return Jh(n,s,s.type,s.pendingProps,c);case 1:return h=s.type,g=Hs(h,s.pendingProps),zy(n,s,h,g,c);case 3:t:{if($t(s,s.stateNode.containerInfo),n===null)throw Error(i(387));h=s.pendingProps;var v=s.memoizedState;g=v.element,Ch(n,s),$r(s,h,null,c);var S=s.memoizedState;if(h=S.cache,Ki(s,ye,h),h!==v.cache&&xh(s,[ye],c,!0),Gr(),h=S.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=Iy(n,s,h,c);break t}else if(h!==g){g=Cn(Error(i(424)),s),zr(g),s=Iy(n,s,h,c);break t}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Jt=Dn(n.firstChild),je=s,jt=!0,Yi=null,Mn=!0,c=Pg(s,null,h,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ps(),h===g){s=Ei(n,s,c);break t}Le(n,s,h,c)}s=s.child}return s;case 26:return nc(n,s),n===null?(c=ev(s.type,null,s.pendingProps,null))?s.memoizedState=c:jt||(c=s.type,n=s.pendingProps,h=bc(gt.current).createElement(c),h[De]=s,h[Qe]=n,Pe(h,c,n),Ce(h),s.stateNode=h):s.memoizedState=ev(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return qe(s),n===null&&jt&&(h=s.stateNode=Z0(s.type,s.pendingProps,gt.current),je=s,Mn=!0,g=Jt,cs(s.type)?(zd=g,Jt=Dn(h.firstChild)):Jt=g),Le(n,s,s.pendingProps.children,c),nc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&jt&&((g=h=Jt)&&(h=W2(h,s.type,s.pendingProps,Mn),h!==null?(s.stateNode=h,je=s,Jt=Dn(h.firstChild),Mn=!1,g=!0):g=!1),g||Wi(s)),qe(s),g=s.type,v=s.pendingProps,S=n!==null?n.memoizedProps:null,h=v.children,Ld(g,v)?h=null:S!==null&&Ld(g,S)&&(s.flags|=32),s.memoizedState!==null&&(g=kh(n,s,u2,null,null,c),fo._currentValue=g),nc(n,s),Le(n,s,h,c),s.child;case 6:return n===null&&jt&&((n=c=Jt)&&(c=K2(c,s.pendingProps,Mn),c!==null?(s.stateNode=c,je=s,Jt=null,n=!0):n=!1),n||Wi(s)),null;case 13:return Uy(n,s,c);case 4:return $t(s,s.stateNode.containerInfo),h=s.pendingProps,n===null?s.child=Us(s,null,h,c):Le(n,s,h,c),s.child;case 11:return jy(n,s,s.type,s.pendingProps,c);case 7:return Le(n,s,s.pendingProps,c),s.child;case 8:return Le(n,s,s.pendingProps.children,c),s.child;case 12:return Le(n,s,s.pendingProps.children,c),s.child;case 10:return h=s.pendingProps,Ki(s,s.type,h.value),Le(n,s,h.children,c),s.child;case 9:return g=s.type._context,h=s.pendingProps.children,Bs(s),g=ke(g),h=h(g),s.flags|=1,Le(n,s,h,c),s.child;case 14:return ky(n,s,s.type,s.pendingProps,c);case 15:return Ly(n,s,s.type,s.pendingProps,c);case 19:return Hy(n,s,c);case 31:return v2(n,s,c);case 22:return Py(n,s,c,s.pendingProps);case 24:return Bs(s),h=ke(ye),n===null?(g=Sh(),g===null&&(g=Yt,v=wh(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=c),g=v),s.memoizedState={parent:h,cache:g},Th(s),Ki(s,ye,g)):((n.lanes&c)!==0&&(Ch(n,s),$r(s,null,null,c),Gr()),g=n.memoizedState,v=s.memoizedState,g.parent!==h?(g={parent:h,cache:h},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Ki(s,ye,h)):(h=v.cache,Ki(s,ye,h),h!==g.cache&&xh(s,[ye],c,!0))),Le(n,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ti(n){n.flags|=4}function od(n,s,c,h,g){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(y0())n.flags|=8192;else throw Is=Ul,Eh}else n.flags&=-16777217}function Gy(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!rv(s))if(y0())n.flags|=8192;else throw Is=Ul,Eh}function sc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Ep():536870912,n.lanes|=s,za|=s)}function Zr(n,s){if(!jt)switch(n.tailMode){case"hidden":s=n.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function te(n){var s=n.alternate!==null&&n.alternate.child===n.child,c=0,h=0;if(s)for(var g=n.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=h,n.childLanes=c,s}function x2(n,s,c){var h=s.pendingProps;switch(ph(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(s),null;case 1:return te(s),null;case 3:return c=s.stateNode,h=null,n!==null&&(h=n.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),wi(ye),Pt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Ca(s)?Ti(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,yh())),te(s),null;case 26:var g=s.type,v=s.memoizedState;return n===null?(Ti(s),v!==null?(te(s),Gy(s,v)):(te(s),od(s,g,null,h,c))):v?v!==n.memoizedState?(Ti(s),te(s),Gy(s,v)):(te(s),s.flags&=-16777217):(n=n.memoizedProps,n!==h&&Ti(s),te(s),od(s,g,n,h,c)),null;case 27:if(zt(s),c=gt.current,g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==h&&Ti(s);else{if(!h){if(s.stateNode===null)throw Error(i(166));return te(s),null}n=et.current,Ca(s)?Eg(s):(n=Z0(g,h,c),s.stateNode=n,Ti(s))}return te(s),null;case 5:if(zt(s),g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==h&&Ti(s);else{if(!h){if(s.stateNode===null)throw Error(i(166));return te(s),null}if(v=et.current,Ca(s))Eg(s);else{var S=bc(gt.current);switch(v){case 1:v=S.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=S.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=S.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof h.is=="string"?S.createElement("select",{is:h.is}):S.createElement("select"),h.multiple?v.multiple=!0:h.size&&(v.size=h.size);break;default:v=typeof h.is=="string"?S.createElement(g,{is:h.is}):S.createElement(g)}}v[De]=s,v[Qe]=h;t:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)v.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break t;for(;S.sibling===null;){if(S.return===null||S.return===s)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=v;t:switch(Pe(v,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Ti(s)}}return te(s),od(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,c),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==h&&Ti(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(i(166));if(n=gt.current,Ca(s)){if(n=s.stateNode,c=s.memoizedProps,h=null,g=je,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}n[De]=s,n=!!(n.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||U0(n.nodeValue,c)),n||Wi(s,!0)}else n=bc(n).createTextNode(h),n[De]=s,s.stateNode=n}return te(s),null;case 31:if(c=s.memoizedState,n===null||n.memoizedState!==null){if(h=Ca(s),c!==null){if(n===null){if(!h)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[De]=s}else Ps(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;te(s),n=!1}else c=yh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=c),n=!0;if(!n)return s.flags&256?(pn(s),s):(pn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return te(s),null;case 13:if(h=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Ca(s),h!==null&&h.dehydrated!==null){if(n===null){if(!g)throw Error(i(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[De]=s}else Ps(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;te(s),g=!1}else g=yh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(pn(s),s):(pn(s),null)}return pn(s),(s.flags&128)!==0?(s.lanes=c,s):(c=h!==null,n=n!==null&&n.memoizedState!==null,c&&(h=s.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),v=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==g&&(h.flags|=2048)),c!==n&&c&&(s.child.flags|=8192),sc(s,s.updateQueue),te(s),null);case 4:return Pt(),n===null&&Md(s.stateNode.containerInfo),te(s),null;case 10:return wi(s.type),te(s),null;case 19:if($(de),h=s.memoizedState,h===null)return te(s),null;if(g=(s.flags&128)!==0,v=h.rendering,v===null)if(g)Zr(h,!1);else{if(ue!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(v=Gl(n),v!==null){for(s.flags|=128,Zr(h,!1),n=v.updateQueue,s.updateQueue=n,sc(s,n),s.subtreeFlags=0,n=c,c=s.child;c!==null;)bg(c,n),c=c.sibling;return Z(de,de.current&1|2),jt&&bi(s,h.treeForkCount),s.child}n=n.sibling}h.tail!==null&&Ge()>cc&&(s.flags|=128,g=!0,Zr(h,!1),s.lanes=4194304)}else{if(!g)if(n=Gl(v),n!==null){if(s.flags|=128,g=!0,n=n.updateQueue,s.updateQueue=n,sc(s,n),Zr(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!jt)return te(s),null}else 2*Ge()-h.renderingStartTime>cc&&c!==536870912&&(s.flags|=128,g=!0,Zr(h,!1),s.lanes=4194304);h.isBackwards?(v.sibling=s.child,s.child=v):(n=h.last,n!==null?n.sibling=v:s.child=v,h.last=v)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Ge(),n.sibling=null,c=de.current,Z(de,g?c&1|2:c&1),jt&&bi(s,h.treeForkCount),n):(te(s),null);case 22:case 23:return pn(s),Rh(),h=s.memoizedState!==null,n!==null?n.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(c&536870912)!==0&&(s.flags&128)===0&&(te(s),s.subtreeFlags&6&&(s.flags|=8192)):te(s),c=s.updateQueue,c!==null&&sc(s,c.retryQueue),c=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==c&&(s.flags|=2048),n!==null&&$(Fs),null;case 24:return c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),wi(ye),te(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function w2(n,s){switch(ph(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return wi(ye),Pt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return zt(s),null;case 31:if(s.memoizedState!==null){if(pn(s),s.alternate===null)throw Error(i(340));Ps()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(pn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ps()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return $(de),null;case 4:return Pt(),null;case 10:return wi(s.type),null;case 22:case 23:return pn(s),Rh(),n!==null&&$(Fs),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return wi(ye),null;case 25:return null;default:return null}}function $y(n,s){switch(ph(s),s.tag){case 3:wi(ye),Pt();break;case 26:case 27:case 5:zt(s);break;case 4:Pt();break;case 31:s.memoizedState!==null&&pn(s);break;case 13:pn(s);break;case 19:$(de);break;case 10:wi(s.type);break;case 22:case 23:pn(s),Rh(),n!==null&&$(Fs);break;case 24:wi(ye)}}function Jr(n,s){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&n)===n){h=void 0;var v=c.create,S=c.inst;h=v(),S.destroy=h}c=c.next}while(c!==g)}}catch(C){Ut(s,s.return,C)}}function ns(n,s,c){try{var h=s.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var v=g.next;h=v;do{if((h.tag&n)===n){var S=h.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,g=s;var j=c,U=C;try{U()}catch(X){Ut(g,j,X)}}}h=h.next}while(h!==v)}}catch(X){Ut(s,s.return,X)}}function Xy(n){var s=n.updateQueue;if(s!==null){var c=n.stateNode;try{Bg(s,c)}catch(h){Ut(n,n.return,h)}}}function Yy(n,s,c){c.props=Hs(n.type,n.memoizedProps),c.state=n.memoizedState;try{c.componentWillUnmount()}catch(h){Ut(n,s,h)}}function to(n,s){try{var c=n.ref;if(c!==null){switch(n.tag){case 26:case 27:case 5:var h=n.stateNode;break;case 30:h=n.stateNode;break;default:h=n.stateNode}typeof c=="function"?n.refCleanup=c(h):c.current=h}}catch(g){Ut(n,s,g)}}function ti(n,s){var c=n.ref,h=n.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){Ut(n,s,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){Ut(n,s,g)}else c.current=null}function Wy(n){var s=n.type,c=n.memoizedProps,h=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){Ut(n,n.return,g)}}function ld(n,s,c){try{var h=n.stateNode;H2(h,n.type,c,s),h[Qe]=s}catch(g){Ut(n,n.return,g)}}function Ky(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&cs(n.type)||n.tag===4}function cd(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Ky(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&cs(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ud(n,s,c){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(n,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(n),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=gi));else if(h!==4&&(h===27&&cs(n.type)&&(c=n.stateNode,s=null),n=n.child,n!==null))for(ud(n,s,c),n=n.sibling;n!==null;)ud(n,s,c),n=n.sibling}function ac(n,s,c){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?c.insertBefore(n,s):c.appendChild(n);else if(h!==4&&(h===27&&cs(n.type)&&(c=n.stateNode),n=n.child,n!==null))for(ac(n,s,c),n=n.sibling;n!==null;)ac(n,s,c),n=n.sibling}function Qy(n){var s=n.stateNode,c=n.memoizedProps;try{for(var h=n.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Pe(s,h,c),s[De]=n,s[Qe]=c}catch(v){Ut(n,n.return,v)}}var Ci=!1,xe=!1,hd=!1,Zy=typeof WeakSet=="function"?WeakSet:Set,_e=null;function A2(n,s){if(n=n.containerInfo,jd=Cc,n=ug(n),sh(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else t:{c=(c=n.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break t}var S=0,C=-1,j=-1,U=0,X=0,K=n,q=null;e:for(;;){for(var G;K!==c||g!==0&&K.nodeType!==3||(C=S+g),K!==v||h!==0&&K.nodeType!==3||(j=S+h),K.nodeType===3&&(S+=K.nodeValue.length),(G=K.firstChild)!==null;)q=K,K=G;for(;;){if(K===n)break e;if(q===c&&++U===g&&(C=S),q===v&&++X===h&&(j=S),(G=K.nextSibling)!==null)break;K=q,q=K.parentNode}K=G}c=C===-1||j===-1?null:{start:C,end:j}}else c=null}c=c||{start:0,end:0}}else c=null;for(kd={focusedElem:n,selectionRange:c},Cc=!1,_e=s;_e!==null;)if(s=_e,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,_e=n;else for(;_e!==null;){switch(s=_e,v=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(c=0;c<n.length;c++)g=n[c],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,c=s,g=v.memoizedProps,v=v.memoizedState,h=c.stateNode;try{var st=Hs(c.type,g);n=h.getSnapshotBeforeUpdate(st,v),h.__reactInternalSnapshotBeforeUpdate=n}catch(yt){Ut(c,c.return,yt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,c=n.nodeType,c===9)Od(n);else if(c===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Od(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,_e=n;break}_e=s.return}}function Jy(n,s,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Ni(n,c),h&4&&Jr(5,c);break;case 1:if(Ni(n,c),h&4)if(n=c.stateNode,s===null)try{n.componentDidMount()}catch(S){Ut(c,c.return,S)}else{var g=Hs(c.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(g,s,n.__reactInternalSnapshotBeforeUpdate)}catch(S){Ut(c,c.return,S)}}h&64&&Xy(c),h&512&&to(c,c.return);break;case 3:if(Ni(n,c),h&64&&(n=c.updateQueue,n!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Bg(n,s)}catch(S){Ut(c,c.return,S)}}break;case 27:s===null&&h&4&&Qy(c);case 26:case 5:Ni(n,c),s===null&&h&4&&Wy(c),h&512&&to(c,c.return);break;case 12:Ni(n,c);break;case 31:Ni(n,c),h&4&&n0(n,c);break;case 13:Ni(n,c),h&4&&i0(n,c),h&64&&(n=c.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(c=D2.bind(null,c),Q2(n,c))));break;case 22:if(h=c.memoizedState!==null||Ci,!h){s=s!==null&&s.memoizedState!==null||xe,g=Ci;var v=xe;Ci=h,(xe=s)&&!v?Mi(n,c,(c.subtreeFlags&8772)!==0):Ni(n,c),Ci=g,xe=v}break;case 30:break;default:Ni(n,c)}}function t0(n){var s=n.alternate;s!==null&&(n.alternate=null,t0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Uu(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ee=null,Je=!1;function _i(n,s,c){for(c=c.child;c!==null;)e0(n,s,c),c=c.sibling}function e0(n,s,c){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Er,c)}catch{}switch(c.tag){case 26:xe||ti(c,s),_i(n,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:xe||ti(c,s);var h=ee,g=Je;cs(c.type)&&(ee=c.stateNode,Je=!1),_i(n,s,c),co(c.stateNode),ee=h,Je=g;break;case 5:xe||ti(c,s);case 6:if(h=ee,g=Je,ee=null,_i(n,s,c),ee=h,Je=g,ee!==null)if(Je)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(c.stateNode)}catch(v){Ut(c,s,v)}else try{ee.removeChild(c.stateNode)}catch(v){Ut(c,s,v)}break;case 18:ee!==null&&(Je?(n=ee,X0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,c.stateNode),Xa(n)):X0(ee,c.stateNode));break;case 4:h=ee,g=Je,ee=c.stateNode.containerInfo,Je=!0,_i(n,s,c),ee=h,Je=g;break;case 0:case 11:case 14:case 15:ns(2,c,s),xe||ns(4,c,s),_i(n,s,c);break;case 1:xe||(ti(c,s),h=c.stateNode,typeof h.componentWillUnmount=="function"&&Yy(c,s,h)),_i(n,s,c);break;case 21:_i(n,s,c);break;case 22:xe=(h=xe)||c.memoizedState!==null,_i(n,s,c),xe=h;break;default:_i(n,s,c)}}function n0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Xa(n)}catch(c){Ut(s,s.return,c)}}}function i0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Xa(n)}catch(c){Ut(s,s.return,c)}}function S2(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Zy),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Zy),s;default:throw Error(i(435,n.tag))}}function rc(n,s){var c=S2(n);s.forEach(function(h){if(!c.has(h)){c.add(h);var g=j2.bind(null,n,h);h.then(g,g)}})}function tn(n,s){var c=s.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],v=n,S=s,C=S;t:for(;C!==null;){switch(C.tag){case 27:if(cs(C.type)){ee=C.stateNode,Je=!1;break t}break;case 5:ee=C.stateNode,Je=!1;break t;case 3:case 4:ee=C.stateNode.containerInfo,Je=!0;break t}C=C.return}if(ee===null)throw Error(i(160));e0(v,S,g),ee=null,Je=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)s0(s,n),s=s.sibling}var Gn=null;function s0(n,s){var c=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:tn(s,n),en(n),h&4&&(ns(3,n,n.return),Jr(3,n),ns(5,n,n.return));break;case 1:tn(s,n),en(n),h&512&&(xe||c===null||ti(c,c.return)),h&64&&Ci&&(n=n.updateQueue,n!==null&&(h=n.callbacks,h!==null&&(c=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=Gn;if(tn(s,n),en(n),h&512&&(xe||c===null||ti(c,c.return)),h&4){var v=c!==null?c.memoizedState:null;if(h=n.memoizedState,c===null)if(h===null)if(n.stateNode===null){t:{h=n.type,c=n.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":v=g.getElementsByTagName("title")[0],(!v||v[_r]||v[De]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(h),g.head.insertBefore(v,g.querySelector("head > title"))),Pe(v,h,c),v[De]=n,Ce(v),h=v;break t;case"link":var S=sv("link","href",g).get(h+(c.href||""));if(S){for(var C=0;C<S.length;C++)if(v=S[C],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(C,1);break e}}v=g.createElement(h),Pe(v,h,c),g.head.appendChild(v);break;case"meta":if(S=sv("meta","content",g).get(h+(c.content||""))){for(C=0;C<S.length;C++)if(v=S[C],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(C,1);break e}}v=g.createElement(h),Pe(v,h,c),g.head.appendChild(v);break;default:throw Error(i(468,h))}v[De]=n,Ce(v),h=v}n.stateNode=h}else av(g,n.type,n.stateNode);else n.stateNode=iv(g,h,n.memoizedProps);else v!==h?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,h===null?av(g,n.type,n.stateNode):iv(g,h,n.memoizedProps)):h===null&&n.stateNode!==null&&ld(n,n.memoizedProps,c.memoizedProps)}break;case 27:tn(s,n),en(n),h&512&&(xe||c===null||ti(c,c.return)),c!==null&&h&4&&ld(n,n.memoizedProps,c.memoizedProps);break;case 5:if(tn(s,n),en(n),h&512&&(xe||c===null||ti(c,c.return)),n.flags&32){g=n.stateNode;try{ga(g,"")}catch(st){Ut(n,n.return,st)}}h&4&&n.stateNode!=null&&(g=n.memoizedProps,ld(n,g,c!==null?c.memoizedProps:g)),h&1024&&(hd=!0);break;case 6:if(tn(s,n),en(n),h&4){if(n.stateNode===null)throw Error(i(162));h=n.memoizedProps,c=n.stateNode;try{c.nodeValue=h}catch(st){Ut(n,n.return,st)}}break;case 3:if(Ac=null,g=Gn,Gn=xc(s.containerInfo),tn(s,n),Gn=g,en(n),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Xa(s.containerInfo)}catch(st){Ut(n,n.return,st)}hd&&(hd=!1,a0(n));break;case 4:h=Gn,Gn=xc(n.stateNode.containerInfo),tn(s,n),en(n),Gn=h;break;case 12:tn(s,n),en(n);break;case 31:tn(s,n),en(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,rc(n,h)));break;case 13:tn(s,n),en(n),n.child.flags&8192&&n.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(lc=Ge()),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,rc(n,h)));break;case 22:g=n.memoizedState!==null;var j=c!==null&&c.memoizedState!==null,U=Ci,X=xe;if(Ci=U||g,xe=X||j,tn(s,n),xe=X,Ci=U,en(n),h&8192)t:for(s=n.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(c===null||j||Ci||xe||qs(n)),c=null,s=n;;){if(s.tag===5||s.tag===26){if(c===null){j=c=s;try{if(v=j.stateNode,g)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=j.stateNode;var K=j.memoizedProps.style,q=K!=null&&K.hasOwnProperty("display")?K.display:null;C.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(st){Ut(j,j.return,st)}}}else if(s.tag===6){if(c===null){j=s;try{j.stateNode.nodeValue=g?"":j.memoizedProps}catch(st){Ut(j,j.return,st)}}}else if(s.tag===18){if(c===null){j=s;try{var G=j.stateNode;g?Y0(G,!0):Y0(j.stateNode,!1)}catch(st){Ut(j,j.return,st)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=n.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,rc(n,c))));break;case 19:tn(s,n),en(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,rc(n,h)));break;case 30:break;case 21:break;default:tn(s,n),en(n)}}function en(n){var s=n.flags;if(s&2){try{for(var c,h=n.return;h!==null;){if(Ky(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var g=c.stateNode,v=cd(n);ac(n,v,g);break;case 5:var S=c.stateNode;c.flags&32&&(ga(S,""),c.flags&=-33);var C=cd(n);ac(n,C,S);break;case 3:case 4:var j=c.stateNode.containerInfo,U=cd(n);ud(n,U,j);break;default:throw Error(i(161))}}catch(X){Ut(n,n.return,X)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function a0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;a0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ni(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Jy(n,s.alternate,s),s=s.sibling}function qs(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ns(4,s,s.return),qs(s);break;case 1:ti(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&Yy(s,s.return,c),qs(s);break;case 27:co(s.stateNode);case 26:case 5:ti(s,s.return),qs(s);break;case 22:s.memoizedState===null&&qs(s);break;case 30:qs(s);break;default:qs(s)}n=n.sibling}}function Mi(n,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,g=n,v=s,S=v.flags;switch(v.tag){case 0:case 11:case 15:Mi(g,v,c),Jr(4,v);break;case 1:if(Mi(g,v,c),h=v,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(U){Ut(h,h.return,U)}if(h=v,g=h.updateQueue,g!==null){var C=h.stateNode;try{var j=g.shared.hiddenCallbacks;if(j!==null)for(g.shared.hiddenCallbacks=null,g=0;g<j.length;g++)Og(j[g],C)}catch(U){Ut(h,h.return,U)}}c&&S&64&&Xy(v),to(v,v.return);break;case 27:Qy(v);case 26:case 5:Mi(g,v,c),c&&h===null&&S&4&&Wy(v),to(v,v.return);break;case 12:Mi(g,v,c);break;case 31:Mi(g,v,c),c&&S&4&&n0(g,v);break;case 13:Mi(g,v,c),c&&S&4&&i0(g,v);break;case 22:v.memoizedState===null&&Mi(g,v,c),to(v,v.return);break;case 30:break;default:Mi(g,v,c)}s=s.sibling}}function dd(n,s){var c=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==c&&(n!=null&&n.refCount++,c!=null&&Ir(c))}function fd(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ir(n))}function $n(n,s,c,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)r0(n,s,c,h),s=s.sibling}function r0(n,s,c,h){var g=s.flags;switch(s.tag){case 0:case 11:case 15:$n(n,s,c,h),g&2048&&Jr(9,s);break;case 1:$n(n,s,c,h);break;case 3:$n(n,s,c,h),g&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ir(n)));break;case 12:if(g&2048){$n(n,s,c,h),n=s.stateNode;try{var v=s.memoizedProps,S=v.id,C=v.onPostCommit;typeof C=="function"&&C(S,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(j){Ut(s,s.return,j)}}else $n(n,s,c,h);break;case 31:$n(n,s,c,h);break;case 13:$n(n,s,c,h);break;case 23:break;case 22:v=s.stateNode,S=s.alternate,s.memoizedState!==null?v._visibility&2?$n(n,s,c,h):eo(n,s):v._visibility&2?$n(n,s,c,h):(v._visibility|=2,Oa(n,s,c,h,(s.subtreeFlags&10256)!==0||!1)),g&2048&&dd(S,s);break;case 24:$n(n,s,c,h),g&2048&&fd(s.alternate,s);break;default:$n(n,s,c,h)}}function Oa(n,s,c,h,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=n,S=s,C=c,j=h,U=S.flags;switch(S.tag){case 0:case 11:case 15:Oa(v,S,C,j,g),Jr(8,S);break;case 23:break;case 22:var X=S.stateNode;S.memoizedState!==null?X._visibility&2?Oa(v,S,C,j,g):eo(v,S):(X._visibility|=2,Oa(v,S,C,j,g)),g&&U&2048&&dd(S.alternate,S);break;case 24:Oa(v,S,C,j,g),g&&U&2048&&fd(S.alternate,S);break;default:Oa(v,S,C,j,g)}s=s.sibling}}function eo(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=n,h=s,g=h.flags;switch(h.tag){case 22:eo(c,h),g&2048&&dd(h.alternate,h);break;case 24:eo(c,h),g&2048&&fd(h.alternate,h);break;default:eo(c,h)}s=s.sibling}}var no=8192;function Ba(n,s,c){if(n.subtreeFlags&no)for(n=n.child;n!==null;)o0(n,s,c),n=n.sibling}function o0(n,s,c){switch(n.tag){case 26:Ba(n,s,c),n.flags&no&&n.memoizedState!==null&&cE(c,Gn,n.memoizedState,n.memoizedProps);break;case 5:Ba(n,s,c);break;case 3:case 4:var h=Gn;Gn=xc(n.stateNode.containerInfo),Ba(n,s,c),Gn=h;break;case 22:n.memoizedState===null&&(h=n.alternate,h!==null&&h.memoizedState!==null?(h=no,no=16777216,Ba(n,s,c),no=h):Ba(n,s,c));break;default:Ba(n,s,c)}}function l0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function io(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];_e=h,u0(h,n)}l0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)c0(n),n=n.sibling}function c0(n){switch(n.tag){case 0:case 11:case 15:io(n),n.flags&2048&&ns(9,n,n.return);break;case 3:io(n);break;case 12:io(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,oc(n)):io(n);break;default:io(n)}}function oc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];_e=h,u0(h,n)}l0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ns(8,s,s.return),oc(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,oc(s));break;default:oc(s)}n=n.sibling}}function u0(n,s){for(;_e!==null;){var c=_e;switch(c.tag){case 0:case 11:case 15:ns(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ir(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,_e=h;else t:for(c=n;_e!==null;){h=_e;var g=h.sibling,v=h.return;if(t0(h),h===c){_e=null;break t}if(g!==null){g.return=v,_e=g;break t}_e=v}}}var E2={getCacheForType:function(n){var s=ke(ye),c=s.data.get(n);return c===void 0&&(c=n(),s.data.set(n,c)),c},cacheSignal:function(){return ke(ye).controller.signal}},T2=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Yt=null,_t=null,Mt=0,It=0,gn=null,is=!1,Fa=!1,md=!1,Ri=0,ue=0,ss=0,Gs=0,pd=0,yn=0,za=0,so=null,nn=null,gd=!1,lc=0,h0=0,cc=1/0,uc=null,as=null,Se=0,rs=null,Ia=null,Di=0,yd=0,vd=null,d0=null,ao=0,bd=null;function vn(){return(Ft&2)!==0&&Mt!==0?Mt&-Mt:B.T!==null?Td():Np()}function f0(){if(yn===0)if((Mt&536870912)===0||jt){var n=vl;vl<<=1,(vl&3932160)===0&&(vl=262144),yn=n}else yn=536870912;return n=mn.current,n!==null&&(n.flags|=32),yn}function sn(n,s,c){(n===Yt&&(It===2||It===9)||n.cancelPendingCommit!==null)&&(Ua(n,0),os(n,Mt,yn,!1)),Cr(n,c),((Ft&2)===0||n!==Yt)&&(n===Yt&&((Ft&2)===0&&(Gs|=c),ue===4&&os(n,Mt,yn,!1)),ei(n))}function m0(n,s,c){if((Ft&6)!==0)throw Error(i(327));var h=!c&&(s&127)===0&&(s&n.expiredLanes)===0||Tr(n,s),g=h?N2(n,s):wd(n,s,!0),v=h;do{if(g===0){Fa&&!h&&os(n,s,0,!1);break}else{if(c=n.current.alternate,v&&!C2(c)){g=wd(n,s,!1),v=!1;continue}if(g===2){if(v=s,n.errorRecoveryDisabledLanes&v)var S=0;else S=n.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;t:{var C=n;g=so;var j=C.current.memoizedState.isDehydrated;if(j&&(Ua(C,S).flags|=256),S=wd(C,S,!1),S!==2){if(md&&!j){C.errorRecoveryDisabledLanes|=v,Gs|=v,g=4;break t}v=nn,nn=g,v!==null&&(nn===null?nn=v:nn.push.apply(nn,v))}g=S}if(v=!1,g!==2)continue}}if(g===1){Ua(n,0),os(n,s,0,!0);break}t:{switch(h=n,v=g,v){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:os(h,s,yn,!is);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(g=lc+300-Ge(),10<g)){if(os(h,s,yn,!is),xl(h,0,!0)!==0)break t;Di=s,h.timeoutHandle=G0(p0.bind(null,h,c,nn,uc,gd,s,yn,Gs,za,is,v,"Throttled",-0,0),g);break t}p0(h,c,nn,uc,gd,s,yn,Gs,za,is,v,null,-0,0)}}break}while(!0);ei(n)}function p0(n,s,c,h,g,v,S,C,j,U,X,K,q,G){if(n.timeoutHandle=-1,K=s.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gi},o0(s,v,K);var st=(v&62914560)===v?lc-Ge():(v&4194048)===v?h0-Ge():0;if(st=uE(K,st),st!==null){Di=v,n.cancelPendingCommit=st(S0.bind(null,n,s,v,c,h,g,S,C,j,X,K,null,q,G)),os(n,v,S,!U);return}}S0(n,s,v,c,h,g,S,C,j)}function C2(n){for(var s=n;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],v=g.getSnapshot;g=g.value;try{if(!dn(v(),g))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function os(n,s,c,h){s&=~pd,s&=~Gs,n.suspendedLanes|=s,n.pingedLanes&=~s,h&&(n.warmLanes|=s),h=n.expirationTimes;for(var g=s;0<g;){var v=31-hn(g),S=1<<v;h[v]=-1,g&=~S}c!==0&&Tp(n,c,s)}function hc(){return(Ft&6)===0?(ro(0),!1):!0}function xd(){if(_t!==null){if(It===0)var n=_t.return;else n=_t,xi=Os=null,Oh(n),Da=null,Vr=0,n=_t;for(;n!==null;)$y(n.alternate,n),n=n.return;_t=null}}function Ua(n,s){var c=n.timeoutHandle;c!==-1&&(n.timeoutHandle=-1,$2(c)),c=n.cancelPendingCommit,c!==null&&(n.cancelPendingCommit=null,c()),Di=0,xd(),Yt=n,_t=c=vi(n.current,null),Mt=s,It=0,gn=null,is=!1,Fa=Tr(n,s),md=!1,za=yn=pd=Gs=ss=ue=0,nn=so=null,gd=!1,(s&8)!==0&&(s|=s&32);var h=n.entangledLanes;if(h!==0)for(n=n.entanglements,h&=s;0<h;){var g=31-hn(h),v=1<<g;s|=n[g],h&=~v}return Ri=s,jl(),c}function g0(n,s){Et=null,B.H=Kr,s===Ra||s===Il?(s=jg(),It=3):s===Eh?(s=jg(),It=4):It=s===Zh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,gn=s,_t===null&&(ue=1,tc(n,Cn(s,n.current)))}function y0(){var n=mn.current;return n===null?!0:(Mt&4194048)===Mt?Rn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?n===Rn:!1}function v0(){var n=B.H;return B.H=Kr,n===null?Kr:n}function b0(){var n=B.A;return B.A=E2,n}function dc(){ue=4,is||(Mt&4194048)!==Mt&&mn.current!==null||(Fa=!0),(ss&134217727)===0&&(Gs&134217727)===0||Yt===null||os(Yt,Mt,yn,!1)}function wd(n,s,c){var h=Ft;Ft|=2;var g=v0(),v=b0();(Yt!==n||Mt!==s)&&(uc=null,Ua(n,s)),s=!1;var S=ue;t:do try{if(It!==0&&_t!==null){var C=_t,j=gn;switch(It){case 8:xd(),S=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(s=!0);var U=It;if(It=0,gn=null,Va(n,C,j,U),c&&Fa){S=0;break t}break;default:U=It,It=0,gn=null,Va(n,C,j,U)}}_2(),S=ue;break}catch(X){g0(n,X)}while(!0);return s&&n.shellSuspendCounter++,xi=Os=null,Ft=h,B.H=g,B.A=v,_t===null&&(Yt=null,Mt=0,jl()),S}function _2(){for(;_t!==null;)x0(_t)}function N2(n,s){var c=Ft;Ft|=2;var h=v0(),g=b0();Yt!==n||Mt!==s?(uc=null,cc=Ge()+500,Ua(n,s)):Fa=Tr(n,s);t:do try{if(It!==0&&_t!==null){s=_t;var v=gn;e:switch(It){case 1:It=0,gn=null,Va(n,s,v,1);break;case 2:case 9:if(Rg(v)){It=0,gn=null,w0(s);break}s=function(){It!==2&&It!==9||Yt!==n||(It=7),ei(n)},v.then(s,s);break t;case 3:It=7;break t;case 4:It=5;break t;case 7:Rg(v)?(It=0,gn=null,w0(s)):(It=0,gn=null,Va(n,s,v,7));break;case 5:var S=null;switch(_t.tag){case 26:S=_t.memoizedState;case 5:case 27:var C=_t;if(S?rv(S):C.stateNode.complete){It=0,gn=null;var j=C.sibling;if(j!==null)_t=j;else{var U=C.return;U!==null?(_t=U,fc(U)):_t=null}break e}}It=0,gn=null,Va(n,s,v,5);break;case 6:It=0,gn=null,Va(n,s,v,6);break;case 8:xd(),ue=6;break t;default:throw Error(i(462))}}M2();break}catch(X){g0(n,X)}while(!0);return xi=Os=null,B.H=h,B.A=g,Ft=c,_t!==null?0:(Yt=null,Mt=0,jl(),ue)}function M2(){for(;_t!==null&&!ca();)x0(_t)}function x0(n){var s=qy(n.alternate,n,Ri);n.memoizedProps=n.pendingProps,s===null?fc(n):_t=s}function w0(n){var s=n,c=s.alternate;switch(s.tag){case 15:case 0:s=Fy(c,s,s.pendingProps,s.type,void 0,Mt);break;case 11:s=Fy(c,s,s.pendingProps,s.type.render,s.ref,Mt);break;case 5:Oh(s);default:$y(c,s),s=_t=bg(s,Ri),s=qy(c,s,Ri)}n.memoizedProps=n.pendingProps,s===null?fc(n):_t=s}function Va(n,s,c,h){xi=Os=null,Oh(s),Da=null,Vr=0;var g=s.return;try{if(y2(n,g,s,c,Mt)){ue=1,tc(n,Cn(c,n.current)),_t=null;return}}catch(v){if(g!==null)throw _t=g,v;ue=1,tc(n,Cn(c,n.current)),_t=null;return}s.flags&32768?(jt||h===1?n=!0:Fa||(Mt&536870912)!==0?n=!1:(is=n=!0,(h===2||h===9||h===3||h===6)&&(h=mn.current,h!==null&&h.tag===13&&(h.flags|=16384))),A0(s,n)):fc(s)}function fc(n){var s=n;do{if((s.flags&32768)!==0){A0(s,is);return}n=s.return;var c=x2(s.alternate,s,Ri);if(c!==null){_t=c;return}if(s=s.sibling,s!==null){_t=s;return}_t=s=n}while(s!==null);ue===0&&(ue=5)}function A0(n,s){do{var c=w2(n.alternate,n);if(c!==null){c.flags&=32767,_t=c;return}if(c=n.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(n=n.sibling,n!==null)){_t=n;return}_t=n=c}while(n!==null);ue=6,_t=null}function S0(n,s,c,h,g,v,S,C,j){n.cancelPendingCommit=null;do mc();while(Se!==0);if((Ft&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(v=s.lanes|s.childLanes,v|=ch,lS(n,c,v,S,C,j),n===Yt&&(_t=Yt=null,Mt=0),Ia=s,rs=n,Di=c,yd=v,vd=g,d0=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,k2(cn,function(){return N0(),null})):(n.callbackNode=null,n.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,g=V.p,V.p=2,S=Ft,Ft|=4;try{A2(n,s,c)}finally{Ft=S,V.p=g,B.T=h}}Se=1,E0(),T0(),C0()}}function E0(){if(Se===1){Se=0;var n=rs,s=Ia,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=B.T,B.T=null;var h=V.p;V.p=2;var g=Ft;Ft|=4;try{s0(s,n);var v=kd,S=ug(n.containerInfo),C=v.focusedElem,j=v.selectionRange;if(S!==C&&C&&C.ownerDocument&&cg(C.ownerDocument.documentElement,C)){if(j!==null&&sh(C)){var U=j.start,X=j.end;if(X===void 0&&(X=U),"selectionStart"in C)C.selectionStart=U,C.selectionEnd=Math.min(X,C.value.length);else{var K=C.ownerDocument||document,q=K&&K.defaultView||window;if(q.getSelection){var G=q.getSelection(),st=C.textContent.length,yt=Math.min(j.start,st),qt=j.end===void 0?yt:Math.min(j.end,st);!G.extend&&yt>qt&&(S=qt,qt=yt,yt=S);var z=lg(C,yt),O=lg(C,qt);if(z&&O&&(G.rangeCount!==1||G.anchorNode!==z.node||G.anchorOffset!==z.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var I=K.createRange();I.setStart(z.node,z.offset),G.removeAllRanges(),yt>qt?(G.addRange(I),G.extend(O.node,O.offset)):(I.setEnd(O.node,O.offset),G.addRange(I))}}}}for(K=[],G=C;G=G.parentNode;)G.nodeType===1&&K.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<K.length;C++){var W=K[C];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Cc=!!jd,kd=jd=null}finally{Ft=g,V.p=h,B.T=c}}n.current=s,Se=2}}function T0(){if(Se===2){Se=0;var n=rs,s=Ia,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=B.T,B.T=null;var h=V.p;V.p=2;var g=Ft;Ft|=4;try{Jy(n,s.alternate,s)}finally{Ft=g,V.p=h,B.T=c}}Se=3}}function C0(){if(Se===4||Se===3){Se=0,Pu();var n=rs,s=Ia,c=Di,h=d0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Se=5:(Se=0,Ia=rs=null,_0(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(as=null),zu(c),s=s.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Er,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=B.T,g=V.p,V.p=2,B.T=null;try{for(var v=n.onRecoverableError,S=0;S<h.length;S++){var C=h[S];v(C.value,{componentStack:C.stack})}}finally{B.T=s,V.p=g}}(Di&3)!==0&&mc(),ei(n),g=n.pendingLanes,(c&261930)!==0&&(g&42)!==0?n===bd?ao++:(ao=0,bd=n):ao=0,ro(0)}}function _0(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Ir(s)))}function mc(){return E0(),T0(),C0(),N0()}function N0(){if(Se!==5)return!1;var n=rs,s=yd;yd=0;var c=zu(Di),h=B.T,g=V.p;try{V.p=32>c?32:c,B.T=null,c=vd,vd=null;var v=rs,S=Di;if(Se=0,Ia=rs=null,Di=0,(Ft&6)!==0)throw Error(i(331));var C=Ft;if(Ft|=4,c0(v.current),r0(v,v.current,S,c),Ft=C,ro(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Er,v)}catch{}return!0}finally{V.p=g,B.T=h,_0(n,s)}}function M0(n,s,c){s=Cn(c,s),s=Qh(n.stateNode,s,2),n=Ji(n,s,2),n!==null&&(Cr(n,2),ei(n))}function Ut(n,s,c){if(n.tag===3)M0(n,n,c);else for(;s!==null;){if(s.tag===3){M0(s,n,c);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(as===null||!as.has(h))){n=Cn(c,n),c=Ry(2),h=Ji(s,c,2),h!==null&&(Dy(c,h,s,n),Cr(h,2),ei(h));break}}s=s.return}}function Ad(n,s,c){var h=n.pingCache;if(h===null){h=n.pingCache=new T2;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(c)||(md=!0,g.add(c),n=R2.bind(null,n,s,c),s.then(n,n))}function R2(n,s,c){var h=n.pingCache;h!==null&&h.delete(s),n.pingedLanes|=n.suspendedLanes&c,n.warmLanes&=~c,Yt===n&&(Mt&c)===c&&(ue===4||ue===3&&(Mt&62914560)===Mt&&300>Ge()-lc?(Ft&2)===0&&Ua(n,0):pd|=c,za===Mt&&(za=0)),ei(n)}function R0(n,s){s===0&&(s=Ep()),n=ks(n,s),n!==null&&(Cr(n,s),ei(n))}function D2(n){var s=n.memoizedState,c=0;s!==null&&(c=s.retryLane),R0(n,c)}function j2(n,s){var c=0;switch(n.tag){case 31:case 13:var h=n.stateNode,g=n.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=n.stateNode;break;case 22:h=n.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(s),R0(n,c)}function k2(n,s){return _s(n,s)}var pc=null,Ha=null,Sd=!1,gc=!1,Ed=!1,ls=0;function ei(n){n!==Ha&&n.next===null&&(Ha===null?pc=Ha=n:Ha=Ha.next=n),gc=!0,Sd||(Sd=!0,P2())}function ro(n,s){if(!Ed&&gc){Ed=!0;do for(var c=!1,h=pc;h!==null;){if(n!==0){var g=h.pendingLanes;if(g===0)var v=0;else{var S=h.suspendedLanes,C=h.pingedLanes;v=(1<<31-hn(42|n)+1)-1,v&=g&~(S&~C),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,L0(h,v))}else v=Mt,v=xl(h,h===Yt?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||Tr(h,v)||(c=!0,L0(h,v));h=h.next}while(c);Ed=!1}}function L2(){D0()}function D0(){gc=Sd=!1;var n=0;ls!==0&&G2()&&(n=ls);for(var s=Ge(),c=null,h=pc;h!==null;){var g=h.next,v=j0(h,s);v===0?(h.next=null,c===null?pc=g:c.next=g,g===null&&(Ha=c)):(c=h,(n!==0||(v&3)!==0)&&(gc=!0)),h=g}Se!==0&&Se!==5||ro(n),ls!==0&&(ls=0)}function j0(n,s){for(var c=n.suspendedLanes,h=n.pingedLanes,g=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var S=31-hn(v),C=1<<S,j=g[S];j===-1?((C&c)===0||(C&h)!==0)&&(g[S]=oS(C,s)):j<=s&&(n.expiredLanes|=C),v&=~C}if(s=Yt,c=Mt,c=xl(n,n===s?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h=n.callbackNode,c===0||n===s&&(It===2||It===9)||n.cancelPendingCommit!==null)return h!==null&&h!==null&&Ar(h),n.callbackNode=null,n.callbackPriority=0;if((c&3)===0||Tr(n,c)){if(s=c&-c,s===n.callbackPriority)return s;switch(h!==null&&Ar(h),zu(c)){case 2:case 8:c=gl;break;case 32:c=cn;break;case 268435456:c=Hn;break;default:c=cn}return h=k0.bind(null,n),c=_s(c,h),n.callbackPriority=s,n.callbackNode=c,s}return h!==null&&h!==null&&Ar(h),n.callbackPriority=2,n.callbackNode=null,2}function k0(n,s){if(Se!==0&&Se!==5)return n.callbackNode=null,n.callbackPriority=0,null;var c=n.callbackNode;if(mc()&&n.callbackNode!==c)return null;var h=Mt;return h=xl(n,n===Yt?h:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h===0?null:(m0(n,h,s),j0(n,Ge()),n.callbackNode!=null&&n.callbackNode===c?k0.bind(null,n):null)}function L0(n,s){if(mc())return null;m0(n,s,!0)}function P2(){X2(function(){(Ft&6)!==0?_s(pl,L2):D0()})}function Td(){if(ls===0){var n=Na;n===0&&(n=yl,yl<<=1,(yl&261888)===0&&(yl=256)),ls=n}return ls}function P0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:El(""+n)}function O0(n,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,n.id&&c.setAttribute("form",n.id),s.parentNode.insertBefore(c,s),n=new FormData(n),c.parentNode.removeChild(c),n}function O2(n,s,c,h,g){if(s==="submit"&&c&&c.stateNode===g){var v=P0((g[Qe]||null).action),S=h.submitter;S&&(s=(s=S[Qe]||null)?P0(s.formAction):S.getAttribute("formAction"),s!==null&&(v=s,S=null));var C=new Nl("action","action",null,h,g);n.push({event:C,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ls!==0){var j=S?O0(g,S):new FormData(g);Gh(c,{pending:!0,data:j,method:g.method,action:v},null,j)}}else typeof v=="function"&&(C.preventDefault(),j=S?O0(g,S):new FormData(g),Gh(c,{pending:!0,data:j,method:g.method,action:v},v,j))},currentTarget:g}]})}}for(var Cd=0;Cd<lh.length;Cd++){var _d=lh[Cd],B2=_d.toLowerCase(),F2=_d[0].toUpperCase()+_d.slice(1);qn(B2,"on"+F2)}qn(fg,"onAnimationEnd"),qn(mg,"onAnimationIteration"),qn(pg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(t2,"onTransitionRun"),qn(e2,"onTransitionStart"),qn(n2,"onTransitionCancel"),qn(gg,"onTransitionEnd"),ma("onMouseEnter",["mouseout","mouseover"]),ma("onMouseLeave",["mouseout","mouseover"]),ma("onPointerEnter",["pointerout","pointerover"]),ma("onPointerLeave",["pointerout","pointerover"]),Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oo));function B0(n,s){s=(s&4)!==0;for(var c=0;c<n.length;c++){var h=n[c],g=h.event;h=h.listeners;t:{var v=void 0;if(s)for(var S=h.length-1;0<=S;S--){var C=h[S],j=C.instance,U=C.currentTarget;if(C=C.listener,j!==v&&g.isPropagationStopped())break t;v=C,g.currentTarget=U;try{v(g)}catch(X){Dl(X)}g.currentTarget=null,v=j}else for(S=0;S<h.length;S++){if(C=h[S],j=C.instance,U=C.currentTarget,C=C.listener,j!==v&&g.isPropagationStopped())break t;v=C,g.currentTarget=U;try{v(g)}catch(X){Dl(X)}g.currentTarget=null,v=j}}}}function Nt(n,s){var c=s[Iu];c===void 0&&(c=s[Iu]=new Set);var h=n+"__bubble";c.has(h)||(F0(s,n,2,!1),c.add(h))}function Nd(n,s,c){var h=0;s&&(h|=4),F0(c,n,h,s)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Md(n){if(!n[yc]){n[yc]=!0,Dp.forEach(function(c){c!=="selectionchange"&&(z2.has(c)||Nd(c,!1,n),Nd(c,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[yc]||(s[yc]=!0,Nd("selectionchange",!1,s))}}function F0(n,s,c,h){switch(fv(s)){case 2:var g=fE;break;case 8:g=mE;break;default:g=qd}c=g.bind(null,s,c,n),g=void 0,!Wu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?n.addEventListener(s,c,{capture:!0,passive:g}):n.addEventListener(s,c,!0):g!==void 0?n.addEventListener(s,c,{passive:g}):n.addEventListener(s,c,!1)}function Rd(n,s,c,h,g){var v=h;if((s&1)===0&&(s&2)===0&&h!==null)t:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var C=h.stateNode.containerInfo;if(C===g)break;if(S===4)for(S=h.return;S!==null;){var j=S.tag;if((j===3||j===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;C!==null;){if(S=ha(C),S===null)return;if(j=S.tag,j===5||j===6||j===26||j===27){h=v=S;continue t}C=C.parentNode}}h=h.return}Hp(function(){var U=v,X=Xu(c),K=[];t:{var q=yg.get(n);if(q!==void 0){var G=Nl,st=n;switch(n){case"keypress":if(Cl(c)===0)break t;case"keydown":case"keyup":G=jS;break;case"focusin":st="focus",G=Ju;break;case"focusout":st="blur",G=Ju;break;case"beforeblur":case"afterblur":G=Ju;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=$p;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=xS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=PS;break;case fg:case mg:case pg:G=SS;break;case gg:G=BS;break;case"scroll":case"scrollend":G=vS;break;case"wheel":G=zS;break;case"copy":case"cut":case"paste":G=TS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Yp;break;case"toggle":case"beforetoggle":G=US}var yt=(s&4)!==0,qt=!yt&&(n==="scroll"||n==="scrollend"),z=yt?q!==null?q+"Capture":null:q;yt=[];for(var O=U,I;O!==null;){var W=O;if(I=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||I===null||z===null||(W=Mr(O,z),W!=null&&yt.push(lo(O,W,I))),qt)break;O=O.return}0<yt.length&&(q=new G(q,st,null,c,X),K.push({event:q,listeners:yt}))}}if((s&7)===0){t:{if(q=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",q&&c!==$u&&(st=c.relatedTarget||c.fromElement)&&(ha(st)||st[ua]))break t;if((G||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,G?(st=c.relatedTarget||c.toElement,G=U,st=st?ha(st):null,st!==null&&(qt=o(st),yt=st.tag,st!==qt||yt!==5&&yt!==27&&yt!==6)&&(st=null)):(G=null,st=U),G!==st)){if(yt=$p,W="onMouseLeave",z="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(yt=Yp,W="onPointerLeave",z="onPointerEnter",O="pointer"),qt=G==null?q:Nr(G),I=st==null?q:Nr(st),q=new yt(W,O+"leave",G,c,X),q.target=qt,q.relatedTarget=I,W=null,ha(X)===U&&(yt=new yt(z,O+"enter",st,c,X),yt.target=I,yt.relatedTarget=qt,W=yt),qt=W,G&&st)e:{for(yt=I2,z=G,O=st,I=0,W=z;W;W=yt(W))I++;W=0;for(var mt=O;mt;mt=yt(mt))W++;for(;0<I-W;)z=yt(z),I--;for(;0<W-I;)O=yt(O),W--;for(;I--;){if(z===O||O!==null&&z===O.alternate){yt=z;break e}z=yt(z),O=yt(O)}yt=null}else yt=null;G!==null&&z0(K,q,G,yt,!1),st!==null&&qt!==null&&z0(K,qt,st,yt,!0)}}t:{if(q=U?Nr(U):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Ot=ng;else if(tg(q))if(ig)Ot=QS;else{Ot=WS;var ct=YS}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?U&&Gu(U.elementType)&&(Ot=ng):Ot=KS;if(Ot&&(Ot=Ot(n,U))){eg(K,Ot,c,X);break t}ct&&ct(n,q,U),n==="focusout"&&U&&q.type==="number"&&U.memoizedProps.value!=null&&qu(q,"number",q.value)}switch(ct=U?Nr(U):window,n){case"focusin":(tg(ct)||ct.contentEditable==="true")&&(xa=ct,ah=U,Br=null);break;case"focusout":Br=ah=xa=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,hg(K,c,X);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":hg(K,c,X)}var Tt;if(eh)t:{switch(n){case"compositionstart":var Rt="onCompositionStart";break t;case"compositionend":Rt="onCompositionEnd";break t;case"compositionupdate":Rt="onCompositionUpdate";break t}Rt=void 0}else ba?Zp(n,c)&&(Rt="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(Rt="onCompositionStart");Rt&&(Wp&&c.locale!=="ko"&&(ba||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&ba&&(Tt=qp()):($i=X,Ku="value"in $i?$i.value:$i.textContent,ba=!0)),ct=vc(U,Rt),0<ct.length&&(Rt=new Xp(Rt,n,null,c,X),K.push({event:Rt,listeners:ct}),Tt?Rt.data=Tt:(Tt=Jp(c),Tt!==null&&(Rt.data=Tt)))),(Tt=HS?qS(n,c):GS(n,c))&&(Rt=vc(U,"onBeforeInput"),0<Rt.length&&(ct=new Xp("onBeforeInput","beforeinput",null,c,X),K.push({event:ct,listeners:Rt}),ct.data=Tt)),O2(K,n,U,c,X)}B0(K,s)})}function lo(n,s,c){return{instance:n,listener:s,currentTarget:c}}function vc(n,s){for(var c=s+"Capture",h=[];n!==null;){var g=n,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Mr(n,c),g!=null&&h.unshift(lo(n,g,v)),g=Mr(n,s),g!=null&&h.push(lo(n,g,v))),n.tag===3)return h;n=n.return}return[]}function I2(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function z0(n,s,c,h,g){for(var v=s._reactName,S=[];c!==null&&c!==h;){var C=c,j=C.alternate,U=C.stateNode;if(C=C.tag,j!==null&&j===h)break;C!==5&&C!==26&&C!==27||U===null||(j=U,g?(U=Mr(c,v),U!=null&&S.unshift(lo(c,U,j))):g||(U=Mr(c,v),U!=null&&S.push(lo(c,U,j)))),c=c.return}S.length!==0&&n.push({event:s,listeners:S})}var U2=/\r\n?/g,V2=/\u0000|\uFFFD/g;function I0(n){return(typeof n=="string"?n:""+n).replace(U2,`
`).replace(V2,"")}function U0(n,s){return s=I0(s),I0(n)===s}function Ht(n,s,c,h,g,v){switch(c){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||ga(n,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&ga(n,""+h);break;case"className":Al(n,"class",h);break;case"tabIndex":Al(n,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Al(n,c,h);break;case"style":Up(n,h,v);break;case"data":if(s!=="object"){Al(n,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||c!=="href")){n.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(c);break}h=El(""+h),n.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){n.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(s!=="input"&&Ht(n,s,"name",g.name,g,null),Ht(n,s,"formEncType",g.formEncType,g,null),Ht(n,s,"formMethod",g.formMethod,g,null),Ht(n,s,"formTarget",g.formTarget,g,null)):(Ht(n,s,"encType",g.encType,g,null),Ht(n,s,"method",g.method,g,null),Ht(n,s,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(c);break}h=El(""+h),n.setAttribute(c,h);break;case"onClick":h!=null&&(n.onclick=gi);break;case"onScroll":h!=null&&Nt("scroll",n);break;case"onScrollEnd":h!=null&&Nt("scrollend",n);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=c}}break;case"multiple":n.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":n.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){n.removeAttribute("xlink:href");break}c=El(""+h),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(c,""+h):n.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(c,""):n.removeAttribute(c);break;case"capture":case"download":h===!0?n.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(c,h):n.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?n.setAttribute(c,h):n.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?n.removeAttribute(c):n.setAttribute(c,h);break;case"popover":Nt("beforetoggle",n),Nt("toggle",n),wl(n,"popover",h);break;case"xlinkActuate":pi(n,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":pi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":pi(n,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":pi(n,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":pi(n,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":pi(n,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":pi(n,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":pi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":pi(n,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":wl(n,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=gS.get(c)||c,wl(n,c,h))}}function Dd(n,s,c,h,g,v){switch(c){case"style":Up(n,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=c}}break;case"children":typeof h=="string"?ga(n,h):(typeof h=="number"||typeof h=="bigint")&&ga(n,""+h);break;case"onScroll":h!=null&&Nt("scroll",n);break;case"onScrollEnd":h!=null&&Nt("scrollend",n);break;case"onClick":h!=null&&(n.onclick=gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jp.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),s=c.slice(2,g?c.length-7:void 0),v=n[Qe]||null,v=v!=null?v[c]:null,typeof v=="function"&&n.removeEventListener(s,v,g),typeof h=="function")){typeof v!="function"&&v!==null&&(c in n?n[c]=null:n.hasAttribute(c)&&n.removeAttribute(c)),n.addEventListener(s,h,g);break t}c in n?n[c]=h:h===!0?n.setAttribute(c,""):wl(n,c,h)}}}function Pe(n,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",n),Nt("load",n);var h=!1,g=!1,v;for(v in c)if(c.hasOwnProperty(v)){var S=c[v];if(S!=null)switch(v){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ht(n,s,v,S,c,null)}}g&&Ht(n,s,"srcSet",c.srcSet,c,null),h&&Ht(n,s,"src",c.src,c,null);return;case"input":Nt("invalid",n);var C=v=S=g=null,j=null,U=null;for(h in c)if(c.hasOwnProperty(h)){var X=c[h];if(X!=null)switch(h){case"name":g=X;break;case"type":S=X;break;case"checked":j=X;break;case"defaultChecked":U=X;break;case"value":v=X;break;case"defaultValue":C=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:Ht(n,s,h,X,c,null)}}Bp(n,v,C,j,U,S,g,!1);return;case"select":Nt("invalid",n),h=S=v=null;for(g in c)if(c.hasOwnProperty(g)&&(C=c[g],C!=null))switch(g){case"value":v=C;break;case"defaultValue":S=C;break;case"multiple":h=C;default:Ht(n,s,g,C,c,null)}s=v,c=S,n.multiple=!!h,s!=null?pa(n,!!h,s,!1):c!=null&&pa(n,!!h,c,!0);return;case"textarea":Nt("invalid",n),v=g=h=null;for(S in c)if(c.hasOwnProperty(S)&&(C=c[S],C!=null))switch(S){case"value":h=C;break;case"defaultValue":g=C;break;case"children":v=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:Ht(n,s,S,C,c,null)}zp(n,h,g,v);return;case"option":for(j in c)c.hasOwnProperty(j)&&(h=c[j],h!=null)&&(j==="selected"?n.selected=h&&typeof h!="function"&&typeof h!="symbol":Ht(n,s,j,h,c,null));return;case"dialog":Nt("beforetoggle",n),Nt("toggle",n),Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":Nt("load",n);break;case"video":case"audio":for(h=0;h<oo.length;h++)Nt(oo[h],n);break;case"image":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"embed":case"source":case"link":Nt("error",n),Nt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in c)if(c.hasOwnProperty(U)&&(h=c[U],h!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ht(n,s,U,h,c,null)}return;default:if(Gu(s)){for(X in c)c.hasOwnProperty(X)&&(h=c[X],h!==void 0&&Dd(n,s,X,h,c,void 0));return}}for(C in c)c.hasOwnProperty(C)&&(h=c[C],h!=null&&Ht(n,s,C,h,c,null))}function H2(n,s,c,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,S=null,C=null,j=null,U=null,X=null;for(G in c){var K=c[G];if(c.hasOwnProperty(G)&&K!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":j=K;default:h.hasOwnProperty(G)||Ht(n,s,G,null,h,K)}}for(var q in h){var G=h[q];if(K=c[q],h.hasOwnProperty(q)&&(G!=null||K!=null))switch(q){case"type":v=G;break;case"name":g=G;break;case"checked":U=G;break;case"defaultChecked":X=G;break;case"value":S=G;break;case"defaultValue":C=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:G!==K&&Ht(n,s,q,G,h,K)}}Hu(n,S,C,j,U,X,v,g);return;case"select":G=S=C=q=null;for(v in c)if(j=c[v],c.hasOwnProperty(v)&&j!=null)switch(v){case"value":break;case"multiple":G=j;default:h.hasOwnProperty(v)||Ht(n,s,v,null,h,j)}for(g in h)if(v=h[g],j=c[g],h.hasOwnProperty(g)&&(v!=null||j!=null))switch(g){case"value":q=v;break;case"defaultValue":C=v;break;case"multiple":S=v;default:v!==j&&Ht(n,s,g,v,h,j)}s=C,c=S,h=G,q!=null?pa(n,!!c,q,!1):!!h!=!!c&&(s!=null?pa(n,!!c,s,!0):pa(n,!!c,c?[]:"",!1));return;case"textarea":G=q=null;for(C in c)if(g=c[C],c.hasOwnProperty(C)&&g!=null&&!h.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ht(n,s,C,null,h,g)}for(S in h)if(g=h[S],v=c[S],h.hasOwnProperty(S)&&(g!=null||v!=null))switch(S){case"value":q=g;break;case"defaultValue":G=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==v&&Ht(n,s,S,g,h,v)}Fp(n,q,G);return;case"option":for(var st in c)q=c[st],c.hasOwnProperty(st)&&q!=null&&!h.hasOwnProperty(st)&&(st==="selected"?n.selected=!1:Ht(n,s,st,null,h,q));for(j in h)q=h[j],G=c[j],h.hasOwnProperty(j)&&q!==G&&(q!=null||G!=null)&&(j==="selected"?n.selected=q&&typeof q!="function"&&typeof q!="symbol":Ht(n,s,j,q,h,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in c)q=c[yt],c.hasOwnProperty(yt)&&q!=null&&!h.hasOwnProperty(yt)&&Ht(n,s,yt,null,h,q);for(U in h)if(q=h[U],G=c[U],h.hasOwnProperty(U)&&q!==G&&(q!=null||G!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,s));break;default:Ht(n,s,U,q,h,G)}return;default:if(Gu(s)){for(var qt in c)q=c[qt],c.hasOwnProperty(qt)&&q!==void 0&&!h.hasOwnProperty(qt)&&Dd(n,s,qt,void 0,h,q);for(X in h)q=h[X],G=c[X],!h.hasOwnProperty(X)||q===G||q===void 0&&G===void 0||Dd(n,s,X,q,h,G);return}}for(var z in c)q=c[z],c.hasOwnProperty(z)&&q!=null&&!h.hasOwnProperty(z)&&Ht(n,s,z,null,h,q);for(K in h)q=h[K],G=c[K],!h.hasOwnProperty(K)||q===G||q==null&&G==null||Ht(n,s,K,q,h,G)}function V0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q2(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var g=c[h],v=g.transferSize,S=g.initiatorType,C=g.duration;if(v&&C&&V0(S)){for(S=0,C=g.responseEnd,h+=1;h<c.length;h++){var j=c[h],U=j.startTime;if(U>C)break;var X=j.transferSize,K=j.initiatorType;X&&V0(K)&&(j=j.responseEnd,S+=X*(j<C?1:(C-U)/(j-U)))}if(--h,s+=8*(v+S)/(g.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var jd=null,kd=null;function bc(n){return n.nodeType===9?n:n.ownerDocument}function H0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q0(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Ld(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Pd=null;function G2(){var n=window.event;return n&&n.type==="popstate"?n===Pd?!1:(Pd=n,!0):(Pd=null,!1)}var G0=typeof setTimeout=="function"?setTimeout:void 0,$2=typeof clearTimeout=="function"?clearTimeout:void 0,$0=typeof Promise=="function"?Promise:void 0,X2=typeof queueMicrotask=="function"?queueMicrotask:typeof $0<"u"?function(n){return $0.resolve(null).then(n).catch(Y2)}:G0;function Y2(n){setTimeout(function(){throw n})}function cs(n){return n==="head"}function X0(n,s){var c=s,h=0;do{var g=c.nextSibling;if(n.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"||c==="/&"){if(h===0){n.removeChild(g),Xa(s);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")co(n.ownerDocument.documentElement);else if(c==="head"){c=n.ownerDocument.head,co(c);for(var v=c.firstChild;v;){var S=v.nextSibling,C=v.nodeName;v[_r]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||c.removeChild(v),v=S}}else c==="body"&&co(n.ownerDocument.body);c=g}while(c);Xa(s)}function Y0(n,s){var c=n;n=0;do{var h=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(n===0)break;n--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||n++;c=h}while(c)}function Od(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Od(c),Uu(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}n.removeChild(c)}}function W2(n,s,c,h){for(;n.nodeType===1;){var g=c;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(h){if(!n[_r])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=Dn(n.nextSibling),n===null)break}return null}function K2(n,s,c){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!c||(n=Dn(n.nextSibling),n===null))return null;return n}function W0(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Dn(n.nextSibling),n===null))return null;return n}function Bd(n){return n.data==="$?"||n.data==="$~"}function Fd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Q2(n,s){var c=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||c.readyState!=="loading")s();else{var h=function(){s(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),n._reactRetry=h}}function Dn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var zd=null;function K0(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"||c==="/&"){if(s===0)return Dn(n.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}n=n.nextSibling}return null}function Q0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return n;s--}else c!=="/$"&&c!=="/&"||s++}n=n.previousSibling}return null}function Z0(n,s,c){switch(s=bc(c),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function co(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Uu(n)}var jn=new Map,J0=new Set;function xc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ji=V.d;V.d={f:Z2,r:J2,D:tE,C:eE,L:nE,m:iE,X:aE,S:sE,M:rE};function Z2(){var n=ji.f(),s=hc();return n||s}function J2(n){var s=da(n);s!==null&&s.tag===5&&s.type==="form"?gy(s):ji.r(n)}var qa=typeof document>"u"?null:document;function tv(n,s,c){var h=qa;if(h&&typeof s=="string"&&s){var g=En(s);g='link[rel="'+n+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),J0.has(g)||(J0.add(g),n={rel:n,crossOrigin:c,href:s},h.querySelector(g)===null&&(s=h.createElement("link"),Pe(s,"link",n),Ce(s),h.head.appendChild(s)))}}function tE(n){ji.D(n),tv("dns-prefetch",n,null)}function eE(n,s){ji.C(n,s),tv("preconnect",n,s)}function nE(n,s,c){ji.L(n,s,c);var h=qa;if(h&&n&&s){var g='link[rel="preload"][as="'+En(s)+'"]';s==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+En(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+En(c.imageSizes)+'"]')):g+='[href="'+En(n)+'"]';var v=g;switch(s){case"style":v=Ga(n);break;case"script":v=$a(n)}jn.has(v)||(n=p({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:n,as:s},c),jn.set(v,n),h.querySelector(g)!==null||s==="style"&&h.querySelector(uo(v))||s==="script"&&h.querySelector(ho(v))||(s=h.createElement("link"),Pe(s,"link",n),Ce(s),h.head.appendChild(s)))}}function iE(n,s){ji.m(n,s);var c=qa;if(c&&n){var h=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+En(h)+'"][href="'+En(n)+'"]',v=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=$a(n)}if(!jn.has(v)&&(n=p({rel:"modulepreload",href:n},s),jn.set(v,n),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(ho(v)))return}h=c.createElement("link"),Pe(h,"link",n),Ce(h),c.head.appendChild(h)}}}function sE(n,s,c){ji.S(n,s,c);var h=qa;if(h&&n){var g=fa(h).hoistableStyles,v=Ga(n);s=s||"default";var S=g.get(v);if(!S){var C={loading:0,preload:null};if(S=h.querySelector(uo(v)))C.loading=5;else{n=p({rel:"stylesheet",href:n,"data-precedence":s},c),(c=jn.get(v))&&Id(n,c);var j=S=h.createElement("link");Ce(j),Pe(j,"link",n),j._p=new Promise(function(U,X){j.onload=U,j.onerror=X}),j.addEventListener("load",function(){C.loading|=1}),j.addEventListener("error",function(){C.loading|=2}),C.loading|=4,wc(S,s,h)}S={type:"stylesheet",instance:S,count:1,state:C},g.set(v,S)}}}function aE(n,s){ji.X(n,s);var c=qa;if(c&&n){var h=fa(c).hoistableScripts,g=$a(n),v=h.get(g);v||(v=c.querySelector(ho(g)),v||(n=p({src:n,async:!0},s),(s=jn.get(g))&&Ud(n,s),v=c.createElement("script"),Ce(v),Pe(v,"link",n),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function rE(n,s){ji.M(n,s);var c=qa;if(c&&n){var h=fa(c).hoistableScripts,g=$a(n),v=h.get(g);v||(v=c.querySelector(ho(g)),v||(n=p({src:n,async:!0,type:"module"},s),(s=jn.get(g))&&Ud(n,s),v=c.createElement("script"),Ce(v),Pe(v,"link",n),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function ev(n,s,c,h){var g=(g=gt.current)?xc(g):null;if(!g)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Ga(c.href),c=fa(g).hoistableStyles,h=c.get(s),h||(h={type:"style",instance:null,count:0,state:null},c.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){n=Ga(c.href);var v=fa(g).hoistableStyles,S=v.get(n);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,S),(v=g.querySelector(uo(n)))&&!v._p&&(S.instance=v,S.state.loading=5),jn.has(n)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},jn.set(n,c),v||oE(g,n,c,S.state))),s&&h===null)throw Error(i(528,""));return S}if(s&&h!==null)throw Error(i(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=$a(c),c=fa(g).hoistableScripts,h=c.get(s),h||(h={type:"script",instance:null,count:0,state:null},c.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Ga(n){return'href="'+En(n)+'"'}function uo(n){return'link[rel="stylesheet"]['+n+"]"}function nv(n){return p({},n,{"data-precedence":n.precedence,precedence:null})}function oE(n,s,c,h){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=n.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Pe(s,"link",c),Ce(s),n.head.appendChild(s))}function $a(n){return'[src="'+En(n)+'"]'}function ho(n){return"script[async]"+n}function iv(n,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var h=n.querySelector('style[data-href~="'+En(c.href)+'"]');if(h)return s.instance=h,Ce(h),h;var g=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(n.ownerDocument||n).createElement("style"),Ce(h),Pe(h,"style",g),wc(h,c.precedence,n),s.instance=h;case"stylesheet":g=Ga(c.href);var v=n.querySelector(uo(g));if(v)return s.state.loading|=4,s.instance=v,Ce(v),v;h=nv(c),(g=jn.get(g))&&Id(h,g),v=(n.ownerDocument||n).createElement("link"),Ce(v);var S=v;return S._p=new Promise(function(C,j){S.onload=C,S.onerror=j}),Pe(v,"link",h),s.state.loading|=4,wc(v,c.precedence,n),s.instance=v;case"script":return v=$a(c.src),(g=n.querySelector(ho(v)))?(s.instance=g,Ce(g),g):(h=c,(g=jn.get(v))&&(h=p({},c),Ud(h,g)),n=n.ownerDocument||n,g=n.createElement("script"),Ce(g),Pe(g,"link",h),n.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,wc(h,c.precedence,n));return s.instance}function wc(n,s,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,v=g,S=0;S<h.length;S++){var C=h[S];if(C.dataset.precedence===s)v=C;else if(v!==g)break}v?v.parentNode.insertBefore(n,v.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(n,s.firstChild))}function Id(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Ud(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Ac=null;function sv(n,s,c){if(Ac===null){var h=new Map,g=Ac=new Map;g.set(c,h)}else g=Ac,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(n))return h;for(h.set(n,null),c=c.getElementsByTagName(n),g=0;g<c.length;g++){var v=c[g];if(!(v[_r]||v[De]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(s)||"";S=n+S;var C=h.get(S);C?C.push(v):h.set(S,[v])}}return h}function av(n,s,c){n=n.ownerDocument||n,n.head.insertBefore(c,s==="title"?n.querySelector("head > title"):null)}function lE(n,s,c){if(c===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function rv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function cE(n,s,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=Ga(h.href),v=s.querySelector(uo(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Sc.bind(n),s.then(n,n)),c.state.loading|=4,c.instance=v,Ce(v);return}v=s.ownerDocument||s,h=nv(h),(g=jn.get(g))&&Id(h,g),v=v.createElement("link"),Ce(v);var S=v;S._p=new Promise(function(C,j){S.onload=C,S.onerror=j}),Pe(v,"link",h),c.instance=v}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(n.count++,c=Sc.bind(n),s.addEventListener("load",c),s.addEventListener("error",c))}}var Vd=0;function uE(n,s){return n.stylesheets&&n.count===0&&Tc(n,n.stylesheets),0<n.count||0<n.imgCount?function(c){var h=setTimeout(function(){if(n.stylesheets&&Tc(n,n.stylesheets),n.unsuspend){var v=n.unsuspend;n.unsuspend=null,v()}},6e4+s);0<n.imgBytes&&Vd===0&&(Vd=62500*q2());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Tc(n,n.stylesheets),n.unsuspend)){var v=n.unsuspend;n.unsuspend=null,v()}},(n.imgBytes>Vd?50:800)+s);return n.unsuspend=c,function(){n.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ec=null;function Tc(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ec=new Map,s.forEach(hE,n),Ec=null,Sc.call(n))}function hE(n,s){if(!(s.state.loading&4)){var c=Ec.get(n);if(c)var h=c.get(null);else{c=new Map,Ec.set(n,c);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var S=g[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),h=S)}h&&c.set(null,h)}g=s.instance,S=g.getAttribute("data-precedence"),v=c.get(S)||h,v===h&&c.set(null,g),c.set(S,g),this.count++,h=Sc.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),v?v.parentNode.insertBefore(g,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),s.state.loading|=4}}var fo={$$typeof:N,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function dE(n,s,c,h,g,v,S,C,j){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bu(0),this.hiddenUpdates=Bu(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function ov(n,s,c,h,g,v,S,C,j,U,X,K){return n=new dE(n,s,c,S,j,U,X,K,C),s=1,v===!0&&(s|=24),v=fn(3,null,null,s),n.current=v,v.stateNode=n,s=wh(),s.refCount++,n.pooledCache=s,s.refCount++,v.memoizedState={element:h,isDehydrated:c,cache:s},Th(v),n}function lv(n){return n?(n=Sa,n):Sa}function cv(n,s,c,h,g,v){g=lv(g),h.context===null?h.context=g:h.pendingContext=g,h=Zi(s),h.payload={element:c},v=v===void 0?null:v,v!==null&&(h.callback=v),c=Ji(n,h,s),c!==null&&(sn(c,n,s),qr(c,n,s))}function uv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<s?c:s}}function Hd(n,s){uv(n,s),(n=n.alternate)&&uv(n,s)}function hv(n){if(n.tag===13||n.tag===31){var s=ks(n,67108864);s!==null&&sn(s,n,67108864),Hd(n,67108864)}}function dv(n){if(n.tag===13||n.tag===31){var s=vn();s=Fu(s);var c=ks(n,s);c!==null&&sn(c,n,s),Hd(n,s)}}var Cc=!0;function fE(n,s,c,h){var g=B.T;B.T=null;var v=V.p;try{V.p=2,qd(n,s,c,h)}finally{V.p=v,B.T=g}}function mE(n,s,c,h){var g=B.T;B.T=null;var v=V.p;try{V.p=8,qd(n,s,c,h)}finally{V.p=v,B.T=g}}function qd(n,s,c,h){if(Cc){var g=Gd(h);if(g===null)Rd(n,s,h,_c,c),mv(n,h);else if(gE(g,n,s,c,h))h.stopPropagation();else if(mv(n,h),s&4&&-1<pE.indexOf(n)){for(;g!==null;){var v=da(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=Ns(v.pendingLanes);if(S!==0){var C=v;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var j=1<<31-hn(S);C.entanglements[1]|=j,S&=~j}ei(v),(Ft&6)===0&&(cc=Ge()+500,ro(0))}}break;case 31:case 13:C=ks(v,2),C!==null&&sn(C,v,2),hc(),Hd(v,2)}if(v=Gd(h),v===null&&Rd(n,s,h,_c,c),v===g)break;g=v}g!==null&&h.stopPropagation()}else Rd(n,s,h,null,c)}}function Gd(n){return n=Xu(n),$d(n)}var _c=null;function $d(n){if(_c=null,n=ha(n),n!==null){var s=o(n);if(s===null)n=null;else{var c=s.tag;if(c===13){if(n=l(s),n!==null)return n;n=null}else if(c===31){if(n=u(s),n!==null)return n;n=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return _c=n,null}function fv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ou()){case pl:return 2;case gl:return 8;case cn:case Hi:return 32;case Hn:return 268435456;default:return 32}default:return 32}}var Xd=!1,us=null,hs=null,ds=null,mo=new Map,po=new Map,fs=[],pE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mv(n,s){switch(n){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":mo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(s.pointerId)}}function go(n,s,c,h,g,v){return n===null||n.nativeEvent!==v?(n={blockedOn:s,domEventName:c,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},s!==null&&(s=da(s),s!==null&&hv(s)),n):(n.eventSystemFlags|=h,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function gE(n,s,c,h,g){switch(s){case"focusin":return us=go(us,n,s,c,h,g),!0;case"dragenter":return hs=go(hs,n,s,c,h,g),!0;case"mouseover":return ds=go(ds,n,s,c,h,g),!0;case"pointerover":var v=g.pointerId;return mo.set(v,go(mo.get(v)||null,n,s,c,h,g)),!0;case"gotpointercapture":return v=g.pointerId,po.set(v,go(po.get(v)||null,n,s,c,h,g)),!0}return!1}function pv(n){var s=ha(n.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){n.blockedOn=s,Mp(n.priority,function(){dv(c)});return}}else if(s===31){if(s=u(c),s!==null){n.blockedOn=s,Mp(n.priority,function(){dv(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Nc(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var c=Gd(n.nativeEvent);if(c===null){c=n.nativeEvent;var h=new c.constructor(c.type,c);$u=h,c.target.dispatchEvent(h),$u=null}else return s=da(c),s!==null&&hv(s),n.blockedOn=c,!1;s.shift()}return!0}function gv(n,s,c){Nc(n)&&c.delete(s)}function yE(){Xd=!1,us!==null&&Nc(us)&&(us=null),hs!==null&&Nc(hs)&&(hs=null),ds!==null&&Nc(ds)&&(ds=null),mo.forEach(gv),po.forEach(gv)}function Mc(n,s){n.blockedOn===s&&(n.blockedOn=null,Xd||(Xd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,yE)))}var Rc=null;function yv(n){Rc!==n&&(Rc=n,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Rc===n&&(Rc=null);for(var s=0;s<n.length;s+=3){var c=n[s],h=n[s+1],g=n[s+2];if(typeof h!="function"){if($d(h||c)===null)continue;break}var v=da(c);v!==null&&(n.splice(s,3),s-=3,Gh(v,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function Xa(n){function s(j){return Mc(j,n)}us!==null&&Mc(us,n),hs!==null&&Mc(hs,n),ds!==null&&Mc(ds,n),mo.forEach(s),po.forEach(s);for(var c=0;c<fs.length;c++){var h=fs[c];h.blockedOn===n&&(h.blockedOn=null)}for(;0<fs.length&&(c=fs[0],c.blockedOn===null);)pv(c),c.blockedOn===null&&fs.shift();if(c=(n.ownerDocument||n).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],v=c[h+1],S=g[Qe]||null;if(typeof v=="function")S||yv(c);else if(S){var C=null;if(v&&v.hasAttribute("formAction")){if(g=v,S=v[Qe]||null)C=S.formAction;else if($d(g)!==null)continue}else C=S.action;typeof C=="function"?c[h+1]=C:(c.splice(h,3),h-=3),yv(c)}}}function vv(){function n(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(S){return g=S})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function Yd(n){this._internalRoot=n}Dc.prototype.render=Yd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var c=s.current,h=vn();cv(c,h,n,s,null,null)},Dc.prototype.unmount=Yd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;cv(n.current,2,null,n,null,null),hc(),s[ua]=null}};function Dc(n){this._internalRoot=n}Dc.prototype.unstable_scheduleHydration=function(n){if(n){var s=Np();n={blockedOn:null,target:n,priority:s};for(var c=0;c<fs.length&&s!==0&&s<fs[c].priority;c++);fs.splice(c,0,n),c===0&&pv(n)}};var bv=t.version;if(bv!=="19.2.3")throw Error(i(527,bv,"19.2.3"));V.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=f(s),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var vE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Er=jc.inject(vE),un=jc}catch{}}return vo.createRoot=function(n,s){if(!r(n))throw Error(i(299));var c=!1,h="",g=Cy,v=_y,S=Ny;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=ov(n,1,!1,null,null,c,h,null,g,v,S,vv),n[ua]=s.current,Md(n),new Yd(s)},vo.hydrateRoot=function(n,s,c){if(!r(n))throw Error(i(299));var h=!1,g="",v=Cy,S=_y,C=Ny,j=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(C=c.onRecoverableError),c.formState!==void 0&&(j=c.formState)),s=ov(n,1,!0,s,c??null,h,g,j,v,S,C,vv),s.context=lv(null),c=s.current,h=vn(),h=Fu(h),g=Zi(h),g.callback=null,Ji(c,g,h),c=h,s.current.lanes=c,Cr(s,c),ei(s),n[ua]=s.current,Md(n),new Dc(s)},vo.version="19.2.3",vo}var Dv;function ME(){if(Dv)return Zd.exports;Dv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Zd.exports=NE(),Zd.exports}var RE=ME();var jv="popstate";function DE(a={}){function t(r,o){let{pathname:l="/",search:u="",hash:d=""}=ra(r.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),kf("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(r,o){let l=r.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=r.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof o=="string"?o:Bo(o))}function i(r,o){Kn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return kE(t,e,i,a)}function oe(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function Kn(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jE(){return Math.random().toString(36).substring(2,10)}function kv(a,t){return{usr:a.state,key:a.key,idx:t}}function kf(a,t,e=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?ra(t):t,state:e,key:t&&t.key||i||jE()}}function Bo({pathname:a="/",search:t="",hash:e=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(a+=e.charAt(0)==="#"?e:"#"+e),a}function ra(a){let t={};if(a){let e=a.indexOf("#");e>=0&&(t.hash=a.substring(e),a=a.substring(0,e));let i=a.indexOf("?");i>=0&&(t.search=a.substring(i),a=a.substring(0,i)),a&&(t.pathname=a)}return t}function kE(a,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,u="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function p(){u="POP";let T=m(),E=T==null?null:T-f;f=T,d&&d({action:u,location:A.location,delta:E})}function b(T,E){u="PUSH";let _=kf(A.location,T,E);e&&e(_,T),f=m()+1;let N=kv(_,f),R=A.createHref(_);try{l.pushState(N,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(R)}o&&d&&d({action:u,location:A.location,delta:1})}function x(T,E){u="REPLACE";let _=kf(A.location,T,E);e&&e(_,T),f=m();let N=kv(_,f),R=A.createHref(_);l.replaceState(N,"",R),o&&d&&d({action:u,location:A.location,delta:0})}function w(T){return LE(T)}let A={get action(){return u},get location(){return a(r,l)},listen(T){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(jv,p),d=T,()=>{r.removeEventListener(jv,p),d=null}},createHref(T){return t(r,T)},createURL:w,encodeLocation(T){let E=w(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:x,go(T){return l.go(T)}};return A}function LE(a,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),oe(e,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:Bo(a);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function Xx(a,t,e="/"){return PE(a,t,e,!1)}function PE(a,t,e,i){let r=typeof t=="string"?ra(t):t,o=Fi(r.pathname||"/",e);if(o==null)return null;let l=Yx(a);OE(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=XE(o);u=GE(l[d],f,i)}return u}function Yx(a,t=[],e=[],i="",r=!1){let o=(l,u,d=r,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&d)return;oe(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let p=Pi([i,m.relativePath]),b=e.concat(m);l.children&&l.children.length>0&&(oe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Yx(l.children,t,b,p,d)),!(l.path==null&&!l.index)&&t.push({path:p,score:HE(p,l.index),routesMeta:b})};return a.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let d of Wx(l.path))o(l,u,!0,d)}),t}function Wx(a){let t=a.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=Wx(i.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&u.push(...l),u.map(d=>a.startsWith("/")&&d===""?"/":d)}function OE(a){a.sort((t,e)=>t.score!==e.score?e.score-t.score:qE(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var BE=/^:[\w-]+$/,FE=3,zE=2,IE=1,UE=10,VE=-2,Lv=a=>a==="*";function HE(a,t){let e=a.split("/"),i=e.length;return e.some(Lv)&&(i+=VE),t&&(i+=zE),e.filter(r=>!Lv(r)).reduce((r,o)=>r+(BE.test(o)?FE:o===""?IE:UE),i)}function qE(a,t){return a.length===t.length&&a.slice(0,-1).every((i,r)=>i===t[r])?a[a.length-1]-t[t.length-1]:0}function GE(a,t,e=!1){let{routesMeta:i}=a,r={},o="/",l=[];for(let u=0;u<i.length;++u){let d=i[u],f=u===i.length-1,m=o==="/"?t:t.slice(o.length)||"/",p=iu({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),b=d.route;if(!p&&f&&e&&!i[i.length-1].route.index&&(p=iu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!p)return null;Object.assign(r,p.params),l.push({params:r,pathname:Pi([o,p.pathname]),pathnameBase:QE(Pi([o,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(o=Pi([o,p.pathnameBase]))}return l}function iu(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[e,i]=$E(a.path,a.caseSensitive,a.end),r=t.match(e);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:m,isOptional:p},b)=>{if(m==="*"){let w=u[b]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const x=u[b];return p&&!x?f[m]=void 0:f[m]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:a}}function $E(a,t=!1,e=!0){Kn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],r="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(i.push({paramName:"*"}),r+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":a!==""&&a!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function XE(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function Fi(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=a.charAt(e);return i&&i!=="/"?null:a.slice(e)||"/"}var YE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function WE(a,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof a=="string"?ra(a):a,o;return e?(e=e.replace(/\/\/+/g,"/"),e.startsWith("/")?o=Pv(e.substring(1),"/"):o=Pv(e,t)):o=t,{pathname:o,search:ZE(i),hash:JE(r)}}function Pv(a,t){let e=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function nf(a,t,e,i){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KE(a){return a.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Kx(a){let t=KE(a);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Qx(a,t,e,i=!1){let r;typeof a=="string"?r=ra(a):(r={...a},oe(!r.pathname||!r.pathname.includes("?"),nf("?","pathname","search",r)),oe(!r.pathname||!r.pathname.includes("#"),nf("#","pathname","hash",r)),oe(!r.search||!r.search.includes("#"),nf("#","search","hash",r)));let o=a===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=e;else{let p=t.length-1;if(!i&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),p-=1;r.pathname=b.join("/")}u=p>=0?t[p]:"/"}let d=WE(r,u),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Pi=a=>a.join("/").replace(/\/\/+/g,"/"),QE=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),ZE=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,JE=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,tT=class{constructor(a,t,e,i=!1){this.status=a,this.statusText=t||"",this.internal=i,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function eT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function nT(a){return a.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Zx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Jx(a,t){let e=a;if(typeof e!="string"||!YE.test(e))return{absoluteURL:void 0,isExternal:!1,to:e};let i=e,r=!1;if(Zx)try{let o=new URL(window.location.href),l=e.startsWith("//")?new URL(o.protocol+e):new URL(e),u=Fi(l.pathname,t);l.origin===o.origin&&u!=null?e=u+l.search+l.hash:r=!0}catch{Kn(!1,`<Link to="${e}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var t1=["POST","PUT","PATCH","DELETE"];new Set(t1);var iT=["GET",...t1];new Set(iT);var pr=M.createContext(null);pr.displayName="DataRouter";var vu=M.createContext(null);vu.displayName="DataRouterState";var sT=M.createContext(!1),e1=M.createContext({isTransitioning:!1});e1.displayName="ViewTransition";var aT=M.createContext(new Map);aT.displayName="Fetchers";var rT=M.createContext(null);rT.displayName="Await";var Vn=M.createContext(null);Vn.displayName="Navigation";var Wo=M.createContext(null);Wo.displayName="Location";var mi=M.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var vm=M.createContext(null);vm.displayName="RouteError";var n1="REACT_ROUTER_ERROR",oT="REDIRECT",lT="ROUTE_ERROR_RESPONSE";function cT(a){if(a.startsWith(`${n1}:${oT}:{`))try{let t=JSON.parse(a.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function uT(a){if(a.startsWith(`${n1}:${lT}:{`))try{let t=JSON.parse(a.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new tT(t.status,t.statusText,t.data)}catch{}}function hT(a,{relative:t}={}){oe(Ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=M.useContext(Vn),{hash:r,pathname:o,search:l}=Qo(a,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:Pi([e,o])),i.createHref({pathname:u,search:l,hash:r})}function Ko(){return M.useContext(Wo)!=null}function Ts(){return oe(Ko(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Wo).location}var i1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function s1(a){M.useContext(Vn).static||M.useLayoutEffect(a)}function dT(){let{isDataRoute:a}=M.useContext(mi);return a?CT():fT()}function fT(){oe(Ko(),"useNavigate() may be used only in the context of a <Router> component.");let a=M.useContext(pr),{basename:t,navigator:e}=M.useContext(Vn),{matches:i}=M.useContext(mi),{pathname:r}=Ts(),o=JSON.stringify(Kx(i)),l=M.useRef(!1);return s1(()=>{l.current=!0}),M.useCallback((d,f={})=>{if(Kn(l.current,i1),!l.current)return;if(typeof d=="number"){e.go(d);return}let m=Qx(d,JSON.parse(o),r,f.relative==="path");a==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Pi([t,m.pathname])),(f.replace?e.replace:e.push)(m,f.state,f)},[t,e,o,r,a])}M.createContext(null);function mT(){let{matches:a}=M.useContext(mi),t=a[a.length-1];return t?t.params:{}}function Qo(a,{relative:t}={}){let{matches:e}=M.useContext(mi),{pathname:i}=Ts(),r=JSON.stringify(Kx(e));return M.useMemo(()=>Qx(a,JSON.parse(r),i,t==="path"),[a,r,i,t])}function pT(a,t){return a1(a,t)}function a1(a,t,e,i,r){oe(Ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=M.useContext(Vn),{matches:l}=M.useContext(mi),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",p=u&&u.route;{let _=p&&p.path||"";o1(f,!p||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let b=Ts(),x;if(t){let _=typeof t=="string"?ra(t):t;oe(m==="/"||_.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${_.pathname}" was given in the \`location\` prop.`),x=_}else x=b;let w=x.pathname||"/",A=w;if(m!=="/"){let _=m.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(_.length).join("/")}let T=Xx(a,{pathname:A});Kn(p||T!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Kn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=xT(T&&T.map(_=>Object.assign({},_,{params:Object.assign({},d,_.params),pathname:Pi([m,o.encodeLocation?o.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?m:Pi([m,o.encodeLocation?o.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),l,e,i,r);return t&&E?M.createElement(Wo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},E):E}function gT(){let a=TT(),t=eT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),e=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",a),l=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),e?M.createElement("pre",{style:r},e):null,l)}var yT=M.createElement(gT,null),r1=class extends M.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.onError?this.props.onError(a,t):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const e=uT(a.digest);e&&(a=e)}let t=a!==void 0?M.createElement(mi.Provider,{value:this.props.routeContext},M.createElement(vm.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?M.createElement(vT,{error:a},t):t}};r1.contextType=sT;var sf=new WeakMap;function vT({children:a,error:t}){let{basename:e}=M.useContext(Vn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=cT(t.digest);if(i){let r=sf.get(t);if(r)throw r;let o=Jx(i.location,e);if(Zx&&!sf.get(t))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw sf.set(t,l),l}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return a}function bT({routeContext:a,match:t,children:e}){let i=M.useContext(pr);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(mi.Provider,{value:a},e)}function xT(a,t=[],e=null,i=null,r=null){if(a==null){if(!e)return null;if(e.errors)a=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)a=e.matches;else return null}let o=a,l=e?.errors;if(l!=null){let m=o.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);oe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,d=-1;if(e)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:b,errors:x}=e,w=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||w){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=e&&i?(m,p)=>{i(m,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:nT(e.matches),errorInfo:p})}:void 0;return o.reduceRight((m,p,b)=>{let x,w=!1,A=null,T=null;e&&(x=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||yT,u&&(d<0&&b===0?(o1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,T=null):d===b&&(w=!0,T=p.route.hydrateFallbackElement||null)));let E=t.concat(o.slice(0,b+1)),_=()=>{let N;return x?N=A:w?N=T:p.route.Component?N=M.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=m,M.createElement(bT,{match:p,routeContext:{outlet:m,matches:E,isDataRoute:e!=null},children:N})};return e&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?M.createElement(r1,{location:e.location,revalidation:e.revalidation,component:A,error:x,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:f}):_()},null)}function bm(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wT(a){let t=M.useContext(pr);return oe(t,bm(a)),t}function AT(a){let t=M.useContext(vu);return oe(t,bm(a)),t}function ST(a){let t=M.useContext(mi);return oe(t,bm(a)),t}function xm(a){let t=ST(a),e=t.matches[t.matches.length-1];return oe(e.route.id,`${a} can only be used on routes that contain a unique "id"`),e.route.id}function ET(){return xm("useRouteId")}function TT(){let a=M.useContext(vm),t=AT("useRouteError"),e=xm("useRouteError");return a!==void 0?a:t.errors?.[e]}function CT(){let{router:a}=wT("useNavigate"),t=xm("useNavigate"),e=M.useRef(!1);return s1(()=>{e.current=!0}),M.useCallback(async(r,o={})=>{Kn(e.current,i1),e.current&&(typeof r=="number"?await a.navigate(r):await a.navigate(r,{fromRouteId:t,...o}))},[a,t])}var Ov={};function o1(a,t,e){!t&&!Ov[a]&&(Ov[a]=!0,Kn(!1,e))}M.memo(_T);function _T({routes:a,future:t,state:e,onError:i}){return a1(a,void 0,e,i,t)}function Pn(a){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NT({basename:a="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1,unstable_useTransitions:l}){oe(!Ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=a.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:u,navigator:r,static:o,unstable_useTransitions:l,future:{}}),[u,r,o,l]);typeof e=="string"&&(e=ra(e));let{pathname:f="/",search:m="",hash:p="",state:b=null,key:x="default"}=e,w=M.useMemo(()=>{let A=Fi(f,u);return A==null?null:{location:{pathname:A,search:m,hash:p,state:b,key:x},navigationType:i}},[u,f,m,p,b,x,i]);return Kn(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:M.createElement(Vn.Provider,{value:d},M.createElement(Wo.Provider,{children:t,value:w}))}function MT({children:a,location:t}){return pT(Lf(a),t)}function Lf(a,t=[]){let e=[];return M.Children.forEach(a,(i,r)=>{if(!M.isValidElement(i))return;let o=[...t,r];if(i.type===M.Fragment){e.push.apply(e,Lf(i.props.children,o));return}oe(i.type===Pn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Lf(i.props.children,o)),e.push(l)}),e}var Wc="get",Kc="application/x-www-form-urlencoded";function bu(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function RT(a){return bu(a)&&a.tagName.toLowerCase()==="button"}function DT(a){return bu(a)&&a.tagName.toLowerCase()==="form"}function jT(a){return bu(a)&&a.tagName.toLowerCase()==="input"}function kT(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function LT(a,t){return a.button===0&&(!t||t==="_self")&&!kT(a)}var kc=null;function PT(){if(kc===null)try{new FormData(document.createElement("form"),0),kc=!1}catch{kc=!0}return kc}var OT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function af(a){return a!=null&&!OT.has(a)?(Kn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):a}function BT(a,t){let e,i,r,o,l;if(DT(a)){let u=a.getAttribute("action");i=u?Fi(u,t):null,e=a.getAttribute("method")||Wc,r=af(a.getAttribute("enctype"))||Kc,o=new FormData(a)}else if(RT(a)||jT(a)&&(a.type==="submit"||a.type==="image")){let u=a.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=a.getAttribute("formaction")||u.getAttribute("action");if(i=d?Fi(d,t):null,e=a.getAttribute("formmethod")||u.getAttribute("method")||Wc,r=af(a.getAttribute("formenctype"))||af(u.getAttribute("enctype"))||Kc,o=new FormData(u,a),!PT()){let{name:f,type:m,value:p}=a;if(m==="image"){let b=f?`${f}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else f&&o.append(f,p)}}else{if(bu(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Wc,i=null,r=Kc,l=a}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wm(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function FT(a,t,e,i){let r=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return e?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:t&&Fi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function zT(a,t){if(a.id in t)return t[a.id];try{let e=await import(a.module);return t[a.id]=e,e}catch(e){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IT(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function UT(a,t,e){let i=await Promise.all(a.map(async r=>{let o=t.routes[r.route.id];if(o){let l=await zT(o,e);return l.links?l.links():[]}return[]}));return GT(i.flat(1).filter(IT).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Bv(a,t,e,i,r,o){let l=(d,f)=>e[f]?d.route.id!==e[f].route.id:!0,u=(d,f)=>e[f].pathname!==d.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{let m=i.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function VT(a,t,{includeHydrateFallback:e}={}){return HT(a.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function HT(a){return[...new Set(a)]}function qT(a){let t={},e=Object.keys(a).sort();for(let i of e)t[i]=a[i];return t}function GT(a,t){let e=new Set;return new Set(t),a.reduce((i,r)=>{let o=JSON.stringify(qT(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function l1(){let a=M.useContext(pr);return wm(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function $T(){let a=M.useContext(vu);return wm(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Am=M.createContext(void 0);Am.displayName="FrameworkContext";function c1(){let a=M.useContext(Am);return wm(a,"You must render this element inside a <HydratedRouter> element"),a}function XT(a,t){let e=M.useContext(Am),[i,r]=M.useState(!1),[o,l]=M.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=t,b=M.useRef(null);M.useEffect(()=>{if(a==="render"&&l(!0),a==="viewport"){let A=E=>{E.forEach(_=>{l(_.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[a]),M.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let x=()=>{r(!0)},w=()=>{r(!1),l(!1)};return e?a!=="intent"?[o,b,{}]:[o,b,{onFocus:bo(u,x),onBlur:bo(d,w),onMouseEnter:bo(f,x),onMouseLeave:bo(m,w),onTouchStart:bo(p,x)}]:[!1,b,{}]}function bo(a,t){return e=>{a&&a(e),e.defaultPrevented||t(e)}}function YT({page:a,...t}){let{router:e}=l1(),i=M.useMemo(()=>Xx(e.routes,a,e.basename),[e.routes,a,e.basename]);return i?M.createElement(KT,{page:a,matches:i,...t}):null}function WT(a){let{manifest:t,routeModules:e}=c1(),[i,r]=M.useState([]);return M.useEffect(()=>{let o=!1;return UT(a,t,e).then(l=>{o||r(l)}),()=>{o=!0}},[a,t,e]),i}function KT({page:a,matches:t,...e}){let i=Ts(),{future:r,manifest:o,routeModules:l}=c1(),{basename:u}=l1(),{loaderData:d,matches:f}=$T(),m=M.useMemo(()=>Bv(a,t,f,o,i,"data"),[a,t,f,o,i]),p=M.useMemo(()=>Bv(a,t,f,o,i,"assets"),[a,t,f,o,i]),b=M.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let A=new Set,T=!1;if(t.forEach(_=>{let N=o.routes[_.route.id];!N||!N.hasLoader||(!m.some(R=>R.route.id===_.route.id)&&_.route.id in d&&l[_.route.id]?.shouldRevalidate||N.hasClientLoader?T=!0:A.add(_.route.id))}),A.size===0)return[];let E=FT(a,u,r.unstable_trailingSlashAwareDataRequests,"data");return T&&A.size>0&&E.searchParams.set("_routes",t.filter(_=>A.has(_.route.id)).map(_=>_.route.id).join(",")),[E.pathname+E.search]},[u,r.unstable_trailingSlashAwareDataRequests,d,i,o,m,t,a,l]),x=M.useMemo(()=>VT(p,o),[p,o]),w=WT(p);return M.createElement(M.Fragment,null,b.map(A=>M.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),x.map(A=>M.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),w.map(({key:A,link:T})=>M.createElement("link",{key:A,nonce:e.nonce,...T,crossOrigin:T.crossOrigin??e.crossOrigin})))}function QT(...a){return t=>{a.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var ZT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZT&&(window.__reactRouterVersion="7.13.0")}catch{}function JT({basename:a,children:t,unstable_useTransitions:e,window:i}){let r=M.useRef();r.current==null&&(r.current=DE({window:i,v5Compat:!0}));let o=r.current,[l,u]=M.useState({action:o.action,location:o.location}),d=M.useCallback(f=>{e===!1?u(f):M.startTransition(()=>u(f))},[e]);return M.useLayoutEffect(()=>o.listen(d),[o,d]),M.createElement(NT,{basename:a,children:t,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:e})}var u1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ue=M.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b,...x},w){let{basename:A,unstable_useTransitions:T}=M.useContext(Vn),E=typeof f=="string"&&u1.test(f),_=Jx(f,A);f=_.to;let N=hT(f,{relative:r}),[R,D,L]=XT(i,x),P=iC(f,{replace:l,state:u,target:d,preventScrollReset:m,relative:r,viewTransition:p,unstable_defaultShouldRevalidate:b,unstable_useTransitions:T});function F(Y){t&&t(Y),Y.defaultPrevented||P(Y)}let H=M.createElement("a",{...x,...L,href:_.absoluteURL||N,onClick:_.isExternal||o?t:F,ref:QT(w,D),target:d,"data-discover":!E&&e==="render"?"true":void 0});return R&&!E?M.createElement(M.Fragment,null,H,M.createElement(YT,{page:N})):H});Ue.displayName="Link";var tC=M.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:u,children:d,...f},m){let p=Qo(l,{relative:f.relative}),b=Ts(),x=M.useContext(vu),{navigator:w,basename:A}=M.useContext(Vn),T=x!=null&&lC(p)&&u===!0,E=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,_=b.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;e||(_=_.toLowerCase(),N=N?N.toLowerCase():null,E=E.toLowerCase()),N&&A&&(N=Fi(N,A)||N);const R=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let D=_===E||!r&&_.startsWith(E)&&_.charAt(R)==="/",L=N!=null&&(N===E||!r&&N.startsWith(E)&&N.charAt(E.length)==="/"),P={isActive:D,isPending:L,isTransitioning:T},F=D?t:void 0,H;typeof i=="function"?H=i(P):H=[i,D?"active":null,L?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let Y=typeof o=="function"?o(P):o;return M.createElement(Ue,{...f,"aria-current":F,className:H,ref:m,style:Y,to:l,viewTransition:u},typeof d=="function"?d(P):d)});tC.displayName="NavLink";var eC=M.forwardRef(({discover:a="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:l=Wc,action:u,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b,...x},w)=>{let{unstable_useTransitions:A}=M.useContext(Vn),T=rC(),E=oC(u,{relative:f}),_=l.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&u1.test(u),R=D=>{if(d&&d(D),D.defaultPrevented)return;D.preventDefault();let L=D.nativeEvent.submitter,P=L?.getAttribute("formmethod")||l,F=()=>T(L||D.currentTarget,{fetcherKey:t,method:P,navigate:e,replace:r,state:o,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b});A&&e!==!1?M.startTransition(()=>F()):F()};return M.createElement("form",{ref:w,method:_,action:E,onSubmit:i?d:R,...x,"data-discover":!N&&a==="render"?"true":void 0})});eC.displayName="Form";function nC(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h1(a){let t=M.useContext(pr);return oe(t,nC(a)),t}function iC(a,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=dT(),m=Ts(),p=Qo(a,{relative:o});return M.useCallback(b=>{if(LT(b,t)){b.preventDefault();let x=e!==void 0?e:Bo(m)===Bo(p),w=()=>f(a,{replace:x,state:i,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u});d?M.startTransition(()=>w()):w()}},[m,f,p,e,i,t,a,r,o,l,u,d])}var sC=0,aC=()=>`__${String(++sC)}__`;function rC(){let{router:a}=h1("useSubmit"),{basename:t}=M.useContext(Vn),e=ET(),i=a.fetch,r=a.navigate;return M.useCallback(async(o,l={})=>{let{action:u,method:d,encType:f,formData:m,body:p}=BT(o,t);if(l.navigate===!1){let b=l.fetcherKey||aC();await i(b,e,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await r(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:e,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,r,t,e])}function oC(a,{relative:t}={}){let{basename:e}=M.useContext(Vn),i=M.useContext(mi);oe(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Qo(a||".",{relative:t})},l=Ts();if(a==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(p=>p).forEach(p=>u.append("index",p));let m=u.toString();o.search=m?`?${m}`:""}}return(!a||a===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Pi([e,o.pathname])),Bo(o)}function lC(a,{relative:t}={}){let e=M.useContext(e1);oe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=h1("useViewTransitionState"),r=Qo(a,{relative:t});if(!e.isTransitioning)return!1;let o=Fi(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=Fi(e.nextLocation.pathname,i)||e.nextLocation.pathname;return iu(r.pathname,l)!=null||iu(r.pathname,o)!=null}const d1=M.createContext(void 0);function cC({children:a}){const[t,e]=M.useState(()=>{if(typeof window<"u"){const r=localStorage.getItem("theme");return r?r==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}return!1});M.useEffect(()=>{const r=window.document.documentElement;t?(r.classList.add("dark"),localStorage.setItem("theme","dark")):(r.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const i=()=>{e(!t)};return y.jsx(d1.Provider,{value:{isDark:t,toggleTheme:i},children:a})}function uC(){const a=M.useContext(d1);if(a===void 0)throw new Error("useTheme must be used within a ThemeProvider");return a}const Sm=M.createContext({});function Em(a){const t=M.useRef(null);return t.current===null&&(t.current=a()),t.current}const f1=typeof window<"u",m1=f1?M.useLayoutEffect:M.useEffect,xu=M.createContext(null);function Tm(a,t){a.indexOf(t)===-1&&a.push(t)}function Cm(a,t){const e=a.indexOf(t);e>-1&&a.splice(e,1)}const di=(a,t,e)=>e>t?t:e<a?a:e;let _m=()=>{};const zi={},p1=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function g1(a){return typeof a=="object"&&a!==null}const y1=a=>/^0[^.\s]+$/u.test(a);function Nm(a){let t;return()=>(t===void 0&&(t=a()),t)}const zn=a=>a,hC=(a,t)=>e=>t(a(e)),Zo=(...a)=>a.reduce(hC),Fo=(a,t,e)=>{const i=t-a;return i===0?1:(e-a)/i};class Mm{constructor(){this.subscriptions=[]}add(t){return Tm(this.subscriptions,t),()=>Cm(this.subscriptions,t)}notify(t,e,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,e,i);else for(let o=0;o<r;o++){const l=this.subscriptions[o];l&&l(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Oi=a=>a*1e3,Fn=a=>a/1e3;function v1(a,t){return t?a*(1e3/t):0}const b1=(a,t,e)=>(((1-3*e+3*t)*a+(3*e-6*t))*a+3*t)*a,dC=1e-7,fC=12;function mC(a,t,e,i,r){let o,l,u=0;do l=t+(e-t)/2,o=b1(l,i,r)-a,o>0?e=l:t=l;while(Math.abs(o)>dC&&++u<fC);return l}function Jo(a,t,e,i){if(a===t&&e===i)return zn;const r=o=>mC(o,0,1,a,e);return o=>o===0||o===1?o:b1(r(o),t,i)}const x1=a=>t=>t<=.5?a(2*t)/2:(2-a(2*(1-t)))/2,w1=a=>t=>1-a(1-t),A1=Jo(.33,1.53,.69,.99),Rm=w1(A1),S1=x1(Rm),E1=a=>(a*=2)<1?.5*Rm(a):.5*(2-Math.pow(2,-10*(a-1))),Dm=a=>1-Math.sin(Math.acos(a)),T1=w1(Dm),C1=x1(Dm),pC=Jo(.42,0,1,1),gC=Jo(0,0,.58,1),_1=Jo(.42,0,.58,1),yC=a=>Array.isArray(a)&&typeof a[0]!="number",N1=a=>Array.isArray(a)&&typeof a[0]=="number",vC={linear:zn,easeIn:pC,easeInOut:_1,easeOut:gC,circIn:Dm,circInOut:C1,circOut:T1,backIn:Rm,backInOut:S1,backOut:A1,anticipate:E1},bC=a=>typeof a=="string",Fv=a=>{if(N1(a)){_m(a.length===4);const[t,e,i,r]=a;return Jo(t,e,i,r)}else if(bC(a))return vC[a];return a},Lc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function xC(a,t){let e=new Set,i=new Set,r=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(f.schedule(m),a()),m(u)}const f={schedule:(m,p=!1,b=!1)=>{const w=b&&r?e:i;return p&&l.add(m),w.has(m)||w.add(m),m},cancel:m=>{i.delete(m),l.delete(m)},process:m=>{if(u=m,r){o=!0;return}r=!0,[e,i]=[i,e],e.forEach(d),e.clear(),r=!1,o&&(o=!1,f.process(m))}};return f}const wC=40;function M1(a,t){let e=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>e=!0,l=Lc.reduce((N,R)=>(N[R]=xC(o),N),{}),{setup:u,read:d,resolveKeyframes:f,preUpdate:m,update:p,preRender:b,render:x,postRender:w}=l,A=()=>{const N=zi.useManualTiming?r.timestamp:performance.now();e=!1,zi.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(N-r.timestamp,wC),1)),r.timestamp=N,r.isProcessing=!0,u.process(r),d.process(r),f.process(r),m.process(r),p.process(r),b.process(r),x.process(r),w.process(r),r.isProcessing=!1,e&&t&&(i=!1,a(A))},T=()=>{e=!0,i=!0,r.isProcessing||a(A)};return{schedule:Lc.reduce((N,R)=>{const D=l[R];return N[R]=(L,P=!1,F=!1)=>(e||T(),D.schedule(L,P,F)),N},{}),cancel:N=>{for(let R=0;R<Lc.length;R++)l[Lc[R]].cancel(N)},state:r,steps:l}}const{schedule:Qt,cancel:xs,state:Be,steps:rf}=M1(typeof requestAnimationFrame<"u"?requestAnimationFrame:zn,!0);let Qc;function AC(){Qc=void 0}const Ye={now:()=>(Qc===void 0&&Ye.set(Be.isProcessing||zi.useManualTiming?Be.timestamp:performance.now()),Qc),set:a=>{Qc=a,queueMicrotask(AC)}},R1=a=>t=>typeof t=="string"&&t.startsWith(a),D1=R1("--"),SC=R1("var(--"),jm=a=>SC(a)?EC.test(a.split("/*")[0].trim()):!1,EC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function zv(a){return typeof a!="string"?!1:a.split("/*")[0].includes("var(--")}const gr={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},zo={...gr,transform:a=>di(0,1,a)},Pc={...gr,default:1},Ro=a=>Math.round(a*1e5)/1e5,km=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function TC(a){return a==null}const CC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lm=(a,t)=>e=>!!(typeof e=="string"&&CC.test(e)&&e.startsWith(a)||t&&!TC(e)&&Object.prototype.hasOwnProperty.call(e,t)),j1=(a,t,e)=>i=>{if(typeof i!="string")return i;const[r,o,l,u]=i.match(km);return{[a]:parseFloat(r),[t]:parseFloat(o),[e]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},_C=a=>di(0,255,a),of={...gr,transform:a=>Math.round(_C(a))},Ks={test:Lm("rgb","red"),parse:j1("red","green","blue"),transform:({red:a,green:t,blue:e,alpha:i=1})=>"rgba("+of.transform(a)+", "+of.transform(t)+", "+of.transform(e)+", "+Ro(zo.transform(i))+")"};function NC(a){let t="",e="",i="",r="";return a.length>5?(t=a.substring(1,3),e=a.substring(3,5),i=a.substring(5,7),r=a.substring(7,9)):(t=a.substring(1,2),e=a.substring(2,3),i=a.substring(3,4),r=a.substring(4,5),t+=t,e+=e,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Pf={test:Lm("#"),parse:NC,transform:Ks.transform},tl=a=>({test:t=>typeof t=="string"&&t.endsWith(a)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${a}`}),ps=tl("deg"),ui=tl("%"),ot=tl("px"),MC=tl("vh"),RC=tl("vw"),Iv={...ui,parse:a=>ui.parse(a)/100,transform:a=>ui.transform(a*100)},Qa={test:Lm("hsl","hue"),parse:j1("hue","saturation","lightness"),transform:({hue:a,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(a)+", "+ui.transform(Ro(t))+", "+ui.transform(Ro(e))+", "+Ro(zo.transform(i))+")"},Ae={test:a=>Ks.test(a)||Pf.test(a)||Qa.test(a),parse:a=>Ks.test(a)?Ks.parse(a):Qa.test(a)?Qa.parse(a):Pf.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?Ks.transform(a):Qa.transform(a),getAnimatableNone:a=>{const t=Ae.parse(a);return t.alpha=0,Ae.transform(t)}},DC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jC(a){return isNaN(a)&&typeof a=="string"&&(a.match(km)?.length||0)+(a.match(DC)?.length||0)>0}const k1="number",L1="color",kC="var",LC="var(",Uv="${}",PC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Io(a){const t=a.toString(),e=[],i={color:[],number:[],var:[]},r=[];let o=0;const u=t.replace(PC,d=>(Ae.test(d)?(i.color.push(o),r.push(L1),e.push(Ae.parse(d))):d.startsWith(LC)?(i.var.push(o),r.push(kC),e.push(d)):(i.number.push(o),r.push(k1),e.push(parseFloat(d))),++o,Uv)).split(Uv);return{values:e,split:u,indexes:i,types:r}}function P1(a){return Io(a).values}function O1(a){const{split:t,types:e}=Io(a),i=t.length;return r=>{let o="";for(let l=0;l<i;l++)if(o+=t[l],r[l]!==void 0){const u=e[l];u===k1?o+=Ro(r[l]):u===L1?o+=Ae.transform(r[l]):o+=r[l]}return o}}const OC=a=>typeof a=="number"?0:Ae.test(a)?Ae.getAnimatableNone(a):a;function BC(a){const t=P1(a);return O1(a)(t.map(OC))}const ws={test:jC,parse:P1,createTransformer:O1,getAnimatableNone:BC};function lf(a,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?a+(t-a)*6*e:e<1/2?t:e<2/3?a+(t-a)*(2/3-e)*6:a}function FC({hue:a,saturation:t,lightness:e,alpha:i}){a/=360,t/=100,e/=100;let r=0,o=0,l=0;if(!t)r=o=l=e;else{const u=e<.5?e*(1+t):e+t-e*t,d=2*e-u;r=lf(d,u,a+1/3),o=lf(d,u,a),l=lf(d,u,a-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function su(a,t){return e=>e>0?t:a}const re=(a,t,e)=>a+(t-a)*e,cf=(a,t,e)=>{const i=a*a,r=e*(t*t-i)+i;return r<0?0:Math.sqrt(r)},zC=[Pf,Ks,Qa],IC=a=>zC.find(t=>t.test(a));function Vv(a){const t=IC(a);if(!t)return!1;let e=t.parse(a);return t===Qa&&(e=FC(e)),e}const Hv=(a,t)=>{const e=Vv(a),i=Vv(t);if(!e||!i)return su(a,t);const r={...e};return o=>(r.red=cf(e.red,i.red,o),r.green=cf(e.green,i.green,o),r.blue=cf(e.blue,i.blue,o),r.alpha=re(e.alpha,i.alpha,o),Ks.transform(r))},Of=new Set(["none","hidden"]);function UC(a,t){return Of.has(a)?e=>e<=0?a:t:e=>e>=1?t:a}function VC(a,t){return e=>re(a,t,e)}function Pm(a){return typeof a=="number"?VC:typeof a=="string"?jm(a)?su:Ae.test(a)?Hv:GC:Array.isArray(a)?B1:typeof a=="object"?Ae.test(a)?Hv:HC:su}function B1(a,t){const e=[...a],i=e.length,r=a.map((o,l)=>Pm(o)(o,t[l]));return o=>{for(let l=0;l<i;l++)e[l]=r[l](o);return e}}function HC(a,t){const e={...a,...t},i={};for(const r in e)a[r]!==void 0&&t[r]!==void 0&&(i[r]=Pm(a[r])(a[r],t[r]));return r=>{for(const o in i)e[o]=i[o](r);return e}}function qC(a,t){const e=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],l=a.indexes[o][i[o]],u=a.values[l]??0;e[r]=u,i[o]++}return e}const GC=(a,t)=>{const e=ws.createTransformer(t),i=Io(a),r=Io(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Of.has(a)&&!r.values.length||Of.has(t)&&!i.values.length?UC(a,t):Zo(B1(qC(i,r),r.values),e):su(a,t)};function F1(a,t,e){return typeof a=="number"&&typeof t=="number"&&typeof e=="number"?re(a,t,e):Pm(a)(a,t)}const $C=a=>{const t=({timestamp:e})=>a(e);return{start:(e=!0)=>Qt.update(t,e),stop:()=>xs(t),now:()=>Be.isProcessing?Be.timestamp:Ye.now()}},z1=(a,t,e=10)=>{let i="";const r=Math.max(Math.round(t/e),2);for(let o=0;o<r;o++)i+=Math.round(a(o/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},au=2e4;function Om(a){let t=0;const e=50;let i=a.next(t);for(;!i.done&&t<au;)t+=e,i=a.next(t);return t>=au?1/0:t}function XC(a,t=100,e){const i=e({...a,keyframes:[0,t]}),r=Math.min(Om(i),au);return{type:"keyframes",ease:o=>i.next(r*o).value/t,duration:Fn(r)}}const YC=5;function I1(a,t,e){const i=Math.max(t-YC,0);return v1(e-a(i),t-i)}const he={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uf=.001;function WC({duration:a=he.duration,bounce:t=he.bounce,velocity:e=he.velocity,mass:i=he.mass}){let r,o,l=1-t;l=di(he.minDamping,he.maxDamping,l),a=di(he.minDuration,he.maxDuration,Fn(a)),l<1?(r=f=>{const m=f*l,p=m*a,b=m-e,x=Bf(f,l),w=Math.exp(-p);return uf-b/x*w},o=f=>{const p=f*l*a,b=p*e+e,x=Math.pow(l,2)*Math.pow(f,2)*a,w=Math.exp(-p),A=Bf(Math.pow(f,2),l);return(-r(f)+uf>0?-1:1)*((b-x)*w)/A}):(r=f=>{const m=Math.exp(-f*a),p=(f-e)*a+1;return-uf+m*p},o=f=>{const m=Math.exp(-f*a),p=(e-f)*(a*a);return m*p});const u=5/a,d=QC(r,o,u);if(a=Oi(a),isNaN(d))return{stiffness:he.stiffness,damping:he.damping,duration:a};{const f=Math.pow(d,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:a}}}const KC=12;function QC(a,t,e){let i=e;for(let r=1;r<KC;r++)i=i-a(i)/t(i);return i}function Bf(a,t){return a*Math.sqrt(1-t*t)}const ZC=["duration","bounce"],JC=["stiffness","damping","mass"];function qv(a,t){return t.some(e=>a[e]!==void 0)}function t_(a){let t={velocity:he.velocity,stiffness:he.stiffness,damping:he.damping,mass:he.mass,isResolvedFromDuration:!1,...a};if(!qv(a,JC)&&qv(a,ZC))if(a.visualDuration){const e=a.visualDuration,i=2*Math.PI/(e*1.2),r=i*i,o=2*di(.05,1,1-(a.bounce||0))*Math.sqrt(r);t={...t,mass:he.mass,stiffness:r,damping:o}}else{const e=WC(a);t={...t,...e,mass:he.mass},t.isResolvedFromDuration=!0}return t}function ru(a=he.visualDuration,t=he.bounce){const e=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:t}:a;let{restSpeed:i,restDelta:r}=e;const o=e.keyframes[0],l=e.keyframes[e.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:f,mass:m,duration:p,velocity:b,isResolvedFromDuration:x}=t_({...e,velocity:-Fn(e.velocity||0)}),w=b||0,A=f/(2*Math.sqrt(d*m)),T=l-o,E=Fn(Math.sqrt(d/m)),_=Math.abs(T)<5;i||(i=_?he.restSpeed.granular:he.restSpeed.default),r||(r=_?he.restDelta.granular:he.restDelta.default);let N;if(A<1){const D=Bf(E,A);N=L=>{const P=Math.exp(-A*E*L);return l-P*((w+A*E*T)/D*Math.sin(D*L)+T*Math.cos(D*L))}}else if(A===1)N=D=>l-Math.exp(-E*D)*(T+(w+E*T)*D);else{const D=E*Math.sqrt(A*A-1);N=L=>{const P=Math.exp(-A*E*L),F=Math.min(D*L,300);return l-P*((w+A*E*T)*Math.sinh(F)+D*T*Math.cosh(F))/D}}const R={calculatedDuration:x&&p||null,next:D=>{const L=N(D);if(x)u.done=D>=p;else{let P=D===0?w:0;A<1&&(P=D===0?Oi(w):I1(N,D,L));const F=Math.abs(P)<=i,H=Math.abs(l-L)<=r;u.done=F&&H}return u.value=u.done?l:L,u},toString:()=>{const D=Math.min(Om(R),au),L=z1(P=>R.next(D*P).value,D,30);return D+"ms "+L},toTransition:()=>{}};return R}ru.applyToOptions=a=>{const t=XC(a,100,ru);return a.ease=t.ease,a.duration=Oi(t.duration),a.type="keyframes",a};function Ff({keyframes:a,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:d,restDelta:f=.5,restSpeed:m}){const p=a[0],b={done:!1,value:p},x=F=>u!==void 0&&F<u||d!==void 0&&F>d,w=F=>u===void 0?d:d===void 0||Math.abs(u-F)<Math.abs(d-F)?u:d;let A=e*t;const T=p+A,E=l===void 0?T:l(T);E!==T&&(A=E-p);const _=F=>-A*Math.exp(-F/i),N=F=>E+_(F),R=F=>{const H=_(F),Y=N(F);b.done=Math.abs(H)<=f,b.value=b.done?E:Y};let D,L;const P=F=>{x(b.value)&&(D=F,L=ru({keyframes:[b.value,w(b.value)],velocity:I1(N,F,b.value),damping:r,stiffness:o,restDelta:f,restSpeed:m}))};return P(0),{calculatedDuration:null,next:F=>{let H=!1;return!L&&D===void 0&&(H=!0,R(F),P(F)),D!==void 0&&F>=D?L.next(F-D):(!H&&R(F),b)}}}function e_(a,t,e){const i=[],r=e||zi.mix||F1,o=a.length-1;for(let l=0;l<o;l++){let u=r(a[l],a[l+1]);if(t){const d=Array.isArray(t)?t[l]||zn:t;u=Zo(d,u)}i.push(u)}return i}function n_(a,t,{clamp:e=!0,ease:i,mixer:r}={}){const o=a.length;if(_m(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=a[0]===a[1];a[0]>a[o-1]&&(a=[...a].reverse(),t=[...t].reverse());const u=e_(t,i,r),d=u.length,f=m=>{if(l&&m<a[0])return t[0];let p=0;if(d>1)for(;p<a.length-2&&!(m<a[p+1]);p++);const b=Fo(a[p],a[p+1],m);return u[p](b)};return e?m=>f(di(a[0],a[o-1],m)):f}function i_(a,t){const e=a[a.length-1];for(let i=1;i<=t;i++){const r=Fo(0,t,i);a.push(re(e,1,r))}}function s_(a){const t=[0];return i_(t,a.length-1),t}function a_(a,t){return a.map(e=>e*t)}function r_(a,t){return a.map(()=>t||_1).splice(0,a.length-1)}function Do({duration:a=300,keyframes:t,times:e,ease:i="easeInOut"}){const r=yC(i)?i.map(Fv):Fv(i),o={done:!1,value:t[0]},l=a_(e&&e.length===t.length?e:s_(t),a),u=n_(l,t,{ease:Array.isArray(r)?r:r_(t,r)});return{calculatedDuration:a,next:d=>(o.value=u(d),o.done=d>=a,o)}}const o_=a=>a!==null;function Bm(a,{repeat:t,repeatType:e="loop"},i,r=1){const o=a.filter(o_),u=r<0||t&&e!=="loop"&&t%2===1?0:o.length-1;return!u||i===void 0?o[u]:i}const l_={decay:Ff,inertia:Ff,tween:Do,keyframes:Do,spring:ru};function U1(a){typeof a.type=="string"&&(a.type=l_[a.type])}class Fm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const c_=a=>a/100;class zm extends Fm{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Ye.now()&&this.tick(Ye.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;U1(t);const{type:e=Do,repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:l=0}=t;let{keyframes:u}=t;const d=e||Do;d!==Do&&typeof u[0]!="number"&&(this.mixKeyframes=Zo(c_,F1(u[0],u[1])),u=[0,100]);const f=d({...t,keyframes:u});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=Om(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=f}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:r,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:m,repeat:p,repeatType:b,repeatDelay:x,type:w,onUpdate:A,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const E=this.currentTime-f*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?E<0:E>r;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let N=this.currentTime,R=i;if(p){const F=Math.min(this.currentTime,r)/u;let H=Math.floor(F),Y=F%1;!Y&&F>=1&&(Y=1),Y===1&&H--,H=Math.min(H,p+1),H%2&&(b==="reverse"?(Y=1-Y,x&&(Y-=x/u)):b==="mirror"&&(R=l)),N=di(0,1,Y)*u}const D=_?{done:!1,value:m[0]}:R.next(N);o&&(D.value=o(D.value));let{done:L}=D;!_&&d!==null&&(L=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return P&&w!==Ff&&(D.value=Bm(m,this.options,T,this.speed)),A&&A(D.value),P&&this.finish(),D}then(t,e){return this.finished.then(t,e)}get duration(){return Fn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Fn(t)}get time(){return Fn(this.currentTime)}set time(t){t=Oi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ye.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Fn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=$C,startTime:e}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ye.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function u_(a){for(let t=1;t<a.length;t++)a[t]??(a[t]=a[t-1])}const Qs=a=>a*180/Math.PI,zf=a=>{const t=Qs(Math.atan2(a[1],a[0]));return If(t)},h_={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:zf,rotateZ:zf,skewX:a=>Qs(Math.atan(a[1])),skewY:a=>Qs(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},If=a=>(a=a%360,a<0&&(a+=360),a),Gv=zf,$v=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),Xv=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),d_={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$v,scaleY:Xv,scale:a=>($v(a)+Xv(a))/2,rotateX:a=>If(Qs(Math.atan2(a[6],a[5]))),rotateY:a=>If(Qs(Math.atan2(-a[2],a[0]))),rotateZ:Gv,rotate:Gv,skewX:a=>Qs(Math.atan(a[4])),skewY:a=>Qs(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function Uf(a){return a.includes("scale")?1:0}function Vf(a,t){if(!a||a==="none")return Uf(t);const e=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(e)i=d_,r=e;else{const u=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=h_,r=u}if(!r)return Uf(t);const o=i[t],l=r[1].split(",").map(m_);return typeof o=="function"?o(l):l[o]}const f_=(a,t)=>{const{transform:e="none"}=getComputedStyle(a);return Vf(e,t)};function m_(a){return parseFloat(a.trim())}const yr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vr=new Set(yr),Yv=a=>a===gr||a===ot,p_=new Set(["x","y","z"]),g_=yr.filter(a=>!p_.has(a));function y_(a){const t=[];return g_.forEach(e=>{const i=a.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const ys={width:({x:a},{paddingLeft:t="0",paddingRight:e="0"})=>a.max-a.min-parseFloat(t)-parseFloat(e),height:({y:a},{paddingTop:t="0",paddingBottom:e="0"})=>a.max-a.min-parseFloat(t)-parseFloat(e),top:(a,{top:t})=>parseFloat(t),left:(a,{left:t})=>parseFloat(t),bottom:({y:a},{top:t})=>parseFloat(t)+(a.max-a.min),right:({x:a},{left:t})=>parseFloat(t)+(a.max-a.min),x:(a,{transform:t})=>Vf(t,"x"),y:(a,{transform:t})=>Vf(t,"y")};ys.translateX=ys.x;ys.translateY=ys.y;const na=new Set;let Hf=!1,qf=!1,Gf=!1;function V1(){if(qf){const a=Array.from(na).filter(i=>i.needsMeasurement),t=new Set(a.map(i=>i.element)),e=new Map;t.forEach(i=>{const r=y_(i);r.length&&(e.set(i,r),i.render())}),a.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=e.get(i);r&&r.forEach(([o,l])=>{i.getValue(o)?.set(l)})}),a.forEach(i=>i.measureEndState()),a.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}qf=!1,Hf=!1,na.forEach(a=>a.complete(Gf)),na.clear()}function H1(){na.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(qf=!0)})}function v_(){Gf=!0,H1(),V1(),Gf=!1}class Im{constructor(t,e,i,r,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=r,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(na.add(this),Hf||(Hf=!0,Qt.read(H1),Qt.resolveKeyframes(V1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:r}=this;if(t[0]===null){const o=r?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&e){const u=i.readValue(e,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),r&&o===void 0&&r.set(t[0])}u_(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),na.delete(this)}cancel(){this.state==="scheduled"&&(na.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const b_=a=>a.startsWith("--");function x_(a,t,e){b_(t)?a.style.setProperty(t,e):a.style[t]=e}const w_=Nm(()=>window.ScrollTimeline!==void 0),A_={};function S_(a,t){const e=Nm(a);return()=>A_[t]??e()}const q1=S_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),To=([a,t,e,i])=>`cubic-bezier(${a}, ${t}, ${e}, ${i})`,Wv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:To([0,.65,.55,1]),circOut:To([.55,0,1,.45]),backIn:To([.31,.01,.66,-.59]),backOut:To([.33,1.53,.69,.99])};function G1(a,t){if(a)return typeof a=="function"?q1()?z1(a,t):"ease-out":N1(a)?To(a):Array.isArray(a)?a.map(e=>G1(e,t)||Wv.easeOut):Wv[a]}function E_(a,t,e,{delay:i=0,duration:r=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:d}={},f=void 0){const m={[t]:e};d&&(m.offset=d);const p=G1(u,r);Array.isArray(p)&&(m.easing=p);const b={delay:i,duration:r,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(b.pseudoElement=f),a.animate(m,b)}function $1(a){return typeof a=="function"&&"applyToOptions"in a}function T_({type:a,...t}){return $1(a)&&q1()?a.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class C_ extends Fm{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:i,keyframes:r,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,_m(typeof t.type!="string");const f=T_(t);this.animation=E_(e,i,r,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=Bm(r,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):x_(e,i,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Fn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Fn(t)}get time(){return Fn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Oi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&w_()?(this.animation.timeline=t,zn):e(this)}}const X1={anticipate:E1,backInOut:S1,circInOut:C1};function __(a){return a in X1}function N_(a){typeof a.ease=="string"&&__(a.ease)&&(a.ease=X1[a.ease])}const hf=10;class M_ extends C_{constructor(t){N_(t),U1(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:r,element:o,...l}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new zm({...l,autoplay:!1}),d=Math.max(hf,Ye.now()-this.startTime),f=di(0,hf,d-hf);e.setWithVelocity(u.sample(Math.max(0,d-f)).value,u.sample(d).value,f),u.stop()}}const Kv=(a,t)=>t==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(ws.test(a)||a==="0")&&!a.startsWith("url("));function R_(a){const t=a[0];if(a.length===1)return!0;for(let e=0;e<a.length;e++)if(a[e]!==t)return!0}function D_(a,t,e,i){const r=a[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const o=a[a.length-1],l=Kv(r,t),u=Kv(o,t);return!l||!u?!1:R_(a)||(e==="spring"||$1(e))&&i}function $f(a){a.duration=0,a.type="keyframes"}const j_=new Set(["opacity","clipPath","filter","transform"]),k_=Nm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function L_(a){const{motionValue:t,name:e,repeatDelay:i,repeatType:r,damping:o,type:l}=a;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=t.owner.getProps();return k_()&&e&&j_.has(e)&&(e!=="transform"||!f)&&!d&&!i&&r!=="mirror"&&o!==0&&l!=="inertia"}const P_=40;class O_ extends Fm{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:d,motionValue:f,element:m,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ye.now();const b={autoplay:t,delay:e,type:i,repeat:r,repeatDelay:o,repeatType:l,name:d,motionValue:f,element:m,...p},x=m?.KeyframeResolver||Im;this.keyframeResolver=new x(u,(w,A,T)=>this.onKeyframesResolved(w,A,b,!T),d,f,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,r){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:d,isHandoff:f,onUpdate:m}=i;this.resolvedAt=Ye.now(),D_(t,o,l,u)||((zi.instantAnimations||!d)&&m?.(Bm(t,i,e)),t[0]=t[t.length-1],$f(i),i.repeat=0);const b={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>P_?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},x=!f&&L_(b),w=b.motionValue?.owner?.current,A=x?new M_({...b,element:w}):new zm(b);A.finished.then(()=>{this.notifyFinished()}).catch(zn),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),v_()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Y1(a,t,e,i=0,r=1){const o=Array.from(a).sort((f,m)=>f.sortNodePosition(m)).indexOf(t),l=a.size,u=(l-1)*i;return typeof e=="function"?e(o,l):r===1?o*i:u-o*i}const B_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function F_(a){const t=B_.exec(a);if(!t)return[,];const[,e,i,r]=t;return[`--${e??i}`,r]}function W1(a,t,e=1){const[i,r]=F_(a);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const l=o.trim();return p1(l)?parseFloat(l):l}return jm(r)?W1(r,t,e+1):r}const z_={type:"spring",stiffness:500,damping:25,restSpeed:10},I_=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),U_={type:"keyframes",duration:.8},V_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},H_=(a,{keyframes:t})=>t.length>2?U_:vr.has(a)?a.startsWith("scale")?I_(t[1]):z_:V_,q_=a=>a!==null;function G_(a,{repeat:t,repeatType:e="loop"},i){const r=a.filter(q_),o=t&&e!=="loop"&&t%2===1?0:r.length-1;return r[o]}function Um(a,t){return a?.[t]??a?.default??a}function $_({when:a,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:l,repeatDelay:u,from:d,elapsed:f,...m}){return!!Object.keys(m).length}const Vm=(a,t,e,i={},r,o)=>l=>{const u=Um(i,a)||{},d=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-Oi(d);const m={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:b=>{t.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:a,motionValue:t,element:o?void 0:r};$_(u)||Object.assign(m,H_(a,m)),m.duration&&(m.duration=Oi(m.duration)),m.repeatDelay&&(m.repeatDelay=Oi(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let p=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&($f(m),m.delay===0&&(p=!0)),(zi.instantAnimations||zi.skipAnimations||r?.shouldSkipAnimations)&&(p=!0,$f(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,p&&!o&&t.get()!==void 0){const b=G_(m.keyframes,u);if(b!==void 0){Qt.update(()=>{m.onUpdate(b),m.onComplete()});return}}return u.isSync?new zm(m):new O_(m)};function Qv(a){const t=[{},{}];return a?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function Hm(a,t,e,i){if(typeof t=="function"){const[r,o]=Qv(i);t=t(e!==void 0?e:a.custom,r,o)}if(typeof t=="string"&&(t=a.variants&&a.variants[t]),typeof t=="function"){const[r,o]=Qv(i);t=t(e!==void 0?e:a.custom,r,o)}return t}function ir(a,t,e){const i=a.getProps();return Hm(i,t,e!==void 0?e:i.custom,a)}const K1=new Set(["width","height","top","left","right","bottom",...yr]),Zv=30,X_=a=>!isNaN(parseFloat(a));class Y_{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=Ye.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Ye.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=X_(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Mm);const i=this.events[t].add(e);return t==="change"?()=>{i(),Qt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ye.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Zv)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Zv);return v1(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ur(a,t){return new Y_(a,t)}const Xf=a=>Array.isArray(a);function W_(a,t,e){a.hasValue(t)?a.getValue(t).set(e):a.addValue(t,ur(e))}function K_(a){return Xf(a)?a[a.length-1]||0:a}function Q_(a,t){const e=ir(a,t);let{transitionEnd:i={},transition:r={},...o}=e||{};o={...o,...i};for(const l in o){const u=K_(o[l]);W_(a,l,u)}}const He=a=>!!(a&&a.getVelocity);function Z_(a){return!!(He(a)&&a.add)}function Yf(a,t){const e=a.getValue("willChange");if(Z_(e))return e.add(t);if(!e&&zi.WillChange){const i=new zi.WillChange("auto");a.addValue("willChange",i),i.add(t)}}function qm(a){return a.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const J_="framerAppearId",Q1="data-"+qm(J_);function Z1(a){return a.props[Q1]}function tN({protectedKeys:a,needsAnimating:t},e){const i=a.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function J1(a,t,{delay:e=0,transitionOverride:i,type:r}={}){let{transition:o=a.getDefaultTransition(),transitionEnd:l,...u}=t;const d=o?.reduceMotion;i&&(o=i);const f=[],m=r&&a.animationState&&a.animationState.getState()[r];for(const p in u){const b=a.getValue(p,a.latestValues[p]??null),x=u[p];if(x===void 0||m&&tN(m,p))continue;const w={delay:e,...Um(o||{},p)},A=b.get();if(A!==void 0&&!b.isAnimating&&!Array.isArray(x)&&x===A&&!w.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const N=Z1(a);if(N){const R=window.MotionHandoffAnimation(N,p,Qt);R!==null&&(w.startTime=R,T=!0)}}Yf(a,p);const E=d??a.shouldReduceMotion;b.start(Vm(p,b,x,E&&K1.has(p)?{type:!1}:w,a,T));const _=b.animation;_&&f.push(_)}return l&&Promise.all(f).then(()=>{Qt.update(()=>{l&&Q_(a,l)})}),f}function Wf(a,t,e={}){const i=ir(a,t,e.type==="exit"?a.presenceContext?.custom:void 0);let{transition:r=a.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(r=e.transitionOverride);const o=i?()=>Promise.all(J1(a,i,e)):()=>Promise.resolve(),l=a.variantChildren&&a.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:p}=r;return eN(a,t,d,f,m,p,e)}:()=>Promise.resolve(),{when:u}=r;if(u){const[d,f]=u==="beforeChildren"?[o,l]:[l,o];return d().then(()=>f())}else return Promise.all([o(),l(e.delay)])}function eN(a,t,e=0,i=0,r=0,o=1,l){const u=[];for(const d of a.variantChildren)d.notify("AnimationStart",t),u.push(Wf(d,t,{...l,delay:e+(typeof i=="function"?0:i)+Y1(a.variantChildren,d,i,r,o)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(u)}function nN(a,t,e={}){a.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(o=>Wf(a,o,e));i=Promise.all(r)}else if(typeof t=="string")i=Wf(a,t,e);else{const r=typeof t=="function"?ir(a,t,e.custom):t;i=Promise.all(J1(a,r,e))}return i.then(()=>{a.notify("AnimationComplete",t)})}const iN={test:a=>a==="auto",parse:a=>a},tw=a=>t=>t.test(a),ew=[gr,ot,ui,ps,RC,MC,iN],Jv=a=>ew.find(tw(a));function sN(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||y1(a):!0}const aN=new Set(["brightness","contrast","saturate","opacity"]);function rN(a){const[t,e]=a.slice(0,-1).split("(");if(t==="drop-shadow")return a;const[i]=e.match(km)||[];if(!i)return a;const r=e.replace(i,"");let o=aN.has(t)?1:0;return i!==e&&(o*=100),t+"("+o+r+")"}const oN=/\b([a-z-]*)\(.*?\)/gu,Kf={...ws,getAnimatableNone:a=>{const t=a.match(oN);return t?t.map(rN).join(" "):a}},tb={...gr,transform:Math.round},lN={rotate:ps,rotateX:ps,rotateY:ps,rotateZ:ps,scale:Pc,scaleX:Pc,scaleY:Pc,scaleZ:Pc,skew:ps,skewX:ps,skewY:ps,distance:ot,translateX:ot,translateY:ot,translateZ:ot,x:ot,y:ot,z:ot,perspective:ot,transformPerspective:ot,opacity:zo,originX:Iv,originY:Iv,originZ:ot},Gm={borderWidth:ot,borderTopWidth:ot,borderRightWidth:ot,borderBottomWidth:ot,borderLeftWidth:ot,borderRadius:ot,borderTopLeftRadius:ot,borderTopRightRadius:ot,borderBottomRightRadius:ot,borderBottomLeftRadius:ot,width:ot,maxWidth:ot,height:ot,maxHeight:ot,top:ot,right:ot,bottom:ot,left:ot,inset:ot,insetBlock:ot,insetBlockStart:ot,insetBlockEnd:ot,insetInline:ot,insetInlineStart:ot,insetInlineEnd:ot,padding:ot,paddingTop:ot,paddingRight:ot,paddingBottom:ot,paddingLeft:ot,paddingBlock:ot,paddingBlockStart:ot,paddingBlockEnd:ot,paddingInline:ot,paddingInlineStart:ot,paddingInlineEnd:ot,margin:ot,marginTop:ot,marginRight:ot,marginBottom:ot,marginLeft:ot,marginBlock:ot,marginBlockStart:ot,marginBlockEnd:ot,marginInline:ot,marginInlineStart:ot,marginInlineEnd:ot,fontSize:ot,backgroundPositionX:ot,backgroundPositionY:ot,...lN,zIndex:tb,fillOpacity:zo,strokeOpacity:zo,numOctaves:tb},cN={...Gm,color:Ae,backgroundColor:Ae,outlineColor:Ae,fill:Ae,stroke:Ae,borderColor:Ae,borderTopColor:Ae,borderRightColor:Ae,borderBottomColor:Ae,borderLeftColor:Ae,filter:Kf,WebkitFilter:Kf},nw=a=>cN[a];function iw(a,t){let e=nw(a);return e!==Kf&&(e=ws),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const uN=new Set(["auto","none","0"]);function hN(a,t,e){let i=0,r;for(;i<a.length&&!r;){const o=a[i];typeof o=="string"&&!uN.has(o)&&Io(o).values.length&&(r=a[i]),i++}if(r&&e)for(const o of t)a[o]=iw(e,r)}class dN extends Im{constructor(t,e,i,r,o){super(t,e,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),jm(p))){const b=W1(p,e.current);b!==void 0&&(t[m]=b),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!K1.has(i)||t.length!==2)return;const[r,o]=t,l=Jv(r),u=Jv(o),d=zv(r),f=zv(o);if(d!==f&&ys[i]){this.needsMeasurement=!0;return}if(l!==u)if(Yv(l)&&Yv(u))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else ys[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let r=0;r<t.length;r++)(t[r]===null||sN(t[r]))&&i.push(r);i.length&&hN(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ys[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(e);r&&r.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=ys[e](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{t.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function fN(a,t,e){if(a==null)return[];if(a instanceof EventTarget)return[a];if(typeof a=="string"){let i=document;const r=e?.[a]??i.querySelectorAll(a);return r?Array.from(r):[]}return Array.from(a).filter(i=>i!=null)}const sw=(a,t)=>t&&typeof a=="number"?t.transform(a):a;function Qf(a){return g1(a)&&"offsetHeight"in a}const{schedule:$m}=M1(queueMicrotask,!1),Yn={x:!1,y:!1};function aw(){return Yn.x||Yn.y}function mN(a){return a==="x"||a==="y"?Yn[a]?null:(Yn[a]=!0,()=>{Yn[a]=!1}):Yn.x||Yn.y?null:(Yn.x=Yn.y=!0,()=>{Yn.x=Yn.y=!1})}function rw(a,t){const e=fN(a),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[e,r,()=>i.abort()]}function eb(a){return!(a.pointerType==="touch"||aw())}function pN(a,t,e={}){const[i,r,o]=rw(a,e),l=u=>{if(!eb(u))return;const{target:d}=u,f=t(d,u);if(typeof f!="function"||!d)return;const m=p=>{eb(p)&&(f(p),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,r)};return i.forEach(u=>{u.addEventListener("pointerenter",l,r)}),o}const ow=(a,t)=>t?a===t?!0:ow(a,t.parentElement):!1,Xm=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,gN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yN(a){return gN.has(a.tagName)||a.isContentEditable===!0}const vN=new Set(["INPUT","SELECT","TEXTAREA"]);function bN(a){return vN.has(a.tagName)||a.isContentEditable===!0}const Zc=new WeakSet;function nb(a){return t=>{t.key==="Enter"&&a(t)}}function df(a,t){a.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const xN=(a,t)=>{const e=a.currentTarget;if(!e)return;const i=nb(()=>{if(Zc.has(e))return;df(e,"down");const r=nb(()=>{df(e,"up")}),o=()=>df(e,"cancel");e.addEventListener("keyup",r,t),e.addEventListener("blur",o,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function ib(a){return Xm(a)&&!aw()}function wN(a,t,e={}){const[i,r,o]=rw(a,e),l=u=>{const d=u.currentTarget;if(!ib(u))return;Zc.add(d);const f=t(d,u),m=(x,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",b),Zc.has(d)&&Zc.delete(d),ib(x)&&typeof f=="function"&&f(x,{success:w})},p=x=>{m(x,d===window||d===document||e.useGlobalTarget||ow(d,x.target))},b=x=>{m(x,!1)};window.addEventListener("pointerup",p,r),window.addEventListener("pointercancel",b,r)};return i.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",l,r),Qf(u)&&(u.addEventListener("focus",f=>xN(f,r)),!yN(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function lw(a){return g1(a)&&"ownerSVGElement"in a}function AN(a){return lw(a)&&a.tagName==="svg"}const SN=[...ew,Ae,ws],EN=a=>SN.find(tw(a)),sb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Za=()=>({x:sb(),y:sb()}),ab=()=>({min:0,max:0}),Ee=()=>({x:ab(),y:ab()}),Zf={current:null},cw={current:!1},TN=typeof window<"u";function CN(){if(cw.current=!0,!!TN)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),t=()=>Zf.current=a.matches;a.addEventListener("change",t),t()}else Zf.current=!1}const _N=new WeakMap;function wu(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function Uo(a){return typeof a=="string"||Array.isArray(a)}const Ym=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wm=["initial",...Ym];function Au(a){return wu(a.animate)||Wm.some(t=>Uo(a[t]))}function uw(a){return!!(Au(a)||a.variants)}function NN(a,t,e){for(const i in t){const r=t[i],o=e[i];if(He(r))a.addValue(i,r);else if(He(o))a.addValue(i,ur(r,{owner:a}));else if(o!==r)if(a.hasValue(i)){const l=a.getValue(i);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=a.getStaticValue(i);a.addValue(i,ur(l!==void 0?l:r,{owner:a}))}}for(const i in e)t[i]===void 0&&a.removeValue(i);return t}const rb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let ou={};function hw(a){ou=a}function MN(){return ou}class RN{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:r,skipAnimations:o,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Im,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ye.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Qt.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=e.initial?{...f}:{},this.renderState=m,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.skipAnimationsConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Au(e),this.isVariantNode=uw(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...b}=this.scrapeMotionValuesFromProps(e,{},this);for(const x in b){const w=b[x];f[x]!==void 0&&He(w)&&w.set(f[x])}}mount(t){this.current=t,_N.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(cw.current||CN(),this.shouldReduceMotion=Zf.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xs(this.notifyUpdate),xs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=vr.has(t);i&&this.onBindTransform&&this.onBindTransform();const r=e.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Qt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{r(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ou){const e=ou[t];if(!e)continue;const{isEnabled:i,Feature:r}=e;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ee()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<rb.length;i++){const r=rb[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,l=t[o];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=NN(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=ur(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(p1(i)||y1(i))?i=parseFloat(i):!EN(i)&&ws.test(e)&&(i=iw(t,e)),this.setBaseTarget(t,He(i)?i.get():i)),He(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const o=Hm(this.props,e,this.presenceContext?.custom);o&&(i=o[t])}if(e&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!He(r)?r:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Mm),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){$m.render(this.render)}}class dw extends RN{constructor(){super(...arguments),this.KeyframeResolver=dN}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const i=t.style;return i?i[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;He(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class Cs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function fw({top:a,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:a,max:i}}}function DN({x:a,y:t}){return{top:t.min,right:a.max,bottom:t.max,left:a.min}}function jN(a,t){if(!t)return a;const e=t({x:a.left,y:a.top}),i=t({x:a.right,y:a.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function ff(a){return a===void 0||a===1}function Jf({scale:a,scaleX:t,scaleY:e}){return!ff(a)||!ff(t)||!ff(e)}function Ys(a){return Jf(a)||mw(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function mw(a){return ob(a.x)||ob(a.y)}function ob(a){return a&&a!=="0%"}function lu(a,t,e){const i=a-e,r=t*i;return e+r}function lb(a,t,e,i,r){return r!==void 0&&(a=lu(a,r,i)),lu(a,e,i)+t}function tm(a,t=0,e=1,i,r){a.min=lb(a.min,t,e,i,r),a.max=lb(a.max,t,e,i,r)}function pw(a,{x:t,y:e}){tm(a.x,t.translate,t.scale,t.originPoint),tm(a.y,e.translate,e.scale,e.originPoint)}const cb=.999999999999,ub=1.0000000000001;function kN(a,t,e,i=!1){const r=e.length;if(!r)return;t.x=t.y=1;let o,l;for(let u=0;u<r;u++){o=e[u],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&tr(a,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,pw(a,l)),i&&Ys(o.latestValues)&&tr(a,o.latestValues))}t.x<ub&&t.x>cb&&(t.x=1),t.y<ub&&t.y>cb&&(t.y=1)}function Ja(a,t){a.min=a.min+t,a.max=a.max+t}function hb(a,t,e,i,r=.5){const o=re(a.min,a.max,r);tm(a,t,e,o,i)}function tr(a,t){hb(a.x,t.x,t.scaleX,t.scale,t.originX),hb(a.y,t.y,t.scaleY,t.scale,t.originY)}function gw(a,t){return fw(jN(a.getBoundingClientRect(),t))}function LN(a,t,e){const i=gw(a,e),{scroll:r}=t;return r&&(Ja(i.x,r.offset.x),Ja(i.y,r.offset.y)),i}const PN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ON=yr.length;function BN(a,t,e){let i="",r=!0;for(let o=0;o<ON;o++){const l=yr[o],u=a[l];if(u===void 0)continue;let d=!0;if(typeof u=="number")d=u===(l.startsWith("scale")?1:0);else{const f=parseFloat(u);d=l.startsWith("scale")?f===1:f===0}if(!d||e){const f=sw(u,Gm[l]);if(!d){r=!1;const m=PN[l]||l;i+=`${m}(${f}) `}e&&(t[l]=f)}}return i=i.trim(),e?i=e(t,r?"":i):r&&(i="none"),i}function Km(a,t,e){const{style:i,vars:r,transformOrigin:o}=a;let l=!1,u=!1;for(const d in t){const f=t[d];if(vr.has(d)){l=!0;continue}else if(D1(d)){r[d]=f;continue}else{const m=sw(f,Gm[d]);d.startsWith("origin")?(u=!0,o[d]=m):i[d]=m}}if(t.transform||(l||e?i.transform=BN(t,a.transform,e):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:m=0}=o;i.transformOrigin=`${d} ${f} ${m}`}}function yw(a,{style:t,vars:e},i,r){const o=a.style;let l;for(l in t)o[l]=t[l];r?.applyProjectionStyles(o,i);for(l in e)o.setProperty(l,e[l])}function db(a,t){return t.max===t.min?0:a/(t.max-t.min)*100}const xo={correct:(a,t)=>{if(!t.target)return a;if(typeof a=="string")if(ot.test(a))a=parseFloat(a);else return a;const e=db(a,t.target.x),i=db(a,t.target.y);return`${e}% ${i}%`}},FN={correct:(a,{treeScale:t,projectionDelta:e})=>{const i=a,r=ws.parse(a);if(r.length>5)return i;const o=ws.createTransformer(a),l=typeof r[0]!="number"?1:0,u=e.x.scale*t.x,d=e.y.scale*t.y;r[0+l]/=u,r[1+l]/=d;const f=re(u,d,.5);return typeof r[2+l]=="number"&&(r[2+l]/=f),typeof r[3+l]=="number"&&(r[3+l]/=f),o(r)}},em={borderRadius:{...xo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xo,borderTopRightRadius:xo,borderBottomLeftRadius:xo,borderBottomRightRadius:xo,boxShadow:FN};function vw(a,{layout:t,layoutId:e}){return vr.has(a)||a.startsWith("origin")||(t||e!==void 0)&&(!!em[a]||a==="opacity")}function Qm(a,t,e){const i=a.style,r=t?.style,o={};if(!i)return o;for(const l in i)(He(i[l])||r&&He(r[l])||vw(l,a)||e?.getValue(l)?.liveStyle!==void 0)&&(o[l]=i[l]);return o}function zN(a){return window.getComputedStyle(a)}class IN extends dw{constructor(){super(...arguments),this.type="html",this.renderInstance=yw}readValueFromInstance(t,e){if(vr.has(e))return this.projection?.isProjecting?Uf(e):f_(t,e);{const i=zN(t),r=(D1(e)?i.getPropertyValue(e):i[e])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:e}){return gw(t,e)}build(t,e,i){Km(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return Qm(t,e,i)}}const UN={offset:"stroke-dashoffset",array:"stroke-dasharray"},VN={offset:"strokeDashoffset",array:"strokeDasharray"};function HN(a,t,e=1,i=0,r=!0){a.pathLength=1;const o=r?UN:VN;a[o.offset]=`${-i}`,a[o.array]=`${t} ${e}`}const qN=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function bw(a,{attrX:t,attrY:e,attrScale:i,pathLength:r,pathSpacing:o=1,pathOffset:l=0,...u},d,f,m){if(Km(a,u,f),d){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:p,style:b}=a;p.transform&&(b.transform=p.transform,delete p.transform),(b.transform||p.transformOrigin)&&(b.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),b.transform&&(b.transformBox=m?.transformBox??"fill-box",delete p.transformBox);for(const x of qN)p[x]!==void 0&&(b[x]=p[x],delete p[x]);t!==void 0&&(p.x=t),e!==void 0&&(p.y=e),i!==void 0&&(p.scale=i),r!==void 0&&HN(p,r,o,l,!1)}const xw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),ww=a=>typeof a=="string"&&a.toLowerCase()==="svg";function GN(a,t,e,i){yw(a,t,void 0,i);for(const r in t.attrs)a.setAttribute(xw.has(r)?r:qm(r),t.attrs[r])}function Aw(a,t,e){const i=Qm(a,t,e);for(const r in a)if(He(a[r])||He(t[r])){const o=yr.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=a[r]}return i}class $N extends dw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ee}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(vr.has(e)){const i=nw(e);return i&&i.default||0}return e=xw.has(e)?e:qm(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return Aw(t,e,i)}build(t,e,i){bw(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,r){GN(t,e,i,r)}mount(t){this.isSVGTag=ww(t.tagName),super.mount(t)}}const XN=Wm.length;function Sw(a){if(!a)return;if(!a.isControllingVariants){const e=a.parent?Sw(a.parent)||{}:{};return a.props.initial!==void 0&&(e.initial=a.props.initial),e}const t={};for(let e=0;e<XN;e++){const i=Wm[e],r=a.props[i];(Uo(r)||r===!1)&&(t[i]=r)}return t}function Ew(a,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==a.length)return!1;for(let i=0;i<e;i++)if(t[i]!==a[i])return!1;return!0}const YN=[...Ym].reverse(),WN=Ym.length;function KN(a){return t=>Promise.all(t.map(({animation:e,options:i})=>nN(a,e,i)))}function QN(a){let t=KN(a),e=fb(),i=!0;const r=d=>(f,m)=>{const p=ir(a,m,d==="exit"?a.presenceContext?.custom:void 0);if(p){const{transition:b,transitionEnd:x,...w}=p;f={...f,...w,...x}}return f};function o(d){t=d(a)}function l(d){const{props:f}=a,m=Sw(a.parent)||{},p=[],b=new Set;let x={},w=1/0;for(let T=0;T<WN;T++){const E=YN[T],_=e[E],N=f[E]!==void 0?f[E]:m[E],R=Uo(N),D=E===d?_.isActive:null;D===!1&&(w=T);let L=N===m[E]&&N!==f[E]&&R;if(L&&i&&a.manuallyAnimateOnMount&&(L=!1),_.protectedKeys={...x},!_.isActive&&D===null||!N&&!_.prevProp||wu(N)||typeof N=="boolean")continue;const P=ZN(_.prevProp,N);let F=P||E===d&&_.isActive&&!L&&R||T>w&&R,H=!1;const Y=Array.isArray(N)?N:[N];let J=Y.reduce(r(E),{});D===!1&&(J={});const{prevResolvedValues:at={}}=_,ft={...at,...J},rt=V=>{F=!0,b.has(V)&&(H=!0,b.delete(V)),_.needsAnimating[V]=!0;const Q=a.getValue(V);Q&&(Q.liveStyle=!1)};for(const V in ft){const Q=J[V],lt=at[V];if(x.hasOwnProperty(V))continue;let xt=!1;Xf(Q)&&Xf(lt)?xt=!Ew(Q,lt):xt=Q!==lt,xt?Q!=null?rt(V):b.add(V):Q!==void 0&&b.has(V)?rt(V):_.protectedKeys[V]=!0}_.prevProp=N,_.prevResolvedValues=J,_.isActive&&(x={...x,...J}),i&&a.blockInitialAnimation&&(F=!1);const vt=L&&P;F&&(!vt||H)&&p.push(...Y.map(V=>{const Q={type:E};if(typeof V=="string"&&i&&!vt&&a.manuallyAnimateOnMount&&a.parent){const{parent:lt}=a,xt=ir(lt,V);if(lt.enteringChildren&&xt){const{delayChildren:k}=xt.transition||{};Q.delay=Y1(lt.enteringChildren,a,k)}}return{animation:V,options:Q}}))}if(b.size){const T={};if(typeof f.initial!="boolean"){const E=ir(a,Array.isArray(f.initial)?f.initial[0]:f.initial);E&&E.transition&&(T.transition=E.transition)}b.forEach(E=>{const _=a.getBaseTarget(E),N=a.getValue(E);N&&(N.liveStyle=!0),T[E]=_??null}),p.push({animation:T})}let A=!!p.length;return i&&(f.initial===!1||f.initial===f.animate)&&!a.manuallyAnimateOnMount&&(A=!1),i=!1,A?t(p):Promise.resolve()}function u(d,f){if(e[d].isActive===f)return Promise.resolve();a.variantChildren?.forEach(p=>p.animationState?.setActive(d,f)),e[d].isActive=f;const m=l(d);for(const p in e)e[p].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>e,reset:()=>{e=fb()}}}function ZN(a,t){return typeof t=="string"?t!==a:Array.isArray(t)?!Ew(t,a):!1}function $s(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fb(){return{animate:$s(!0),whileInView:$s(),whileHover:$s(),whileTap:$s(),whileDrag:$s(),whileFocus:$s(),exit:$s()}}function mb(a,t){a.min=t.min,a.max=t.max}function Xn(a,t){mb(a.x,t.x),mb(a.y,t.y)}function pb(a,t){a.translate=t.translate,a.scale=t.scale,a.originPoint=t.originPoint,a.origin=t.origin}const Tw=1e-4,JN=1-Tw,tM=1+Tw,Cw=.01,eM=0-Cw,nM=0+Cw;function We(a){return a.max-a.min}function iM(a,t,e){return Math.abs(a-t)<=e}function gb(a,t,e,i=.5){a.origin=i,a.originPoint=re(t.min,t.max,a.origin),a.scale=We(e)/We(t),a.translate=re(e.min,e.max,a.origin)-a.originPoint,(a.scale>=JN&&a.scale<=tM||isNaN(a.scale))&&(a.scale=1),(a.translate>=eM&&a.translate<=nM||isNaN(a.translate))&&(a.translate=0)}function jo(a,t,e,i){gb(a.x,t.x,e.x,i?i.originX:void 0),gb(a.y,t.y,e.y,i?i.originY:void 0)}function yb(a,t,e){a.min=e.min+t.min,a.max=a.min+We(t)}function sM(a,t,e){yb(a.x,t.x,e.x),yb(a.y,t.y,e.y)}function vb(a,t,e){a.min=t.min-e.min,a.max=a.min+We(t)}function cu(a,t,e){vb(a.x,t.x,e.x),vb(a.y,t.y,e.y)}function bb(a,t,e,i,r){return a-=t,a=lu(a,1/e,i),r!==void 0&&(a=lu(a,1/r,i)),a}function aM(a,t=0,e=1,i=.5,r,o=a,l=a){if(ui.test(t)&&(t=parseFloat(t),t=re(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=re(o.min,o.max,i);a===o&&(u-=t),a.min=bb(a.min,t,e,u,r),a.max=bb(a.max,t,e,u,r)}function xb(a,t,[e,i,r],o,l){aM(a,t[e],t[i],t[r],t.scale,o,l)}const rM=["x","scaleX","originX"],oM=["y","scaleY","originY"];function wb(a,t,e,i){xb(a.x,t,rM,e?e.x:void 0,i?i.x:void 0),xb(a.y,t,oM,e?e.y:void 0,i?i.y:void 0)}function Ab(a){return a.translate===0&&a.scale===1}function _w(a){return Ab(a.x)&&Ab(a.y)}function Sb(a,t){return a.min===t.min&&a.max===t.max}function lM(a,t){return Sb(a.x,t.x)&&Sb(a.y,t.y)}function Eb(a,t){return Math.round(a.min)===Math.round(t.min)&&Math.round(a.max)===Math.round(t.max)}function Nw(a,t){return Eb(a.x,t.x)&&Eb(a.y,t.y)}function Tb(a){return We(a.x)/We(a.y)}function Cb(a,t){return a.translate===t.translate&&a.scale===t.scale&&a.originPoint===t.originPoint}function Bn(a){return[a("x"),a("y")]}function cM(a,t,e){let i="";const r=a.x.translate/t.x,o=a.y.translate/t.y,l=e?.z||0;if((r||o||l)&&(i=`translate3d(${r}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:f,rotate:m,rotateX:p,rotateY:b,skewX:x,skewY:w}=e;f&&(i=`perspective(${f}px) ${i}`),m&&(i+=`rotate(${m}deg) `),p&&(i+=`rotateX(${p}deg) `),b&&(i+=`rotateY(${b}deg) `),x&&(i+=`skewX(${x}deg) `),w&&(i+=`skewY(${w}deg) `)}const u=a.x.scale*t.x,d=a.y.scale*t.y;return(u!==1||d!==1)&&(i+=`scale(${u}, ${d})`),i||"none"}const Mw=["TopLeft","TopRight","BottomLeft","BottomRight"],uM=Mw.length,_b=a=>typeof a=="string"?parseFloat(a):a,Nb=a=>typeof a=="number"||ot.test(a);function hM(a,t,e,i,r,o){r?(a.opacity=re(0,e.opacity??1,dM(i)),a.opacityExit=re(t.opacity??1,0,fM(i))):o&&(a.opacity=re(t.opacity??1,e.opacity??1,i));for(let l=0;l<uM;l++){const u=`border${Mw[l]}Radius`;let d=Mb(t,u),f=Mb(e,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||Nb(d)===Nb(f)?(a[u]=Math.max(re(_b(d),_b(f),i),0),(ui.test(f)||ui.test(d))&&(a[u]+="%")):a[u]=f}(t.rotate||e.rotate)&&(a.rotate=re(t.rotate||0,e.rotate||0,i))}function Mb(a,t){return a[t]!==void 0?a[t]:a.borderRadius}const dM=Rw(0,.5,T1),fM=Rw(.5,.95,zn);function Rw(a,t,e){return i=>i<a?0:i>t?1:e(Fo(a,t,i))}function mM(a,t,e){const i=He(a)?a:ur(a);return i.start(Vm("",i,t,e)),i.animation}function Vo(a,t,e,i={passive:!0}){return a.addEventListener(t,e,i),()=>a.removeEventListener(t,e)}const pM=(a,t)=>a.depth-t.depth;class gM{constructor(){this.children=[],this.isDirty=!1}add(t){Tm(this.children,t),this.isDirty=!0}remove(t){Cm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(pM),this.isDirty=!1,this.children.forEach(t)}}function yM(a,t){const e=Ye.now(),i=({timestamp:r})=>{const o=r-e;o>=t&&(xs(i),a(o-t))};return Qt.setup(i,!0),()=>xs(i)}function Jc(a){return He(a)?a.get():a}class vM{constructor(){this.members=[]}add(t){Tm(this.members,t),t.scheduleRender()}remove(t){if(Cm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(r=>t===r);if(e===0)return!1;let i;for(let r=e;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const r=i.options.layoutDependency,o=t.options.layoutDependency;r!==void 0&&o!==void 0&&r===o||(t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:u}=t.options;u===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const tu={hasAnimatedSinceResize:!0,hasEverUpdated:!1},mf=["","X","Y","Z"],bM=1e3;let xM=0;function pf(a,t,e,i){const{latestValues:r}=t;r[a]&&(e[a]=r[a],t.setStaticValue(a,0),i&&(i[a]=0))}function Dw(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:t}=a.options;if(!t)return;const e=Z1(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:r,layoutId:o}=a.options;window.MotionCancelOptimisedAnimation(e,"transform",Qt,!(r||o))}const{parent:i}=a;i&&!i.hasCheckedOptimisedAppear&&Dw(i)}function jw({attachResizeListener:a,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(l={},u=t?.()){this.id=xM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(SM),this.nodes.forEach(_M),this.nodes.forEach(NM),this.nodes.forEach(EM)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new gM)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Mm),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=lw(l)&&!AN(l),this.instance=l;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),a){let m,p=0;const b=()=>this.root.updateBlockedByResize=!1;Qt.read(()=>{p=window.innerWidth}),a(l,()=>{const x=window.innerWidth;x!==p&&(p=x,this.root.updateBlockedByResize=!0,m&&m(),m=yM(b,250),tu.hasAnimatedSinceResize&&(tu.hasAnimatedSinceResize=!1,this.nodes.forEach(jb)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p,hasRelativeLayoutChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||kM,{onLayoutAnimationStart:A,onLayoutAnimationComplete:T}=f.getProps(),E=!this.targetLayout||!Nw(this.targetLayout,x),_=!p&&b;if(this.options.layoutRoot||this.resumeFrom||_||p&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...Um(w,"layout"),onPlay:A,onComplete:T};(f.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(m,_)}else p||jb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MM),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Dw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const p=this.path[m];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Db);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(CM),this.nodes.forEach(wM),this.nodes.forEach(AM)):this.nodes.forEach(Db),this.clearAllSnapshots();const u=Ye.now();Be.delta=di(0,1e3/60,u-Be.timestamp),Be.timestamp=u,Be.isProcessing=!0,rf.update.process(Be),rf.preRender.process(Be),rf.render.process(Be),Be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$m.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TM),this.sharedNodes.forEach(RM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!We(this.snapshot.measuredBox.x)&&!We(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!_w(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||Ys(this.latestValues)||m)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),LM(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Ee();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(PM))){const{scroll:f}=this.root;f&&(Ja(u.x,f.offset.x),Ja(u.y,f.offset.y))}return u}removeElementScroll(l){const u=Ee();if(Xn(u,l),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:p}=f;f!==this.root&&m&&p.layoutScroll&&(m.wasRoot&&Xn(u,l),Ja(u.x,m.offset.x),Ja(u.y,m.offset.y))}return u}applyTransform(l,u=!1){const d=Ee();Xn(d,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&tr(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ys(m.latestValues)&&tr(d,m.latestValues)}return Ys(this.latestValues)&&tr(d,this.latestValues),d}removeTransform(l){const u=Ee();Xn(u,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Ys(f.latestValues))continue;Jf(f.latestValues)&&f.updateSnapshot();const m=Ee(),p=f.measurePageBox();Xn(m,p),wb(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return Ys(this.latestValues)&&wb(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:p}=this.options;if(!this.layout||!(m||p))return;this.resolvedRelativeTargetAt=Be.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ee(),this.targetWithTransforms=Ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xn(this.target,this.layout.layoutBox),pw(this.target,this.targetDelta)):Xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Jf(this.parent.latestValues)||mw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,u,d){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),cu(this.relativeTargetOrigin,u,d),Xn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Be.timestamp&&(d=!1),d)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;Xn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,b=this.treeScale.y;kN(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ee());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pb(this.prevProjectionDelta.x,this.projectionDelta.x),pb(this.prevProjectionDelta.y,this.projectionDelta.y)),jo(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==b||!Cb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Za(),this.projectionDelta=Za(),this.projectionDeltaWithTransform=Za()}setAnimationOrigin(l,u=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},p=Za();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=Ee(),x=d?d.source:void 0,w=this.layout?this.layout.source:void 0,A=x!==w,T=this.getStack(),E=!T||T.members.length<=1,_=!!(A&&!E&&this.options.crossfade===!0&&!this.path.some(jM));this.animationProgress=0;let N;this.mixTargetDelta=R=>{const D=R/1e3;kb(p.x,l.x,D),kb(p.y,l.y,D),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),DM(this.relativeTarget,this.relativeTargetOrigin,b,D),N&&lM(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Ee()),Xn(N,this.relativeTarget)),A&&(this.animationValues=m,hM(m,f,this.latestValues,D,_,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(xs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qt.update(()=>{tu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ur(0)),this.currentAnimation=mM(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:m}=l;if(!(!u||!d||!f)){if(this!==l&&this.layout&&f&&kw(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Ee();const p=We(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+p;const b=We(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+b}Xn(u,d),tr(u,m),jo(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new vM),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&pf("z",l,f,this.animationValues);for(let m=0;m<mf.length;m++)pf(`rotate${mf[m]}`,l,f,this.animationValues),pf(`skew${mf[m]}`,l,f,this.animationValues);l.render();for(const m in f)l.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Jc(u?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Jc(u?.pointerEvents)||""),this.hasProjected&&!Ys(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=cM(this.projectionDeltaWithTransform,this.treeScale,m);d&&(p=d(m,p)),l.transform=p;const{x:b,y:x}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${x.origin*100}% 0`,f.animationValues?l.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const w in em){if(m[w]===void 0)continue;const{correct:A,applyTo:T,isCSSVariable:E}=em[w],_=p==="none"?m[w]:A(m[w],f);if(T){const N=T.length;for(let R=0;R<N;R++)l[T[R]]=_}else E?this.options.visualElement.renderState.vars[w]=_:l[w]=_}this.options.layoutId&&(l.pointerEvents=f===this?Jc(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(Rb),this.root.sharedNodes.clear()}}}function wM(a){a.updateLayout()}function AM(a){const t=a.resumeFrom?.snapshot||a.snapshot;if(a.isLead()&&a.layout&&t&&a.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=a.layout,{animationType:r}=a.options,o=t.source!==a.layout.source;r==="size"?Bn(m=>{const p=o?t.measuredBox[m]:t.layoutBox[m],b=We(p);p.min=e[m].min,p.max=p.min+b}):kw(r,t.layoutBox,e)&&Bn(m=>{const p=o?t.measuredBox[m]:t.layoutBox[m],b=We(e[m]);p.max=p.min+b,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[m].max=a.relativeTarget[m].min+b)});const l=Za();jo(l,e,t.layoutBox);const u=Za();o?jo(u,a.applyTransform(i,!0),t.measuredBox):jo(u,e,t.layoutBox);const d=!_w(l);let f=!1;if(!a.resumeFrom){const m=a.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:b}=m;if(p&&b){const x=Ee();cu(x,t.layoutBox,p.layoutBox);const w=Ee();cu(w,e,b.layoutBox),Nw(x,w)||(f=!0),m.options.layoutRoot&&(a.relativeTarget=w,a.relativeTargetOrigin=x,a.relativeParent=m)}}}a.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(a.isLead()){const{onExitComplete:e}=a.options;e&&e()}a.options.transition=void 0}function SM(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function EM(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function TM(a){a.clearSnapshot()}function Rb(a){a.clearMeasurements()}function Db(a){a.isLayoutDirty=!1}function CM(a){const{visualElement:t}=a.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),a.resetTransform()}function jb(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function _M(a){a.resolveTargetDelta()}function NM(a){a.calcProjection()}function MM(a){a.resetSkewAndRotation()}function RM(a){a.removeLeadSnapshot()}function kb(a,t,e){a.translate=re(t.translate,0,e),a.scale=re(t.scale,1,e),a.origin=t.origin,a.originPoint=t.originPoint}function Lb(a,t,e,i){a.min=re(t.min,e.min,i),a.max=re(t.max,e.max,i)}function DM(a,t,e,i){Lb(a.x,t.x,e.x,i),Lb(a.y,t.y,e.y,i)}function jM(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const kM={duration:.45,ease:[.4,0,.1,1]},Pb=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),Ob=Pb("applewebkit/")&&!Pb("chrome/")?Math.round:zn;function Bb(a){a.min=Ob(a.min),a.max=Ob(a.max)}function LM(a){Bb(a.x),Bb(a.y)}function kw(a,t,e){return a==="position"||a==="preserve-aspect"&&!iM(Tb(t),Tb(e),.2)}function PM(a){return a!==a.root&&a.scroll?.wasRoot}const OM=jw({attachResizeListener:(a,t)=>Vo(a,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),gf={current:void 0},Lw=jw({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!gf.current){const a=new OM({});a.mount(window),a.setOptions({layoutScroll:!0}),gf.current=a}return gf.current},resetTransform:(a,t)=>{a.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),Zm=M.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});function Fb(a,t){if(typeof a=="function")return a(t);a!=null&&(a.current=t)}function BM(...a){return t=>{let e=!1;const i=a.map(r=>{const o=Fb(r,t);return!e&&typeof o=="function"&&(e=!0),o});if(e)return()=>{for(let r=0;r<i.length;r++){const o=i[r];typeof o=="function"?o():Fb(a[r],null)}}}}function FM(...a){return M.useCallback(BM(...a),a)}class zM extends M.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,r=Qf(i)&&i.offsetWidth||0,o=Qf(i)&&i.offsetHeight||0,l=this.props.sizeRef.current;l.height=e.offsetHeight||0,l.width=e.offsetWidth||0,l.top=e.offsetTop,l.left=e.offsetLeft,l.right=r-l.width-l.left,l.bottom=o-l.height-l.top}return null}componentDidUpdate(){}render(){return this.props.children}}function IM({children:a,isPresent:t,anchorX:e,anchorY:i,root:r}){const o=M.useId(),l=M.useRef(null),u=M.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=M.useContext(Zm),f=a.props?.ref??a?.ref,m=FM(l,f);return M.useInsertionEffect(()=>{const{width:p,height:b,top:x,left:w,right:A,bottom:T}=u.current;if(t||!l.current||!p||!b)return;const E=e==="left"?`left: ${w}`:`right: ${A}`,_=i==="bottom"?`bottom: ${T}`:`top: ${x}`;l.current.dataset.motionPopId=o;const N=document.createElement("style");d&&(N.nonce=d);const R=r??document.head;return R.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${b}px !important;
            ${E}px !important;
            ${_}px !important;
          }
        `),()=>{R.contains(N)&&R.removeChild(N)}},[t]),y.jsx(zM,{isPresent:t,childRef:l,sizeRef:u,children:M.cloneElement(a,{ref:m})})}const UM=({children:a,initial:t,isPresent:e,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:l,anchorX:u,anchorY:d,root:f})=>{const m=Em(VM),p=M.useId();let b=!0,x=M.useMemo(()=>(b=!1,{id:p,initial:t,isPresent:e,custom:r,onExitComplete:w=>{m.set(w,!0);for(const A of m.values())if(!A)return;i&&i()},register:w=>(m.set(w,!1),()=>m.delete(w))}),[e,m,i]);return o&&b&&(x={...x}),M.useMemo(()=>{m.forEach((w,A)=>m.set(A,!1))},[e]),M.useEffect(()=>{!e&&!m.size&&i&&i()},[e]),l==="popLayout"&&(a=y.jsx(IM,{isPresent:e,anchorX:u,anchorY:d,root:f,children:a})),y.jsx(xu.Provider,{value:x,children:a})};function VM(){return new Map}function Pw(a=!0){const t=M.useContext(xu);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:r}=t,o=M.useId();M.useEffect(()=>{if(a)return r(o)},[a]);const l=M.useCallback(()=>a&&i&&i(o),[o,i,a]);return!e&&i?[!1,l]:[!0]}const Oc=a=>a.key||"";function zb(a){const t=[];return M.Children.forEach(a,e=>{M.isValidElement(e)&&t.push(e)}),t}const vs=({children:a,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:o="sync",propagate:l=!1,anchorX:u="left",anchorY:d="top",root:f})=>{const[m,p]=Pw(l),b=M.useMemo(()=>zb(a),[a]),x=l&&!m?[]:b.map(Oc),w=M.useRef(!0),A=M.useRef(b),T=Em(()=>new Map),E=M.useRef(new Set),[_,N]=M.useState(b),[R,D]=M.useState(b);m1(()=>{w.current=!1,A.current=b;for(let F=0;F<R.length;F++){const H=Oc(R[F]);x.includes(H)?(T.delete(H),E.current.delete(H)):T.get(H)!==!0&&T.set(H,!1)}},[R,x.length,x.join("-")]);const L=[];if(b!==_){let F=[...b];for(let H=0;H<R.length;H++){const Y=R[H],J=Oc(Y);x.includes(J)||(F.splice(H,0,Y),L.push(Y))}return o==="wait"&&L.length&&(F=L),D(zb(F)),N(b),null}const{forceRender:P}=M.useContext(Sm);return y.jsx(y.Fragment,{children:R.map(F=>{const H=Oc(F),Y=l&&!m?!1:b===R||x.includes(H),J=()=>{if(E.current.has(H))return;if(E.current.add(H),T.has(H))T.set(H,!0);else return;let at=!0;T.forEach(ft=>{ft||(at=!1)}),at&&(P?.(),D(A.current),l&&p?.(),i&&i())};return y.jsx(UM,{isPresent:Y,initial:!w.current||e?void 0:!1,custom:t,presenceAffectsLayout:r,mode:o,root:f,onExitComplete:Y?void 0:J,anchorX:u,anchorY:d,children:F},H)})})},Ow=M.createContext({strict:!1}),Ib={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Ub=!1;function HM(){if(Ub)return;const a={};for(const t in Ib)a[t]={isEnabled:e=>Ib[t].some(i=>!!e[i])};hw(a),Ub=!0}function Bw(){return HM(),MN()}function qM(a){const t=Bw();for(const e in a)t[e]={...t[e],...a[e]};hw(t)}const GM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uu(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||GM.has(a)}let Fw=a=>!uu(a);function $M(a){typeof a=="function"&&(Fw=t=>t.startsWith("on")?!uu(t):a(t))}try{$M(require("@emotion/is-prop-valid").default)}catch{}function XM(a,t,e){const i={};for(const r in a)r==="values"&&typeof a.values=="object"||(Fw(r)||e===!0&&uu(r)||!t&&!uu(r)||a.draggable&&r.startsWith("onDrag"))&&(i[r]=a[r]);return i}const Su=M.createContext({});function YM(a,t){if(Au(a)){const{initial:e,animate:i}=a;return{initial:e===!1||Uo(e)?e:void 0,animate:Uo(i)?i:void 0}}return a.inherit!==!1?t:{}}function WM(a){const{initial:t,animate:e}=YM(a,M.useContext(Su));return M.useMemo(()=>({initial:t,animate:e}),[Vb(t),Vb(e)])}function Vb(a){return Array.isArray(a)?a.join(" "):a}const Jm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zw(a,t,e){for(const i in t)!He(t[i])&&!vw(i,e)&&(a[i]=t[i])}function KM({transformTemplate:a},t){return M.useMemo(()=>{const e=Jm();return Km(e,t,a),Object.assign({},e.vars,e.style)},[t])}function QM(a,t){const e=a.style||{},i={};return zw(i,e,a),Object.assign(i,KM(a,t)),i}function ZM(a,t){const e={},i=QM(a,t);return a.drag&&a.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(e.tabIndex=0),e.style=i,e}const Iw=()=>({...Jm(),attrs:{}});function JM(a,t,e,i){const r=M.useMemo(()=>{const o=Iw();return bw(o,t,ww(i),a.transformTemplate,a.style),{...o.attrs,style:{...o.style}}},[t]);if(a.style){const o={};zw(o,a.style,a),r.style={...o,...r.style}}return r}const tR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tp(a){return typeof a!="string"||a.includes("-")?!1:!!(tR.indexOf(a)>-1||/[A-Z]/u.test(a))}function eR(a,t,e,{latestValues:i},r,o=!1,l){const d=(l??tp(a)?JM:ZM)(t,i,r,a),f=XM(t,typeof a=="string",o),m=a!==M.Fragment?{...f,...d,ref:e}:{},{children:p}=t,b=M.useMemo(()=>He(p)?p.get():p,[p]);return M.createElement(a,{...m,children:b})}function nR({scrapeMotionValuesFromProps:a,createRenderState:t},e,i,r){return{latestValues:iR(e,i,r,a),renderState:t()}}function iR(a,t,e,i){const r={},o=i(a,{});for(const b in o)r[b]=Jc(o[b]);let{initial:l,animate:u}=a;const d=Au(a),f=uw(a);t&&f&&!d&&a.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let m=e?e.initial===!1:!1;m=m||l===!1;const p=m?u:l;if(p&&typeof p!="boolean"&&!wu(p)){const b=Array.isArray(p)?p:[p];for(let x=0;x<b.length;x++){const w=Hm(a,b[x]);if(w){const{transitionEnd:A,transition:T,...E}=w;for(const _ in E){let N=E[_];if(Array.isArray(N)){const R=m?N.length-1:0;N=N[R]}N!==null&&(r[_]=N)}for(const _ in A)r[_]=A[_]}}}return r}const Uw=a=>(t,e)=>{const i=M.useContext(Su),r=M.useContext(xu),o=()=>nR(a,t,i,r);return e?o():Em(o)},sR=Uw({scrapeMotionValuesFromProps:Qm,createRenderState:Jm}),aR=Uw({scrapeMotionValuesFromProps:Aw,createRenderState:Iw}),rR=Symbol.for("motionComponentSymbol");function oR(a,t,e){const i=M.useRef(e);M.useInsertionEffect(()=>{i.current=e});const r=M.useRef(null);return M.useCallback(o=>{o&&a.onMount?.(o),t&&(o?t.mount(o):t.unmount());const l=i.current;if(typeof l=="function")if(o){const u=l(o);typeof u=="function"&&(r.current=u)}else r.current?(r.current(),r.current=null):l(o);else l&&(l.current=o)},[t])}const Vw=M.createContext({});function Co(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function lR(a,t,e,i,r,o){const{visualElement:l}=M.useContext(Su),u=M.useContext(Ow),d=M.useContext(xu),f=M.useContext(Zm),m=f.reducedMotion,p=f.skipAnimations,b=M.useRef(null),x=M.useRef(!1);i=i||u.renderer,!b.current&&i&&(b.current=i(a,{visualState:t,parent:l,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,skipAnimations:p,isSVG:o}),x.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const w=b.current,A=M.useContext(Vw);w&&!w.projection&&r&&(w.type==="html"||w.type==="svg")&&cR(b.current,e,r,A);const T=M.useRef(!1);M.useInsertionEffect(()=>{w&&T.current&&w.update(e,d)});const E=e[Q1],_=M.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return m1(()=>{x.current=!0,w&&(T.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),w.scheduleRenderMicrotask(),_.current&&w.animationState&&w.animationState.animateChanges())}),M.useEffect(()=>{w&&(!_.current&&w.animationState&&w.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),_.current=!1),w.enteringChildren=void 0)}),w}function cR(a,t,e,i){const{layoutId:r,layout:o,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:f,layoutCrossfade:m}=t;a.projection=new e(a.latestValues,t["data-framer-portal-id"]?void 0:Hw(a.parent)),a.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!l||u&&Co(u),visualElement:a,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:d,layoutRoot:f})}function Hw(a){if(a)return a.options.allowProjection!==!1?a.projection:Hw(a.parent)}function yf(a,{forwardMotionProps:t=!1,type:e}={},i,r){i&&qM(i);const o=e?e==="svg":tp(a),l=o?aR:sR;function u(f,m){let p;const b={...M.useContext(Zm),...f,layoutId:uR(f)},{isStatic:x}=b,w=WM(f),A=l(f,x);if(!x&&f1){hR();const T=dR(b);p=T.MeasureLayout,w.visualElement=lR(a,A,b,r,T.ProjectionNode,o)}return y.jsxs(Su.Provider,{value:w,children:[p&&w.visualElement?y.jsx(p,{visualElement:w.visualElement,...b}):null,eR(a,f,oR(A,w.visualElement,m),A,x,t,o)]})}u.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const d=M.forwardRef(u);return d[rR]=a,d}function uR({layoutId:a}){const t=M.useContext(Sm).id;return t&&a!==void 0?t+"-"+a:a}function hR(a,t){M.useContext(Ow).strict}function dR(a){const t=Bw(),{drag:e,layout:i}=t;if(!e&&!i)return{};const r={...e,...i};return{MeasureLayout:e?.isEnabled(a)||i?.isEnabled(a)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function fR(a,t){if(typeof Proxy>"u")return yf;const e=new Map,i=(o,l)=>yf(o,l,a,t),r=(o,l)=>i(o,l);return new Proxy(r,{get:(o,l)=>l==="create"?i:(e.has(l)||e.set(l,yf(l,void 0,a,t)),e.get(l))})}const mR=(a,t)=>t.isSVG??tp(a)?new $N(t):new IN(t,{allowProjection:a!==M.Fragment});class pR extends Cs{constructor(t){super(t),t.animationState||(t.animationState=QN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();wu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let gR=0;class yR extends Cs{constructor(){super(...arguments),this.id=gR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const vR={animation:{Feature:pR},exit:{Feature:yR}};function el(a){return{point:{x:a.pageX,y:a.pageY}}}const bR=a=>t=>Xm(t)&&a(t,el(t));function ko(a,t,e,i){return Vo(a,t,bR(e),i)}const qw=({current:a})=>a?a.ownerDocument.defaultView:null,Hb=(a,t)=>Math.abs(a-t);function xR(a,t){const e=Hb(a.x,t.x),i=Hb(a.y,t.y);return Math.sqrt(e**2+i**2)}const qb=new Set(["auto","scroll"]);class Gw{constructor(t,e,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=bf(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,A=xR(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!A)return;const{point:T}=x,{timestamp:E}=Be;this.history.push({...T,timestamp:E});const{onStart:_,onMove:N}=this.handlers;w||(_&&_(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,x)},this.handlePointerMove=(x,w)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=vf(w,this.transformPagePoint),Qt.update(this.updatePoint,!0)},this.handlePointerUp=(x,w)=>{this.end();const{onEnd:A,onSessionEnd:T,resumeAnimation:E}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=bf(x.type==="pointercancel"?this.lastMoveEventInfo:vf(w,this.transformPagePoint),this.history);this.startEvent&&A&&A(x,_),T&&T(x,_)},!Xm(t))return;this.dragSnapToOrigin=o,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=r||window;const d=el(t),f=vf(d,this.transformPagePoint),{point:m}=f,{timestamp:p}=Be;this.history=[{...m,timestamp:p}];const{onSessionStart:b}=e;b&&b(t,bf(f,this.history)),this.removeListeners=Zo(ko(this.contextWindow,"pointermove",this.handlePointerMove),ko(this.contextWindow,"pointerup",this.handlePointerUp),ko(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(t){let e=t.parentElement;for(;e;){const i=getComputedStyle(e);(qb.has(i.overflowX)||qb.has(i.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const i=t===window,r=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:r.x-e.x,y:r.y-e.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,r),Qt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),xs(this.updatePoint)}}function vf(a,t){return t?{point:t(a.point)}:a}function Gb(a,t){return{x:a.x-t.x,y:a.y-t.y}}function bf({point:a},t){return{point:a,delta:Gb(a,$w(t)),offset:Gb(a,wR(t)),velocity:AR(t,.1)}}function wR(a){return a[0]}function $w(a){return a[a.length-1]}function AR(a,t){if(a.length<2)return{x:0,y:0};let e=a.length-1,i=null;const r=$w(a);for(;e>=0&&(i=a[e],!(r.timestamp-i.timestamp>Oi(t)));)e--;if(!i)return{x:0,y:0};const o=Fn(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function SR(a,{min:t,max:e},i){return t!==void 0&&a<t?a=i?re(t,a,i.min):Math.max(a,t):e!==void 0&&a>e&&(a=i?re(e,a,i.max):Math.min(a,e)),a}function $b(a,t,e){return{min:t!==void 0?a.min+t:void 0,max:e!==void 0?a.max+e-(a.max-a.min):void 0}}function ER(a,{top:t,left:e,bottom:i,right:r}){return{x:$b(a.x,e,r),y:$b(a.y,t,i)}}function Xb(a,t){let e=t.min-a.min,i=t.max-a.max;return t.max-t.min<a.max-a.min&&([e,i]=[i,e]),{min:e,max:i}}function TR(a,t){return{x:Xb(a.x,t.x),y:Xb(a.y,t.y)}}function CR(a,t){let e=.5;const i=We(a),r=We(t);return r>i?e=Fo(t.min,t.max-i,a.min):i>r&&(e=Fo(a.min,a.max-r,t.min)),di(0,1,e)}function _R(a,t){const e={};return t.min!==void 0&&(e.min=t.min-a.min),t.max!==void 0&&(e.max=t.max-a.min),e}const nm=.35;function NR(a=nm){return a===!1?a=0:a===!0&&(a=nm),{x:Yb(a,"left","right"),y:Yb(a,"top","bottom")}}function Yb(a,t,e){return{min:Wb(a,t),max:Wb(a,e)}}function Wb(a,t){return typeof a=="number"?a:a[t]||0}const MR=new WeakMap;class RR{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ee(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=p=>{e?(this.stopAnimation(),this.snapToCursor(el(p).point)):this.pauseAnimation()},l=(p,b)=>{this.stopAnimation();const{drag:x,dragPropagation:w,onDragStart:A}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mN(x),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bn(E=>{let _=this.getAxisMotionValue(E).get()||0;if(ui.test(_)){const{projection:N}=this.visualElement;if(N&&N.layout){const R=N.layout.layoutBox[E];R&&(_=We(R)*(parseFloat(_)/100))}}this.originPoint[E]=_}),A&&Qt.update(()=>A(p,b),!1,!0),Yf(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},u=(p,b)=>{this.latestPointerEvent=p,this.latestPanInfo=b;const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:A,onDrag:T}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:E}=b;if(w&&this.currentDirection===null){this.currentDirection=DR(E),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",b.point,E),this.updateAxis("y",b.point,E),this.visualElement.render(),T&&Qt.update(()=>T(p,b),!1,!0)},d=(p,b)=>{this.latestPointerEvent=p,this.latestPanInfo=b,this.stop(p,b),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Bn(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Gw(t,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:qw(this.visualElement),element:this.visualElement.current})}stop(t,e){const i=t||this.latestPointerEvent,r=e||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!i)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&Qt.postRender(()=>u(i,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,i){const{drag:r}=this.getProps();if(!i||!Bc(t,r,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=SR(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;t&&Co(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=ER(i.layoutBox,t):this.constraints=!1,this.elastic=NR(e),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Bn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=_R(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Co(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=LN(i,r.root,this.visualElement.getTransformPagePoint());let l=TR(r.layout.layoutBox,o);if(e){const u=e(DN(l));this.hasMutatedConstraints=!!u,u&&(l=fw(u))}return l}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=Bn(m=>{if(!Bc(m,e,this.currentDirection))return;let p=d&&d[m]||{};l&&(p={min:0,max:0});const b=r?200:1e6,x=r?40:1e7,w={type:"inertia",velocity:i?t[m]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(m,w)});return Promise.all(f).then(u)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return Yf(this.visualElement,t),i.start(Vm(t,i,0,e,this.visualElement,!1))}stopAnimation(){Bn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Bn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[e];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Bn(e=>{const{drag:i}=this.getProps();if(!Bc(e,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(e);if(r&&r.layout){const{min:l,max:u}=r.layout.layoutBox[e],d=o.get()||0;o.set(t[e]-re(l,u,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Co(e)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Bn(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();r[l]=CR({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Bn(l=>{if(!Bc(l,t,null))return;const u=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];u.set(re(d,f,r[l]))})}addListeners(){if(!this.visualElement.current)return;MR.set(this.visualElement,this);const t=this.visualElement.current,e=ko(t,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps(),p=d.target,b=p!==t&&bN(p);f&&m&&!b&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Co(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Qt.read(i);const l=Vo(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Bn(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=d[m].translate,p.set(p.get()+d[m].translate))}),this.visualElement.render())}));return()=>{l(),e(),o(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:l=nm,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Bc(a,t,e){return(t===!0||t===a)&&(e===null||e===a)}function DR(a,t=10){let e=null;return Math.abs(a.y)>t?e="y":Math.abs(a.x)>t&&(e="x"),e}class jR extends Cs{constructor(t){super(t),this.removeGroupControls=zn,this.removeListeners=zn,this.controls=new RR(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const xf=a=>(t,e)=>{a&&Qt.update(()=>a(t,e),!1,!0)};class kR extends Cs{constructor(){super(...arguments),this.removePointerDownListener=zn}onPointerDown(t){this.session=new Gw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:xf(t),onStart:xf(e),onMove:xf(i),onEnd:(o,l)=>{delete this.session,r&&Qt.postRender(()=>r(o,l))}}}mount(){this.removePointerDownListener=ko(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let wf=!1;class LR extends M.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=t;o&&(e.group&&e.group.add(o),i&&i.register&&r&&i.register(o),wf&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),tu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:r,isPresent:o}=this.props,{projection:l}=i;return l&&(l.isPresent=o,t.layoutDependency!==e&&l.setOptions({...l.options,layoutDependency:e}),wf=!0,r||t.layoutDependency!==e||e===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||Qt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),$m.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:r}=t;wf=!0,r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Xw(a){const[t,e]=Pw(),i=M.useContext(Sm);return y.jsx(LR,{...a,layoutGroup:i,switchLayoutGroup:M.useContext(Vw),isPresent:t,safeToRemove:e})}const PR={pan:{Feature:kR},drag:{Feature:jR,ProjectionNode:Lw,MeasureLayout:Xw}};function Kb(a,t,e){const{props:i}=a;a.animationState&&i.whileHover&&a.animationState.setActive("whileHover",e==="Start");const r="onHover"+e,o=i[r];o&&Qt.postRender(()=>o(t,el(t)))}class OR extends Cs{mount(){const{current:t}=this.node;t&&(this.unmount=pN(t,(e,i)=>(Kb(this.node,i,"Start"),r=>Kb(this.node,r,"End"))))}unmount(){}}class BR extends Cs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zo(Vo(this.node.current,"focus",()=>this.onFocus()),Vo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Qb(a,t,e){const{props:i}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&i.whileTap&&a.animationState.setActive("whileTap",e==="Start");const r="onTap"+(e==="End"?"":e),o=i[r];o&&Qt.postRender(()=>o(t,el(t)))}class FR extends Cs{mount(){const{current:t}=this.node;t&&(this.unmount=wN(t,(e,i)=>(Qb(this.node,i,"Start"),(r,{success:o})=>Qb(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const im=new WeakMap,Af=new WeakMap,zR=a=>{const t=im.get(a.target);t&&t(a)},IR=a=>{a.forEach(zR)};function UR({root:a,...t}){const e=a||document;Af.has(e)||Af.set(e,{});const i=Af.get(e),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(IR,{root:a,...t})),i[r]}function VR(a,t,e){const i=UR(t);return im.set(a,e),i.observe(a),()=>{im.delete(a),i.unobserve(a)}}const HR={some:0,all:1};class qR extends Cs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:r="some",once:o}=t,l={root:e?e.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:HR[r]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:p}=this.node.getProps(),b=f?m:p;b&&b(d)};return VR(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(GR(t,e))&&this.startObserver()}unmount(){}}function GR({viewport:a={}},{viewport:t={}}={}){return e=>a[e]!==t[e]}const $R={inView:{Feature:qR},tap:{Feature:FR},focus:{Feature:BR},hover:{Feature:OR}},XR={layout:{ProjectionNode:Lw,MeasureLayout:Xw}},YR={...vR,...$R,...PR,...XR},tt=fR(YR,mR);const WR=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KR=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),Zb=a=>{const t=KR(a);return t.charAt(0).toUpperCase()+t.slice(1)},Yw=(...a)=>a.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),QR=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var ZR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JR=M.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:l,...u},d)=>M.createElement("svg",{ref:d,...ZR,width:t,height:t,stroke:a,strokeWidth:i?Number(e)*24/Number(t):e,className:Yw("lucide",r),...!o&&!QR(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,m])=>M.createElement(f,m)),...Array.isArray(o)?o:[o]]));const ht=(a,t)=>{const e=M.forwardRef(({className:i,...r},o)=>M.createElement(JR,{ref:o,iconNode:t,className:Yw(`lucide-${WR(Zb(a))}`,`lucide-${a}`,i),...r}));return e.displayName=Zb(a),e};const tD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],eD=ht("arrow-left",tD);const nD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ww=ht("arrow-right",nD);const iD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]],Lo=ht("atom",iD);const sD=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],aD=ht("award",sD);const rD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],hu=ht("book-open",rD);const oD=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],lD=ht("bookmark",oD);const cD=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Jb=ht("briefcase",cD);const uD=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Kw=ht("calculator",uD);const hD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hi=ht("calendar",hD);const dD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tx=ht("chevron-down",dD);const fD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Eu=ht("chevron-left",fD);const mD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ii=ht("chevron-right",mD);const pD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gD=ht("circle-check-big",pD);const yD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vD=ht("clock",yD);const bD=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],xD=ht("code",bD);const wD=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],AD=ht("cpu",wD);const SD=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ED=ht("database",SD);const TD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ep=ht("download",TD);const CD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Qw=ht("external-link",CD);const _D=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nl=ht("eye",_D);const ND=[["path",{d:"M13.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v11.5",key:"4pqfef"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 12v-1",key:"1ej8lb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M8 7V6",key:"1nbb54"}],["circle",{cx:"8",cy:"20",r:"2",key:"ckkr5m"}]],MD=ht("file-archive",ND);const RD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],ex=ht("file-chart-column-increasing",RD);const DD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],nx=ht("file-code",DD);const jD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Bi=ht("file-text",jD);const kD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],Zw=ht("file",kD);const LD=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],PD=ht("flask-conical",LD);const OD=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],ix=ht("folder-open",OD);const BD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],FD=ht("funnel",BD);const zD=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Jw=ht("github",zD);const ID=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],tA=ht("globe",ID);const UD=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],VD=ht("graduation-cap",UD);const HD=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],sx=ht("hard-drive",HD);const qD=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],GD=ht("heart",qD);const $D=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],XD=ht("house",$D);const YD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],WD=ht("image",YD);const KD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ax=ht("info",KD);const QD=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ZD=ht("instagram",QD);const JD=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],tj=ht("linkedin",JD);const ej=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fi=ht("lock",ej);const nj=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],eA=ht("mail",nj);const ij=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],du=ht("map-pin",ij);const sj=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],aj=ht("menu",sj);const rj=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],oj=ht("moon",rj);const lj=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],sm=ht("newspaper",lj);const cj=[["path",{d:"M20.341 6.484A10 10 0 0 1 10.266 21.85",key:"1enhxb"}],["path",{d:"M3.659 17.516A10 10 0 0 1 13.74 2.152",key:"1crzgf"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}]],rx=ht("orbit",cj);const uj=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],hj=ht("palette",uj);const dj=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],nA=ht("phone",dj);const fj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],As=ht("search",fj);const mj=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],pj=ht("share-2",mj);const gj=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],iA=ht("sparkles",gj);const yj=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],vj=ht("sun",yj);const bj=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],hr=ht("tag",bj);const xj=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],wj=ht("twitter",xj);const Aj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Sj=ht("user",Aj);const Ej=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],Tj=ht("waves",Ej);const Cj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ss=ht("x",Cj);const _j=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],sA=ht("zap",_j);const Nj=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],il=ht("zoom-in",Nj);const Mj=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],sl=ht("zoom-out",Mj),aA="/assets/logo-DKtVRe1F.png",Sf=[{path:"/",label:"Home",icon:XD},{path:"/about",label:"About",icon:Sj},{path:"/gallery",label:"Gallery",icon:WD},{path:"/physics",label:"Physics",icon:Lo},{path:"/documents",label:"Documents",icon:Bi,submenu:[{path:"/documents/article",label:"Article"},{path:"/documents/report",label:"Report"},{path:"/documents/journal",label:"Journal"},{path:"/documents/project",label:"Project"}]},{path:"/news",label:"News",icon:sm},{path:"/downloads",label:"Download",icon:ep}];function In(){const[a,t]=M.useState(!1),[e,i]=M.useState(!1),[r,o]=M.useState(null),{isDark:l,toggleTheme:u}=uC(),d=Ts();M.useEffect(()=>{const m=()=>{t(window.scrollY>20)};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]);const f=m=>d.pathname===m||d.pathname.startsWith(m+"/");return y.jsxs(y.Fragment,{children:[y.jsx(tt.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.5,ease:"easeOut"},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${a?"nav-glass":"bg-transparent"}`,children:y.jsx("div",{className:"section-container",children:y.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[y.jsxs(Ue,{to:"/",className:"flex items-center gap-2",children:[y.jsx("img",{src:aA,alt:"Logo",className:"w-10 h-10 rounded-xl object-cover"}),y.jsx("span",{className:"text-xl font-bold gradient-text hidden sm:block",children:"NWR"})]}),y.jsx("div",{className:"hidden lg:flex items-center gap-1",children:Sf.map(m=>y.jsx("div",{className:"relative",children:m.submenu?y.jsxs("div",{className:"relative",onMouseEnter:()=>o(m.path),onMouseLeave:()=>o(null),children:[y.jsxs("button",{className:`flex items-center gap-1 px-4 py-2 rounded-xl transition-all duration-300 ${f(m.path)?"glass-button text-primary":"hover:bg-white/5"}`,children:[y.jsx(m.icon,{className:"w-4 h-4"}),y.jsx("span",{children:m.label}),y.jsx(tx,{className:`w-3 h-3 transition-transform ${r===m.path?"rotate-180":""}`})]}),y.jsx(vs,{children:r===m.path&&y.jsx(tt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:"absolute top-full left-0 mt-2 w-48 glass-card py-2 z-50",children:m.submenu.map(p=>y.jsx(Ue,{to:p.path,className:`block px-4 py-2 transition-all duration-200 ${d.pathname===p.path?"text-primary bg-primary/10":"hover:bg-white/5 hover:text-primary"}`,children:p.label},p.path))})})]}):y.jsxs(Ue,{to:m.path,className:`flex items-center gap-1 px-4 py-2 rounded-xl transition-all duration-300 ${f(m.path)?"glass-button text-primary":"hover:bg-white/5"}`,children:[y.jsx(m.icon,{className:"w-4 h-4"}),y.jsx("span",{children:m.label})]})},m.path))}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:u,className:"w-10 h-10 rounded-xl neu-button flex items-center justify-center","aria-label":"Toggle theme",children:l?y.jsx(vj,{className:"w-5 h-5 text-yellow-400"}):y.jsx(oj,{className:"w-5 h-5 text-slate-600"})}),y.jsx("button",{onClick:()=>i(!e),className:"lg:hidden w-10 h-10 rounded-xl neu-button flex items-center justify-center","aria-label":"Toggle menu",children:e?y.jsx(Ss,{className:"w-5 h-5"}):y.jsx(aj,{className:"w-5 h-5"})})]})]})})}),y.jsx(vs,{children:e&&y.jsx(tt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"fixed inset-x-0 top-16 z-40 lg:hidden",children:y.jsx("div",{className:"section-container py-4",children:y.jsx("div",{className:"glass-card p-4 space-y-2",children:Sf.map(m=>y.jsx("div",{children:m.submenu?y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>o(r===m.path?null:m.path),className:`w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-300 ${f(m.path)?"glass-button text-primary":"hover:bg-white/5"}`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(m.icon,{className:"w-5 h-5"}),y.jsx("span",{children:m.label})]}),y.jsx(tx,{className:`w-4 h-4 transition-transform ${r===m.path?"rotate-180":""}`})]}),y.jsx(vs,{children:r===m.path&&y.jsx(tt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:y.jsx("div",{className:"pl-12 pr-4 py-2 space-y-1",children:m.submenu.map(p=>y.jsx(Ue,{to:p.path,onClick:()=>i(!1),className:`block px-4 py-2 rounded-lg transition-all duration-200 ${d.pathname===p.path?"text-primary bg-primary/10":"hover:bg-white/5 hover:text-primary"}`,children:p.label},p.path))})})})]}):y.jsxs(Ue,{to:m.path,onClick:()=>i(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 ${f(m.path)?"glass-button text-primary":"hover:bg-white/5"}`,children:[y.jsx(m.icon,{className:"w-5 h-5"}),y.jsx("span",{children:m.label})]})},m.path))})})})}),y.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 lg:hidden mobile-nav-glass safe-area-pb",children:y.jsx("div",{className:"flex items-center justify-around py-2",children:Sf.slice(0,5).map(m=>y.jsxs(Ue,{to:m.path,className:`flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all duration-300 ${f(m.path)?"text-primary":"text-muted-foreground"}`,children:[y.jsx(m.icon,{className:`w-5 h-5 ${f(m.path)?"animate-pulse-glow":""}`}),y.jsx("span",{className:"text-[10px]",children:m.label})]},m.path))})})]})}const Rj=[{icon:Jw,href:"https://github.com",label:"GitHub"},{icon:tj,href:"https://www.linkedin.com/in/shree-aman-shah",label:"LinkedIn"},{icon:wj,href:"https://twitter.com",label:"Twitter"},{icon:ZD,href:"https://instagram.com",label:"Instagram"}],Dj=[{label:"Home",href:"#/"},{label:"About",href:"#/about"},{label:"Gallery",href:"#/gallery"},{label:"Physics",href:"#/physics"},{label:"Documents",href:"#/documents/article"},{label:"News",href:"#/news"},{label:"Downloads",href:"#/downloads"}];function Un(){const a=new Date().getFullYear();return y.jsxs("footer",{className:"relative mt-20",children:[y.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-primary to-transparent"}),y.jsxs("div",{className:"section-container py-16",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10",children:[y.jsxs(tt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl glass-button flex items-center justify-center",children:y.jsx("img",{src:aA,alt:"Logo",className:"w-10 h-10 rounded-xl object-cover"})}),y.jsx("span",{className:"text-2xl font-bold gradient-text",children:"Nepal Wild Research"})]}),y.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Exploring Nepals forests and wildlife through science and research. Building digital experiences that turn knowledge into meaningful conservation action."}),y.jsx("div",{className:"flex items-center gap-3",children:Rj.map(t=>y.jsx("a",{href:t.href,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-xl neu-button flex items-center justify-center hover:text-primary transition-colors","aria-label":t.label,children:y.jsx(t.icon,{className:"w-5 h-5"})},t.label))})]}),y.jsxs(tt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},className:"space-y-4",children:[y.jsx("h3",{className:"text-lg font-semibold",children:"Quick Links"}),y.jsx("ul",{className:"space-y-2",children:Dj.map(t=>y.jsx("li",{children:y.jsxs("a",{href:t.href,className:"text-muted-foreground hover:text-primary transition-colors duration-200 flex items-center gap-2",children:[y.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary/50"}),t.label]})},t.href))})]}),y.jsxs(tt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"space-y-4",children:[y.jsx("h3",{className:"text-lg font-semibold",children:"Contact"}),y.jsxs("ul",{className:"space-y-3",children:[y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx(eA,{className:"w-5 h-5 text-primary mt-0.5"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),y.jsx("a",{href:"mailto:amangrown@outlook.com",className:"hover:text-primary transition-colors",children:"amangrown@outlook.com"})]})]}),y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx(nA,{className:"w-5 h-5 text-primary mt-0.5"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),y.jsx("a",{href:"tel:+977-9864164617",className:"hover:text-primary transition-colors",children:"+977 986 4164617"})]})]}),y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx(du,{className:"w-5 h-5 text-primary mt-0.5"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),y.jsx("p",{children:"Syuchatar"}),y.jsx("p",{children:"Kirtipur, Kathmandu"})]})]})]})]}),y.jsxs(tt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3},className:"space-y-4",children:[y.jsx("h3",{className:"text-lg font-semibold",children:"Newsletter"}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"Subscribe to get the latest updates and news."}),y.jsxs("form",{className:"space-y-3",onSubmit:t=>t.preventDefault(),children:[y.jsx("input",{type:"email",placeholder:"Enter your email",className:"w-full px-4 py-3 glass-input text-sm"}),y.jsx("button",{type:"submit",className:"w-full py-3 glass-button font-medium text-sm",children:"Subscribe"})]})]})]}),y.jsx(tt.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5,delay:.4},className:"mt-12 pt-8 border-t border-border/50",children:y.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[y.jsxs("p",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[" ",a," Nepal Wild Research. All rights reserved."]}),y.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:["Made with ",y.jsx(GD,{className:"w-4 h-4 text-red-500 animate-pulse"})," by Aman Shah"]})]})})]})]})}function jj(){const a=M.useRef(null),t=M.useRef([]),e=M.useRef({x:0,y:0}),i=M.useRef(null),r=M.useRef(!0),o=M.useCallback((u,d)=>{const f=Math.min(Math.floor(u*d/15e3),80),m=[];for(let p=0;p<f;p++)m.push({x:Math.random()*u,y:Math.random()*d,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,radius:Math.random()*2+1});return m},[]),l=M.useCallback((u,d,f)=>{const m=t.current,p=e.current;u.clearRect(0,0,d,f),m.forEach((b,x)=>{b.x+=b.vx,b.y+=b.vy,(b.x<0||b.x>d)&&(b.vx*=-1),(b.y<0||b.y>f)&&(b.vy*=-1),b.x=Math.max(0,Math.min(d,b.x)),b.y=Math.max(0,Math.min(f,b.y)),u.beginPath(),u.arc(b.x,b.y,b.radius,0,Math.PI*2),u.fillStyle="rgba(6, 182, 212, 0.8)",u.fill(),m.slice(x+1).forEach(E=>{const _=b.x-E.x,N=b.y-E.y,R=Math.sqrt(_*_+N*N);R<150&&(u.beginPath(),u.moveTo(b.x,b.y),u.lineTo(E.x,E.y),u.strokeStyle=`rgba(6, 182, 212, ${.2*(1-R/150)})`,u.lineWidth=1,u.stroke())});const w=p.x-b.x,A=p.y-b.y,T=Math.sqrt(w*w+A*A);if(T<200){u.beginPath(),u.moveTo(b.x,b.y),u.lineTo(p.x,p.y),u.strokeStyle=`rgba(139, 92, 246, ${.3*(1-T/200)})`,u.lineWidth=1,u.stroke();const E=(200-T)/200*.02;b.vx+=w*E*.01,b.vy+=A*E*.01}});for(let b=0;b<m.length;b++)for(let x=b+1;x<m.length;x++)for(let w=x+1;w<m.length;w++){const A=m[b],T=m[x],E=m[w],_=Math.sqrt((A.x-T.x)**2+(A.y-T.y)**2),N=Math.sqrt((T.x-E.x)**2+(T.y-E.y)**2),R=Math.sqrt((E.x-A.x)**2+(E.y-A.y)**2);_<120&&N<120&&R<120&&(u.beginPath(),u.moveTo(A.x,A.y),u.lineTo(T.x,T.y),u.lineTo(E.x,E.y),u.closePath(),u.fillStyle=`rgba(6, 182, 212, ${.05*(1-Math.max(_,N,R)/120)})`,u.fill())}},[]);return M.useEffect(()=>{const u=a.current;if(!u)return;const d=u.getContext("2d");if(!d)return;const f=()=>{u.width=window.innerWidth,u.height=window.innerHeight,t.current=o(u.width,u.height)},m=w=>{e.current={x:w.clientX,y:w.clientY}},p=()=>{r.current=document.visibilityState==="visible"};f(),window.addEventListener("resize",f),window.addEventListener("mousemove",m),document.addEventListener("visibilitychange",p);let b=0;const x=()=>{r.current&&(b++,b%2===0&&l(d,u.width,u.height)),i.current=requestAnimationFrame(x)};return x(),()=>{window.removeEventListener("resize",f),window.removeEventListener("mousemove",m),document.removeEventListener("visibilitychange",p),i.current&&cancelAnimationFrame(i.current)}},[o,l]),y.jsx("canvas",{ref:a,className:"fixed inset-0 pointer-events-none z-0",style:{opacity:.6}})}const kj=[{icon:iA,title:"Kande Bhyakur",description:"Shy, elusive, and ground-dwelling bird, usually detected by its loud, melodious, and thrush-like song."},{icon:sA,title:"Siddhartha Gautama Buddha",description:"It is better to travel well than to arrive."},{icon:tA,title:"Quantum Tunneling",description:"Particles can sometimes pass directly through solid barriers."}],Lj=[{value:"50+",label:"Projects"},{value:"100+",label:"Articles"},{value:"5+",label:"Years Experience"},{value:"1000+",label:"Downloads"}];function Pj(){return y.jsxs("div",{className:"min-h-screen relative",children:[y.jsx(jj,{}),y.jsx(In,{}),y.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[y.jsxs("div",{className:"section-container relative z-10 pt-20",children:[y.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[y.jsx(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:y.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full glass-card text-sm font-medium mb-6",children:[y.jsx(iA,{className:"w-4 h-4 text-primary"}),"Together for Nature, Together for Nepal"]})}),y.jsxs(tt.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2,ease:"easeOut"},className:"text-5xl sm:text-6xl lg:text-7xl font-bold mb-6",children:["Hi, I'm"," ",y.jsx("span",{className:"gradient-text",children:"Aman Shah"})]}),y.jsx(tt.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4,ease:"easeOut"},className:"text-xl sm:text-2xl text-muted-foreground mb-8",children:"Physicist | Engineer | Researcher"}),y.jsx(tt.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5,ease:"easeOut"},className:"text-lg text-muted-foreground/80 max-w-2xl mx-auto mb-10",children:"Exploring our wilderness, we reveal the wonders of Nepals wildlife. Learn, engage, and become a guardian of nature."}),y.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6,ease:"easeOut"},className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[y.jsxs(Ue,{to:"/about",className:"group px-8 py-4 glass-button text-lg font-medium flex items-center gap-2",children:["Explore My Work",y.jsx(Ww,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),y.jsx(Ue,{to:"/physics",className:"px-8 py-4 neu-button text-lg font-medium",children:"Physics Concepts"})]})]}),y.jsx(tt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8,ease:"easeOut"},className:"mt-20 grid grid-cols-2 md:grid-cols-4 gap-6",children:Lj.map((a,t)=>y.jsxs(tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.9+t*.1},className:"glass-card p-6 text-center",children:[y.jsx("div",{className:"text-3xl sm:text-4xl font-bold gradient-text mb-2",children:a.value}),y.jsx("div",{className:"text-sm text-muted-foreground",children:a.label})]},a.label))})]}),y.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"absolute bottom-10 left-1/2 -translate-x-1/2",children:y.jsx(tt.div,{animate:{y:[0,10,0]},transition:{duration:1.5,repeat:1/0},className:"w-6 h-10 rounded-full border-2 border-primary/50 flex justify-center pt-2",children:y.jsx(tt.div,{animate:{opacity:[1,0],y:[0,12]},transition:{duration:1.5,repeat:1/0},className:"w-1.5 h-1.5 rounded-full bg-primary"})})})]}),y.jsx("section",{className:"relative py-24",children:y.jsxs("div",{className:"section-container relative z-10",children:[y.jsxs(tt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[y.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:["What You'll ",y.jsx("span",{className:"gradient-text",children:"Discover"})]}),y.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"A collection of physics concepts, personal projects, and creative works presented through a modern, interactive interface."})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:kj.map((a,t)=>y.jsxs(tt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:t*.1},className:"glass-card p-8 group",children:[y.jsx("div",{className:"w-14 h-14 rounded-xl glass-button flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:y.jsx(a.icon,{className:"w-7 h-7 text-primary"})}),y.jsx("h3",{className:"text-xl font-semibold mb-3",children:a.title}),y.jsx("p",{className:"text-muted-foreground",children:a.description})]},a.title))})]})}),y.jsx("section",{className:"relative py-24",children:y.jsx("div",{className:"section-container relative z-10",children:y.jsxs(tt.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.6},className:"glass-card p-10 sm:p-16 text-center relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-secondary/10 pointer-events-none"}),y.jsxs("div",{className:"relative z-10",children:[y.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:["Ready to ",y.jsx("span",{className:"gradient-text",children:"Explore?"})]}),y.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto mb-8",children:"Dive into the world of physics, browse through my gallery, or download resources for your own learning journey."}),y.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[y.jsx(Ue,{to:"/gallery",className:"px-8 py-4 glass-button text-lg font-medium",children:"View Gallery"}),y.jsx(Ue,{to:"/downloads",className:"px-8 py-4 neu-button text-lg font-medium",children:"Download Resources"})]})]})]})})}),y.jsx(Un,{})]})}const Oj="/assets/profile-DwZuuv68.jpeg",Bj=[{icon:hi,label:"Date of Birth",value:"Shrawan 07, 2060"},{icon:du,label:"Address",value:"Syuchatar, Kirtipur, Kathmandu"},{icon:eA,label:"Email",value:"amangrown@outlook.com"},{icon:nA,label:"Phone",value:"+977-9864164617"}],Fj=[{degree:"+2",institution:"MIT",year:"2077 - 2079",description:"Physical Group- Mathematics, Physic and Computer"},{degree:"B.E in Civil Engineering",institution:"Advance College Of Engineering and Management",year:"2079 - Current",description:"Currently Pursuing"},{degree:"B.S. in Physics",institution:"Caltech",year:"2012 - 2016",description:"Minor in Mathematics, Graduated with Honors"}],zj=[{title:"Calculus",company:"Mathematics",period:"2020 - Present",description:"Working projects in *** physics and developing computational models for data analysis."},{title:"Rain Water Harvesting",company:"Hydro",period:"2025 - present",description:"Working in to collects data, information and analysing."},{title:"K-Os",company:"ANBHAE Lab",period:"2018 - Present",description:"Working till"}],Ij=[{name:"Travel & Explorer",level:10,icon:xD},{name:"Python & C++",level:90,icon:ED},{name:"GUI/UX Design",level:85,icon:hj},{name:"Sketch & CAD",level:88,icon:AD},{name:"Playing Chess",level:20,icon:tA},{name:"Physics Simulation",level:72,icon:aD}],Uj=[{name:"GitHub",url:"https://github.com",color:"hover:text-gray-400"},{name:"LinkedIn",url:"https://www.linkedin.com/in/shree-aman-shah",color:"hover:text-blue-500"},{name:"Twitter",url:"https://twitter.com",color:"hover:text-sky-400"},{name:"ResearchGate",url:"https://researchgate.net",color:"hover:text-green-500"}];function Vj(){return y.jsxs("div",{className:"min-h-screen",children:[y.jsx(In,{}),y.jsx("section",{className:"relative pt-32 pb-16",children:y.jsxs("div",{className:"section-container",children:[y.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16",children:[y.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:["About ",y.jsx("span",{className:"gradient-text",children:"Me"})]}),y.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Bridging the gap between theoretical physics and practical engineering."})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10 mb-20",children:[y.jsx(tt.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"lg:col-span-1",children:y.jsxs("div",{className:"glass-card p-8 text-center",children:[y.jsxs("div",{className:"relative w-48 h-48 mx-auto mb-6",children:[y.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-cyan-500 to-violet-500 animate-pulse-glow"}),y.jsx("div",{className:"absolute inset-1 rounded-full bg-background"}),y.jsx("img",{src:Oj,alt:"Profile",className:"absolute inset-2 w-[calc(100%-16px)] h-[calc(100%-16px)] rounded-full object-cover"})]}),y.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Aman Shah"}),y.jsx("p",{className:"text-primary font-medium mb-4",children:"Physicist & Engineer"}),y.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:Uj.map(a=>y.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:`px-3 py-1.5 rounded-lg glass-button text-sm ${a.color} transition-colors`,children:a.name},a.name))}),y.jsx("a",{href:"mailto:amangrown@outlook.com",className:"w-full py-3 glass-button font-medium",children:"Get In Touch"})]})}),y.jsx(tt.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"lg:col-span-2",children:y.jsxs("div",{className:"glass-card p-8 h-full",children:[y.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[y.jsx(Jb,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8",children:Bj.map(a=>y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-lg glass-button flex items-center justify-center flex-shrink-0",children:y.jsx(a.icon,{className:"w-5 h-5 text-primary"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-muted-foreground",children:a.label}),y.jsx("p",{className:"font-medium",children:a.value})]})]},a.label))}),y.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Bio"}),y.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"I am Aman Shah, a civil engineering student driven by an insatiable curiosity for the intersection of science, nature, and practical innovation. My academic journey is fueled by a deep passion for physics and research. My passion are always driven me to explore the unknown and dive deep into the fundamental workings of the universe. I'm especially fascinated by quantum physics, the laws of space and the cosmos, and the scientific theories that explain them."}),y.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"I thrive on practical application projects that bridge theoretical science with real-world engineering solutions. Whether I'm coding complex systems, designing sustainable infrastructure, or studying celestial mechanics, I approach every challenge with analytical rigor and creative problem-solving. My mission is to contribute meaningfully to environmental conservation, scientific advancement, and innovative engineeringbuilding a future where technology and nature coexist sustainably."})]})})]}),y.jsxs(tt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"mb-20",children:[y.jsxs("h2",{className:"text-3xl font-bold text-center mb-10",children:["My ",y.jsx("span",{className:"gradient-text",children:"Skills"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ij.map((a,t)=>y.jsxs(tt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:t*.1},className:"glass-card p-6",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"w-10 h-10 rounded-lg glass-button flex items-center justify-center",children:y.jsx(a.icon,{className:"w-5 h-5 text-primary"})}),y.jsx("span",{className:"font-medium",children:a.name})]}),y.jsx("div",{className:"relative h-2 bg-muted rounded-full overflow-hidden",children:y.jsx(tt.div,{initial:{width:0},whileInView:{width:`${a.level}%`},viewport:{once:!0},transition:{duration:1,delay:.3+t*.1},className:"absolute inset-y-0 left-0 rounded-full bg-gradient-to-r from-cyan-500 to-violet-500"})}),y.jsxs("div",{className:"mt-2 text-right text-sm text-muted-foreground",children:[a.level,"%"]})]},a.name))})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[y.jsxs(tt.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[y.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[y.jsx(VD,{className:"w-6 h-6 text-primary"}),"Education"]}),y.jsx("div",{className:"space-y-6",children:Fj.map((a,t)=>y.jsxs(tt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:t*.1},className:"glass-card p-6 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-cyan-500 to-violet-500"}),y.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[y.jsx("span",{className:"tag-glass",children:a.year}),y.jsx("span",{className:"text-sm text-muted-foreground",children:a.institution})]}),y.jsx("h3",{className:"text-lg font-semibold mb-2",children:a.degree}),y.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]},a.degree))})]}),y.jsxs(tt.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[y.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[y.jsx(Jb,{className:"w-6 h-6 text-primary"}),"Experience"]}),y.jsx("div",{className:"space-y-6",children:zj.map((a,t)=>y.jsxs(tt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:t*.1},className:"glass-card p-6 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-violet-500 to-cyan-500"}),y.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[y.jsx("span",{className:"tag-glass",children:a.period}),y.jsx("span",{className:"text-sm text-muted-foreground",children:a.company})]}),y.jsx("h3",{className:"text-lg font-semibold mb-2",children:a.title}),y.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]},a.title))})]})]})]})}),y.jsx(Un,{})]})}const ox=[{id:1,title:"CERN Particle Accelerator",image:"https://images.unsplash.com/photo-1635070041078-e363dbe005cb?w=800&h=600&fit=crop",location:"Geneva, Switzerland",date:"March 2023",purpose:"Research Visit",description:"Visiting the Large Hadron Collider at CERN to study particle physics experiments and data collection methods.",category:"Research"},{id:2,title:"Quantum Computing Lab",image:"https://images.unsplash.com/photo-1635070041078-e363dbe005cb?w=800&h=600&fit=crop",location:"MIT, Cambridge",date:"June 2023",purpose:"Collaboration",description:"Working with quantum computing researchers to develop new algorithms for physics simulations.",category:"Technology"},{id:3,title:"Astrophotography Session",image:"https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?w=800&h=600&fit=crop",location:"Mauna Kea, Hawaii",date:"August 2023",purpose:"Observation",description:"Capturing deep space images using professional telescopes for educational content.",category:"Astronomy"},{id:4,title:"Coding Workspace Setup",image:"https://images.unsplash.com/photo-1555066931-4365d14bab8c?w=800&h=600&fit=crop",location:"Home Office",date:"Ongoing",purpose:"Development",description:"My personal development environment where I build physics simulations and web applications.",category:"Development"},{id:5,title:"Physics Conference 2023",image:"https://images.unsplash.com/photo-1544531586-fde5298cdd40?w=800&h=600&fit=crop",location:"Berlin, Germany",date:"September 2023",purpose:"Presentation",description:"Presenting research findings on quantum field theory at the International Physics Conference.",category:"Conference"},{id:6,title:"Particle Detector Assembly",image:"https://images.unsplash.com/photo-1581093458791-9f3c3900df4b?w=800&h=600&fit=crop",location:"Fermilab, USA",date:"November 2023",purpose:"Experiment",description:"Assisting in the assembly and calibration of particle detection equipment.",category:"Research"},{id:7,title:"3D Physics Visualization",image:"https://images.unsplash.com/photo-1617791160505-6f00504e3519?w=800&h=600&fit=crop",location:"Virtual",date:"December 2023",purpose:"Education",description:"Creating interactive 3D visualizations of complex physics concepts for students.",category:"Education"},{id:8,title:"Dark Matter Research",image:"https://images.unsplash.com/photo-1462331940025-496dfbfc7564?w=800&h=600&fit=crop",location:"Underground Lab",date:"January 2024",purpose:"Research",description:"Working in an underground laboratory to minimize background radiation for dark matter detection.",category:"Research"}],Hj=["All","Research","Technology","Astronomy","Development","Conference","Education"];function qj(){const[a,t]=M.useState(null),[e,i]=M.useState("All"),r=e==="All"?ox:ox.filter(o=>o.category===e);return y.jsxs("div",{className:"min-h-screen",children:[y.jsx(In,{}),y.jsx("section",{className:"relative pt-32 pb-20",children:y.jsxs("div",{className:"section-container",children:[y.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[y.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:["Visual ",y.jsx("span",{className:"gradient-text",children:"Journey"})]}),y.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"A collection of moments from my research, travels, and projects in the world of physics and technology."})]}),y.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"flex flex-wrap justify-center gap-2 mb-12",children:Hj.map(o=>y.jsx("button",{onClick:()=>i(o),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${e===o?"glass-button":"glass-card hover:bg-white/5"}`,children:o},o))}),y.jsx(tt.div,{layout:!0,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:y.jsx(vs,{mode:"popLayout",children:r.map((o,l)=>y.jsx(tt.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.4,delay:l*.05},onClick:()=>t(o),className:"group cursor-pointer",children:y.jsxs("div",{className:"glass-card overflow-hidden",children:[y.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[y.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),y.jsx("div",{className:"absolute inset-0 flex items-end p-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:y.jsxs("div",{className:"text-white",children:[y.jsx("span",{className:"tag-glass text-xs mb-2 inline-block",children:o.category}),y.jsx("h3",{className:"font-semibold text-sm",children:o.title})]})})]}),y.jsxs("div",{className:"p-4",children:[y.jsx("h3",{className:"font-semibold mb-1 truncate",children:o.title}),y.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[y.jsx(du,{className:"w-3 h-3"}),y.jsx("span",{className:"truncate",children:o.location})]})]})]})},o.id))})})]})}),y.jsx(vs,{children:a&&y.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:()=>t(null),children:y.jsxs(tt.div,{initial:{opacity:0,scale:.9,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:50},transition:{duration:.3},className:"glass-card max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:o=>o.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border/50",children:[y.jsx("span",{className:"tag-glass",children:a.category}),y.jsx("button",{onClick:()=>t(null),className:"w-8 h-8 rounded-lg neu-button flex items-center justify-center hover:text-red-500 transition-colors",children:y.jsx(Ss,{className:"w-4 h-4"})})]}),y.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:[y.jsx("div",{className:"aspect-video relative",children:y.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover"})}),y.jsxs("div",{className:"p-6",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4",children:a.title}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[y.jsxs("div",{className:"flex items-center gap-3 glass-card p-3",children:[y.jsx(du,{className:"w-5 h-5 text-primary"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-muted-foreground",children:"Location"}),y.jsx("p",{className:"text-sm font-medium",children:a.location})]})]}),y.jsxs("div",{className:"flex items-center gap-3 glass-card p-3",children:[y.jsx(hi,{className:"w-5 h-5 text-primary"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-muted-foreground",children:"Date"}),y.jsx("p",{className:"text-sm font-medium",children:a.date})]})]}),y.jsxs("div",{className:"flex items-center gap-3 glass-card p-3",children:[y.jsx(ax,{className:"w-5 h-5 text-primary"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-muted-foreground",children:"Purpose"}),y.jsx("p",{className:"text-sm font-medium",children:a.purpose})]})]})]}),y.jsxs("div",{className:"glass-card p-4",children:[y.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[y.jsx(ax,{className:"w-4 h-4 text-primary"}),"Description"]}),y.jsx("p",{className:"text-muted-foreground leading-relaxed",children:a.description})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsxs("button",{onClick:()=>t(null),className:"px-6 py-2 glass-button flex items-center gap-2",children:[y.jsx(Qw,{className:"w-4 h-4"}),"Close"]})})]})]})]})})}),y.jsx(Un,{})]})}const lx=[{id:"quantum-mechanics",title:"Quantum Mechanics",description:"Explore the fundamental theory describing nature at the smallest scales of energy levels of atoms and subatomic particles.",icon:Lo,category:"Quantum Physics",difficulty:"Advanced"},{id:"relativity",title:"Theory of Relativity",description:"Einstein's theories of special and general relativity, describing the relationship between space, time, and gravity.",icon:rx,category:"Classical Physics",difficulty:"Advanced"},{id:"thermodynamics",title:"Thermodynamics",description:"Study of heat, work, temperature, and energy, including the four laws that govern energy transfer.",icon:PD,category:"Classical Physics",difficulty:"Intermediate"},{id:"electromagnetism",title:"Electromagnetism",description:"Understanding the interactions between electric and magnetic fields, Maxwell's equations, and electromagnetic waves.",icon:sA,category:"Classical Physics",difficulty:"Intermediate"},{id:"particle-physics",title:"Particle Physics",description:"Study of fundamental particles and their interactions, including the Standard Model of particle physics.",icon:Lo,category:"Quantum Physics",difficulty:"Advanced"},{id:"wave-mechanics",title:"Wave Mechanics",description:"Analysis of wave phenomena, including mechanical waves, electromagnetic waves, and quantum wave functions.",icon:Tj,category:"Classical Physics",difficulty:"Intermediate"},{id:"nuclear-physics",title:"Nuclear Physics",description:"Study of atomic nuclei, nuclear reactions, radioactivity, and applications in energy and medicine.",icon:Lo,category:"Quantum Physics",difficulty:"Advanced"},{id:"computational-physics",title:"Computational Physics",description:"Using numerical methods and computer simulations to solve complex physics problems.",icon:Kw,category:"Applied Physics",difficulty:"Intermediate"},{id:"astrophysics",title:"Astrophysics",description:"Application of physics principles to understand celestial objects and the universe as a whole.",icon:rx,category:"Applied Physics",difficulty:"Advanced"}],Gj=["All","Quantum Physics","Classical Physics","Applied Physics"],$j=["All","Beginner","Intermediate","Advanced"];function Xj(){const[a,t]=M.useState(""),[e,i]=M.useState("All"),[r,o]=M.useState("All"),l=lx.filter(d=>{const f=d.title.toLowerCase().includes(a.toLowerCase())||d.description.toLowerCase().includes(a.toLowerCase()),m=e==="All"||d.category===e,p=r==="All"||d.difficulty===r;return f&&m&&p}),u=d=>{switch(d){case"Beginner":return"bg-green-500/20 text-green-400 border-green-500/30";case"Intermediate":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"Advanced":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return y.jsxs("div",{className:"min-h-screen",children:[y.jsx(In,{}),y.jsx("section",{className:"relative pt-32 pb-20",children:y.jsxs("div",{className:"section-container",children:[y.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[y.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:["Physics ",y.jsx("span",{className:"gradient-text",children:"Concepts"})]}),y.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Explore the fundamental laws of the universe through interactive content and detailed explanations of key physics concepts."})]}),y.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-2xl mx-auto mb-10",children:y.jsxs("div",{className:"relative",children:[y.jsx(As,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),y.jsx("input",{type:"text",placeholder:"Search physics topics...",value:a,onChange:d=>t(d.target.value),className:"w-full pl-12 pr-4 py-4 glass-input text-lg"})]})}),y.jsxs(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"flex flex-wrap justify-center gap-4 mb-12",children:[y.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[y.jsx("span",{className:"text-sm text-muted-foreground py-2",children:"Category:"}),Gj.map(d=>y.jsx("button",{onClick:()=>i(d),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${e===d?"glass-button":"glass-card hover:bg-white/5"}`,children:d},d))]}),y.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[y.jsx("span",{className:"text-sm text-muted-foreground py-2",children:"Difficulty:"}),$j.map(d=>y.jsx("button",{onClick:()=>o(d),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${r===d?"glass-button":"glass-card hover:bg-white/5"}`,children:d},d))]})]}),y.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-center mb-8",children:y.jsxs("p",{className:"text-muted-foreground",children:["Showing ",l.length," of ",lx.length," topics"]})}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((d,f)=>y.jsx(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*f},children:y.jsx(Ue,{to:`/physics/${d.id}`,children:y.jsxs("div",{className:"glass-card p-6 h-full group hover:scale-[1.02] transition-transform duration-300",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("div",{className:"w-14 h-14 rounded-xl glass-button flex items-center justify-center group-hover:scale-110 transition-transform",children:y.jsx(d.icon,{className:"w-7 h-7 text-primary"})}),y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${u(d.difficulty)}`,children:d.difficulty})]}),y.jsx("span",{className:"tag-glass text-xs mb-2 inline-block",children:d.category}),y.jsx("h3",{className:"text-xl font-semibold mb-3 group-hover:text-primary transition-colors",children:d.title}),y.jsx("p",{className:"text-muted-foreground text-sm mb-4 line-clamp-3",children:d.description}),y.jsxs("div",{className:"flex items-center gap-2 text-primary text-sm font-medium",children:[y.jsx(hu,{className:"w-4 h-4"}),"Read More",y.jsx(Ww,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})})},d.id))}),l.length===0&&y.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[y.jsx("div",{className:"w-20 h-20 rounded-full glass-card flex items-center justify-center mx-auto mb-6",children:y.jsx(As,{className:"w-10 h-10 text-muted-foreground"})}),y.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No topics found"}),y.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search or filters to find what you're looking for."})]})]})}),y.jsx(Un,{})]})}const Yj=[{id:1,title:"Published New Paper on Quantum Entanglement",date:"2024-01-20",excerpt:"Our latest research on quantum entanglement has been published in Nature Physics.",content:"We are excited to announce that our latest research paper on quantum entanglement has been published in Nature Physics. This work represents years of collaboration with international research teams and opens new possibilities for quantum communication technologies.",tags:["Publication","Quantum Physics"],attachments:[{name:"Research_Paper.pdf",size:"2.4 MB",url:"#"},{name:"Supplementary_Data.zip",size:"15.8 MB",url:"#"}]},{id:2,title:"CERN Experiment Results Announced",date:"2024-01-15",excerpt:"New particle detection results from the LHC experiments show promising findings.",content:"The latest results from our CERN collaboration have revealed interesting patterns in particle collision data. These findings could potentially lead to new discoveries in the field of particle physics.",tags:["CERN","Research"],attachments:[{name:"Experiment_Results.pdf",size:"5.2 MB",url:"#"}]},{id:3,title:"Speaking at International Physics Conference",date:"2024-01-10",excerpt:"I will be presenting our latest findings at the International Physics Conference.",content:"I am honored to be invited as a keynote speaker at the International Physics Conference in Geneva. I will be presenting our recent work on dark matter detection methods and their implications for future experiments.",tags:["Conference","Speaking"],attachments:[{name:"Presentation_Slides.pptx",size:"12.5 MB",url:"#"},{name:"Conference_Program.pdf",size:"1.8 MB",url:"#"}]},{id:4,title:"New Grant Awarded for Quantum Computing Research",date:"2024-01-05",excerpt:"We have received a major grant to continue our quantum computing research.",content:"We are thrilled to announce that our research group has been awarded a $2.5 million grant from the National Science Foundation to continue our work on quantum computing applications in physics simulations.",tags:["Funding","Quantum Computing"],attachments:[{name:"Grant_Proposal.pdf",size:"3.1 MB",url:"#"}]},{id:5,title:"Open Source Physics Simulator Released",date:"2023-12-28",excerpt:"Our new open-source physics simulation tool is now available on GitHub.",content:"After months of development, we are excited to release our open-source physics simulation tool. This project aims to make physics simulations accessible to students and researchers worldwide.",tags:["Open Source","Software"],attachments:[{name:"User_Manual.pdf",size:"4.5 MB",url:"#"},{name:"Release_Notes.txt",size:"12 KB",url:"#"}]},{id:6,title:"Collaboration with European Research Institute",date:"2023-12-20",excerpt:"New international collaboration announced for dark matter research.",content:"We are pleased to announce a new collaboration with the European Research Institute for Dark Matter Studies. This partnership will combine our expertise in detection methods with their advanced simulation capabilities.",tags:["Collaboration","Dark Matter"],attachments:[{name:"MOU.pdf",size:"1.2 MB",url:"#"}]}];function Wj(){const[a,t]=M.useState(""),[e,i]=M.useState(null),[r,o]=M.useState(null),[l,u]=M.useState(100),d=Yj.filter(p=>p.title.toLowerCase().includes(a.toLowerCase())||p.excerpt.toLowerCase().includes(a.toLowerCase())||p.tags.some(b=>b.toLowerCase().includes(a.toLowerCase()))),f=()=>{u(p=>Math.min(p+25,200))},m=()=>{u(p=>Math.max(p-25,50))};return y.jsxs("div",{className:"min-h-screen",children:[y.jsx(In,{}),y.jsx("section",{className:"relative pt-32 pb-20",children:y.jsxs("div",{className:"section-container",children:[y.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[y.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:["Latest ",y.jsx("span",{className:"gradient-text",children:"News"})]}),y.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Stay updated with the latest announcements, publications, and project updates."})]}),y.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-xl mx-auto mb-12",children:y.jsxs("div",{className:"relative",children:[y.jsx(As,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),y.jsx("input",{type:"text",placeholder:"Search news...",value:a,onChange:p=>t(p.target.value),className:"w-full pl-12 pr-4 py-4 glass-input"})]})}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute left-4 md:left-1/2 top-0 bottom-0 w-0.5 timeline-line transform md:-translate-x-1/2"}),y.jsx("div",{className:"space-y-8",children:d.map((p,b)=>y.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*b},className:`relative flex flex-col md:flex-row ${b%2===0?"md:flex-row":"md:flex-row-reverse"} items-start md:items-center gap-4 md:gap-8`,children:[y.jsx("div",{className:"absolute left-4 md:left-1/2 w-4 h-4 rounded-full bg-primary border-4 border-background transform -translate-x-1/2 z-10"}),y.jsx("div",{className:`hidden md:block w-1/2 ${b%2===0?"text-right pr-8":"text-left pl-8"}`,children:y.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[y.jsx(hi,{className:"w-4 h-4 text-primary"}),y.jsx("span",{className:"text-sm font-medium",children:p.date})]})}),y.jsx("div",{className:"ml-12 md:ml-0 w-full md:w-1/2",children:y.jsxs("div",{onClick:()=>i(p),className:"glass-card p-6 cursor-pointer group hover:scale-[1.02] transition-transform",children:[y.jsxs("div",{className:"flex items-center gap-2 md:hidden mb-3",children:[y.jsx(hi,{className:"w-4 h-4 text-primary"}),y.jsx("span",{className:"text-sm font-medium",children:p.date})]}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:p.tags.map(x=>y.jsxs("span",{className:"tag-glass text-xs",children:[y.jsx(hr,{className:"w-3 h-3 inline mr-1"}),x]},x))}),y.jsx("h3",{className:"text-lg font-semibold mb-2 group-hover:text-primary transition-colors",children:p.title}),y.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:p.excerpt}),p.attachments.length>0&&y.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary",children:[y.jsx(Bi,{className:"w-4 h-4"}),p.attachments.length," attachment",p.attachments.length>1?"s":""]}),y.jsxs("div",{className:"flex items-center gap-2 mt-4 text-sm text-muted-foreground",children:[y.jsx("span",{children:"Read more"}),y.jsx(Ii,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})})]},p.id))})]}),d.length===0&&y.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[y.jsx("div",{className:"w-20 h-20 rounded-full glass-card flex items-center justify-center mx-auto mb-6",children:y.jsx(sm,{className:"w-10 h-10 text-muted-foreground"})}),y.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No news found"}),y.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search query."})]})]})}),y.jsx(vs,{children:e&&y.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:()=>i(null),children:y.jsxs(tt.div,{initial:{opacity:0,scale:.9,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:50},transition:{duration:.3},className:"glass-card max-w-2xl w-full max-h-[90vh] overflow-hidden",onClick:p=>p.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border/50",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(sm,{className:"w-5 h-5 text-primary"}),y.jsx("span",{className:"font-medium",children:"News Detail"})]}),y.jsx("button",{onClick:()=>i(null),className:"w-8 h-8 rounded-lg neu-button flex items-center justify-center hover:text-red-500 transition-colors",children:y.jsx(Ss,{className:"w-4 h-4"})})]}),y.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)] p-6",children:[y.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags.map(p=>y.jsxs("span",{className:"tag-glass",children:[y.jsx(hr,{className:"w-3 h-3 inline mr-1"}),p]},p))}),y.jsx("h2",{className:"text-2xl font-bold mb-4",children:e.title}),y.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-6",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(hi,{className:"w-4 h-4"}),e.date]}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(vD,{className:"w-4 h-4"}),"3 min read"]})]}),y.jsxs("div",{className:"prose max-w-none mb-8",children:[y.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e.content}),y.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."})]}),e.attachments.length>0&&y.jsxs("div",{className:"glass-card p-4",children:[y.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[y.jsx(Bi,{className:"w-4 h-4 text-primary"}),"Attachments"]}),y.jsx("div",{className:"space-y-2",children:e.attachments.map((p,b)=>y.jsxs("div",{onClick:()=>o(p),className:"flex items-center justify-between p-3 glass-card hover:bg-white/5 cursor-pointer transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Bi,{className:"w-5 h-5 text-primary"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-sm",children:p.name}),y.jsx("p",{className:"text-xs text-muted-foreground",children:p.size})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{className:"w-8 h-8 rounded-lg glass-button flex items-center justify-center",children:y.jsx(nl,{className:"w-4 h-4"})}),y.jsx("button",{className:"w-8 h-8 rounded-lg glass-button flex items-center justify-center",children:y.jsx(ep,{className:"w-4 h-4"})})]})]},b))})]})]})]})})}),y.jsx(vs,{children:r&&y.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-black/90 backdrop-blur-sm",children:[y.jsxs("div",{className:"h-16 glass-card border-b border-border/50 flex items-center justify-between px-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>o(null),className:"w-10 h-10 rounded-lg neu-button flex items-center justify-center",children:y.jsx(Ss,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-sm",children:r.name}),y.jsxs("p",{className:"text-xs text-muted-foreground",children:[l,"%"]})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"hidden sm:flex items-center gap-1 glass-card p-1",children:[y.jsx("button",{onClick:m,className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center",children:y.jsx(sl,{className:"w-4 h-4"})}),y.jsxs("span",{className:"text-sm w-14 text-center",children:[l,"%"]}),y.jsx("button",{onClick:f,className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center",children:y.jsx(il,{className:"w-4 h-4"})})]}),y.jsx("button",{className:"w-10 h-10 rounded-lg glass-card flex items-center justify-center opacity-50 cursor-not-allowed",title:"Download disabled",children:y.jsx(fi,{className:"w-4 h-4"})}),y.jsx("button",{className:"w-10 h-10 rounded-lg glass-card flex items-center justify-center opacity-50 cursor-not-allowed",title:"Print disabled",children:y.jsx(fi,{className:"w-4 h-4"})})]})]}),y.jsx("div",{className:"h-[calc(100vh-64px)] overflow-auto bg-[#1a1a1a] flex items-center justify-center p-8",children:y.jsx("div",{className:"bg-white shadow-2xl transition-transform duration-200",style:{transform:`scale(${l/100})`,transformOrigin:"center top",width:"210mm",minHeight:"297mm",padding:"20mm"},children:y.jsxs("div",{className:"text-black",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4",children:r.name}),y.jsxs("p",{className:"text-gray-600 mb-8",children:["File Size: ",r.size]}),y.jsxs("div",{className:"prose max-w-none",children:[y.jsx("p",{className:"mb-4",children:"This is a preview of the attached document. The actual content would be displayed here when connected to a real document storage system."}),y.jsx("p",{className:"mb-4",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."})]}),y.jsx("div",{className:"mt-12 pt-8 border-t border-gray-300 text-center text-gray-500 text-sm",children:y.jsx("p",{children:"This document is protected and cannot be downloaded or printed."})})]})})})]})}),y.jsx(Un,{})]})}const Fc=[{id:1,name:"Quantum_Mechanics_Handbook.pdf",type:"pdf",size:"15.2 MB",date:"2024-01-15",description:"Comprehensive handbook covering quantum mechanics fundamentals and applications.",downloads:1250,category:"Educational"},{id:2,name:"Physics_Simulation_Toolkit.zip",type:"zip",size:"45.8 MB",date:"2024-01-10",description:"Python-based physics simulation toolkit with examples and documentation.",downloads:890,category:"Software"},{id:3,name:"Particle_Data_Analysis_Scripts.zip",type:"zip",size:"12.5 MB",date:"2024-01-05",description:"Collection of scripts for analyzing particle physics experimental data.",downloads:650,category:"Software"},{id:4,name:"Research_Paper_Template.docx",type:"doc",size:"2.1 MB",date:"2023-12-28",description:"Professional template for writing physics research papers.",downloads:2100,category:"Templates"},{id:5,name:"CERN_Visit_Photos.zip",type:"zip",size:"128.6 MB",date:"2023-12-20",description:"High-resolution photos from the CERN facility visit.",downloads:450,category:"Media"},{id:6,name:"Dark_Matter_Presentation.pptx",type:"ppt",size:"18.3 MB",date:"2023-12-15",description:"Presentation slides on dark matter detection methods and research.",downloads:780,category:"Presentations"},{id:7,name:"Nuclear_Physics_Calculator.exe",type:"exe",size:"8.7 MB",date:"2023-12-10",description:"Windows application for nuclear physics calculations.",downloads:920,category:"Software"},{id:8,name:"Quantum_Field_Theory_Notes.pdf",type:"pdf",size:"22.4 MB",date:"2023-12-05",description:"Detailed lecture notes on quantum field theory.",downloads:1500,category:"Educational"},{id:9,name:"Lab_Report_Template.docx",type:"doc",size:"1.5 MB",date:"2023-11-28",description:"Standardized template for physics laboratory reports.",downloads:1800,category:"Templates"},{id:10,name:"Gravitational_Wave_Dataset.csv",type:"csv",size:"156.2 MB",date:"2023-11-20",description:"Sample dataset from LIGO gravitational wave detection.",downloads:320,category:"Data"}],cx=["All","Software","Educational","Templates","Media","Presentations","Data"],Kj=a=>{switch(a){case"pdf":return Bi;case"zip":return MD;case"doc":return Bi;case"ppt":return Bi;case"exe":return nx;case"csv":return nx;default:return Zw}},Qj=a=>{switch(a){case"pdf":return"text-red-400";case"zip":return"text-yellow-400";case"doc":return"text-blue-400";case"ppt":return"text-orange-400";case"exe":return"text-green-400";case"csv":return"text-cyan-400";default:return"text-gray-400"}};function Zj(){const[a,t]=M.useState(""),[e,i]=M.useState("All"),[r,o]=M.useState(null),[l,u]=M.useState([]),d=Fc.filter(p=>{const b=p.name.toLowerCase().includes(a.toLowerCase())||p.description.toLowerCase().includes(a.toLowerCase()),x=e==="All"||p.category===e;return b&&x}),f=async p=>{o(p.id),await new Promise(A=>setTimeout(A,1500)),o(null),u(A=>[...A,p.id]);const b=new Blob(["This is a sample file content for "+p.name],{type:"text/plain"}),x=window.URL.createObjectURL(b),w=document.createElement("a");w.href=x,w.download=p.name,document.body.appendChild(w),w.click(),document.body.removeChild(w),window.URL.revokeObjectURL(x)},m=Fc.reduce((p,b)=>{const x=parseFloat(b.size),w=b.size.includes("GB")?1024:1;return p+x*w},0);return y.jsxs("div",{className:"min-h-screen",children:[y.jsx(In,{}),y.jsx("section",{className:"relative pt-32 pb-20",children:y.jsxs("div",{className:"section-container",children:[y.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[y.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:y.jsx("span",{className:"gradient-text",children:"Downloads"})}),y.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Access resources, software, templates, and educational materials for your learning journey."})]}),y.jsxs(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-10",children:[y.jsxs("div",{className:"glass-card p-4 text-center",children:[y.jsx("div",{className:"text-2xl font-bold gradient-text",children:Fc.length}),y.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Files"})]}),y.jsxs("div",{className:"glass-card p-4 text-center",children:[y.jsxs("div",{className:"text-2xl font-bold gradient-text",children:[m.toFixed(1)," MB"]}),y.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Size"})]}),y.jsxs("div",{className:"glass-card p-4 text-center",children:[y.jsx("div",{className:"text-2xl font-bold gradient-text",children:Fc.reduce((p,b)=>p+b.downloads,0).toLocaleString()}),y.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Downloads"})]}),y.jsxs("div",{className:"glass-card p-4 text-center",children:[y.jsx("div",{className:"text-2xl font-bold gradient-text",children:cx.length-1}),y.jsx("div",{className:"text-sm text-muted-foreground",children:"Categories"})]})]}),y.jsxs(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"flex flex-col md:flex-row gap-4 mb-8",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(As,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),y.jsx("input",{type:"text",placeholder:"Search files...",value:a,onChange:p=>t(p.target.value),className:"w-full pl-12 pr-4 py-4 glass-input"})]}),y.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 md:pb-0",children:[y.jsx(FD,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"}),cx.map(p=>y.jsx("button",{onClick:()=>i(p),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all duration-300 ${e===p?"glass-button":"glass-card hover:bg-white/5"}`,children:p},p))]})]}),y.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"glass-card overflow-hidden",children:[y.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-4 p-4 border-b border-border/50 bg-white/5 font-medium text-sm",children:[y.jsx("div",{className:"col-span-5",children:"File Name"}),y.jsx("div",{className:"col-span-2",children:"Category"}),y.jsx("div",{className:"col-span-2",children:"Size"}),y.jsx("div",{className:"col-span-2",children:"Date"}),y.jsx("div",{className:"col-span-1",children:"Action"})]}),y.jsx("div",{className:"divide-y divide-border/50",children:d.map((p,b)=>{const x=Kj(p.type),w=r===p.id,A=l.includes(p.id);return y.jsxs(tt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:b*.05},className:"grid grid-cols-1 md:grid-cols-12 gap-4 p-4 items-center hover:bg-white/5 transition-colors",children:[y.jsxs("div",{className:"col-span-1 md:col-span-5 flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-lg glass-button flex items-center justify-center flex-shrink-0",children:y.jsx(x,{className:`w-5 h-5 ${Qj(p.type)}`})}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("p",{className:"font-medium truncate",children:p.name}),y.jsx("p",{className:"text-sm text-muted-foreground truncate md:hidden",children:p.description}),y.jsx("p",{className:"text-xs text-muted-foreground hidden md:block",children:p.description})]})]}),y.jsx("div",{className:"col-span-1 md:col-span-2",children:y.jsx("span",{className:"tag-glass text-xs",children:p.category})}),y.jsxs("div",{className:"col-span-1 md:col-span-2 flex items-center gap-2 text-sm text-muted-foreground",children:[y.jsx(sx,{className:"w-4 h-4 md:hidden"}),y.jsx("span",{children:p.size})]}),y.jsxs("div",{className:"col-span-1 md:col-span-2 flex items-center gap-2 text-sm text-muted-foreground",children:[y.jsx(hi,{className:"w-4 h-4 md:hidden"}),y.jsx("span",{children:p.date})]}),y.jsx("div",{className:"col-span-1",children:y.jsx("button",{onClick:()=>f(p),disabled:w||A,className:`w-full md:w-auto px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 flex items-center justify-center gap-2 ${A?"bg-green-500/20 text-green-400 cursor-default":w?"glass-card cursor-wait":"glass-button hover:scale-105"}`,children:A?y.jsxs(y.Fragment,{children:[y.jsx(gD,{className:"w-4 h-4"}),y.jsx("span",{className:"hidden sm:inline",children:"Done"})]}):w?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),y.jsx("span",{className:"hidden sm:inline",children:"..."})]}):y.jsxs(y.Fragment,{children:[y.jsx(ep,{className:"w-4 h-4"}),y.jsx("span",{className:"hidden sm:inline",children:"Download"})]})})})]},p.id)})})]}),d.length===0&&y.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[y.jsx("div",{className:"w-20 h-20 rounded-full glass-card flex items-center justify-center mx-auto mb-6",children:y.jsx(Zw,{className:"w-10 h-10 text-muted-foreground"})}),y.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No files found"}),y.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search or filter."})]}),y.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-8 glass-card p-6",children:[y.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[y.jsx(sx,{className:"w-5 h-5 text-primary"}),"Download Information"]}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"All files are downloaded to your default downloads folder. Please ensure you have sufficient disk space before downloading large files. For software downloads, make sure to check system requirements before installation."})]})]})}),y.jsx(Un,{})]})}const Jj="/assets/game-H_RFMszN.pdf",Xe=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),am=[.001,0,0,.001,0,0],Ef=1.35,bn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ci={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Ho="pdfjs_internal_editor_",At={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Dt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},rA={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Oe={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Po={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},me={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Wa={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},al={ERRORS:0,WARNINGS:1,INFOS:5},dr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},zc={moveTo:0,lineTo:1,curveTo:2,closePath:3},oA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Tu=al.WARNINGS;function tk(a){Number.isInteger(a)&&(Tu=a)}function ek(){return Tu}function Cu(a){Tu>=al.INFOS&&console.info(`Info: ${a}`)}function St(a){Tu>=al.WARNINGS&&console.warn(`Warning: ${a}`)}function Kt(a){throw new Error(a)}function kt(a,t){a||Kt(t)}function nk(a){switch(a?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function np(a,t=null,e=null){if(!a)return null;if(e&&typeof a=="string"&&(e.addDefaultProtocol&&a.startsWith("www.")&&a.match(/\./g)?.length>=2&&(a=`http://${a}`),e.tryConvertEncoding))try{a=ok(a)}catch{}const i=t?URL.parse(a,t):URL.parse(a);return nk(i)?i:null}function ip(a,t,e=!1){const i=URL.parse(a);return i?(i.hash=t,i.href):e&&np(a,"http://example.com")?a.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Ct(a,t,e,i=!1){return Object.defineProperty(a,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const oa=(function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t})();class ux extends oa{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Tf extends oa{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class fu extends oa{constructor(t){super(t,"InvalidPDFException")}}class qo extends oa{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class ik extends oa{constructor(t){super(t,"FormatError")}}class Ui extends oa{constructor(t){super(t,"AbortException")}}function lA(a){(typeof a!="object"||a?.length===void 0)&&Kt("Invalid argument for bytesToString");const t=a.length,e=8192;if(t<e)return String.fromCharCode.apply(null,a);const i=[];for(let r=0;r<t;r+=e){const o=Math.min(r+e,t),l=a.subarray(r,o);i.push(String.fromCharCode.apply(null,l))}return i.join("")}function rl(a){typeof a!="string"&&Kt("Invalid argument for stringToBytes");const t=a.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=a.charCodeAt(i)&255;return e}function sk(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function ak(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function rk(){try{return new Function(""),!0}catch{return!1}}class Re{static get isLittleEndian(){return Ct(this,"isLittleEndian",ak())}static get isEvalSupported(){return Ct(this,"isEvalSupported",rk())}static get isOffscreenCanvasSupported(){return Ct(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ct(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Ct(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Ct(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Cf=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));class it{static makeHexColor(t,e,i){return`#${Cf[t]}${Cf[e]}${Cf[i]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,i=0){const r=t[i],o=t[i+1];t[i]=r*e[0]+o*e[2]+e[4],t[i+1]=r*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const r=e[0],o=e[1],l=e[2],u=e[3],d=e[4],f=e[5];for(let m=0;m<6;m+=2){const p=t[i+m],b=t[i+m+1];t[i+m]=p*r+b*l+d,t[i+m+1]=p*o+b*u+f}}static applyInverseTransform(t,e){const i=t[0],r=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-i*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,i){const r=e[0],o=e[1],l=e[2],u=e[3],d=e[4],f=e[5],m=t[0],p=t[1],b=t[2],x=t[3];let w=r*m+d,A=w,T=r*b+d,E=T,_=u*p+f,N=_,R=u*x+f,D=R;if(o!==0||l!==0){const L=o*m,P=o*b,F=l*p,H=l*x;w+=F,E+=F,T+=H,A+=H,_+=L,D+=L,R+=P,N+=P}i[0]=Math.min(i[0],w,T,A,E),i[1]=Math.min(i[1],_,R,N,D),i[2]=Math.max(i[2],w,T,A,E),i[3]=Math.max(i[3],_,R,N,D)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],r=t[1],o=t[2],l=t[3],u=i**2+r**2,d=i*o+r*l,f=o**2+l**2,m=(u+f)/2,p=Math.sqrt(m**2-(u*f-d**2));e[0]=Math.sqrt(m+p||1),e[1]=Math.sqrt(m-p||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>r)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>l?null:[i,o,r,l]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,r,o){o[0]=Math.min(o[0],t,i),o[1]=Math.min(o[1],e,r),o[2]=Math.max(o[2],t,i),o[3]=Math.max(o[3],e,r)}static#t(t,e,i,r,o,l,u,d,f,m){if(f<=0||f>=1)return;const p=1-f,b=f*f,x=b*f,w=p*(p*(p*t+3*f*e)+3*b*i)+x*r,A=p*(p*(p*o+3*f*l)+3*b*u)+x*d;m[0]=Math.min(m[0],w),m[1]=Math.min(m[1],A),m[2]=Math.max(m[2],w),m[3]=Math.max(m[3],A)}static#e(t,e,i,r,o,l,u,d,f,m,p,b){if(Math.abs(f)<1e-12){Math.abs(m)>=1e-12&&this.#t(t,e,i,r,o,l,u,d,-p/m,b);return}const x=m**2-4*p*f;if(x<0)return;const w=Math.sqrt(x),A=2*f;this.#t(t,e,i,r,o,l,u,d,(-m+w)/A,b),this.#t(t,e,i,r,o,l,u,d,(-m-w)/A,b)}static bezierBoundingBox(t,e,i,r,o,l,u,d,f){f[0]=Math.min(f[0],t,u),f[1]=Math.min(f[1],e,d),f[2]=Math.max(f[2],t,u),f[3]=Math.max(f[3],e,d),this.#e(t,i,o,u,e,r,l,d,3*(-t+3*(i-o)+u),6*(t-2*i+o),3*(i-t),f),this.#e(t,i,o,u,e,r,l,d,3*(-e+3*(r-l)+d),6*(e-2*r+l),3*(r-e),f)}}function ok(a){return decodeURIComponent(escape(a))}let _f=null,hx=null;function cA(a){return _f||(_f=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,hx=new Map([["","t"]])),a.replaceAll(_f,(t,e,i)=>e?e.normalize("NFKC"):hx.get(i))}function sp(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const a=new Uint8Array(32);return crypto.getRandomValues(a),lA(a)}const ap="pdfjs_internal_id_";function lk(a,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,r,...o]=e;if(!a(i)&&!Number.isInteger(i)||!t(r))return!1;const l=o.length;let u=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;u=!1;break;default:return!1}for(const d of o)if(!(typeof d=="number"||u&&d===null))return!1;return!0}function Ie(a,t,e){return Math.min(Math.max(a,t),e)}function uA(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(lA(a))}function ck(a){return Uint8Array.fromBase64?Uint8Array.fromBase64(a):rl(atob(a))}typeof Promise.try!="function"&&(Promise.try=function(a,...t){return new Promise(e=>{e(a(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(a){return a.reduce((t,e)=>t+e,0)});class Go{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function r(o){if(!o)return;let l=null;const u=o.name;if(u==="#text")l=o.value;else if(Go.shouldBuildText(u))o?.attributes?.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&e.push({str:l}),!!o.children)for(const d of o.children)r(d)}return r(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class rp{static setupStorage(t,e,i,r,o){const l=r.getValue(e,{value:null});switch(i.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),o==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(l.value===i.attributes.xfaOn?t.setAttribute("checked",!0):l.value===i.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",u=>{r.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),o==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const u of i.children)u.attributes.value===l.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const d=u.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:r,linkService:o}){const{attributes:l}=e,u=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[d,f]of Object.entries(l))if(f!=null)switch(d){case"class":f.length&&t.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!u||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,f)}u&&o.addLinkAttributes(t,l.href,l.newWindow),i&&l.dataId&&this.setupStorage(t,l.dataId,e,i)}static render(t){const e=t.annotationStorage,i=t.linkService,r=t.xfaHtml,o=t.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:o,linkService:i});const u=o!=="richText",d=t.div;if(d.append(l),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=p}u&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);l.append(p),u&&Go.shouldBuildText(r.name)&&f.push(p)}return{textDivs:f}}const m=[[r,-1,l]];for(;m.length>0;){const[p,b,x]=m.at(-1);if(b+1===p.children.length){m.pop();continue}const w=p.children[++m.at(-1)[1]];if(w===null)continue;const{name:A}=w;if(A==="#text"){const E=document.createTextNode(w.value);f.push(E),x.append(E);continue}const T=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,A):document.createElement(A);if(x.append(T),w.attributes&&this.setAttributes({html:T,element:w,storage:e,intent:o,linkService:i}),w.children?.length>0)m.push([w,-1,T]);else if(w.value){const E=document.createTextNode(w.value);u&&Go.shouldBuildText(A)&&f.push(E),T.append(E)}}for(const p of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const ki="http://www.w3.org/2000/svg";class ia{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function br(a,t="text"){if(_o(a,document.baseURI)){const e=await fetch(a);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const r=new XMLHttpRequest;r.open("GET",a,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class ol{constructor({viewBox:t,userUnit:e,scale:i,rotation:r,offsetX:o=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=r,this.offsetX=o,this.offsetY=l,i*=e;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let m,p,b,x;switch(r%=360,r<0&&(r+=360),r){case 180:m=-1,p=0,b=0,x=1;break;case 90:m=0,p=1,b=1,x=0;break;case 270:m=0,p=-1,b=-1,x=0;break;case 0:m=1,p=0,b=0,x=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(b=-b,x=-x);let w,A,T,E;m===0?(w=Math.abs(f-t[1])*i+o,A=Math.abs(d-t[0])*i+l,T=(t[3]-t[1])*i,E=(t[2]-t[0])*i):(w=Math.abs(d-t[0])*i+o,A=Math.abs(f-t[1])*i+l,T=(t[2]-t[0])*i,E=(t[3]-t[1])*i),this.transform=[m*i,p*i,b*i,x*i,w-m*i*d-b*i*f,A-p*i*d-x*i*f],this.width=T,this.height=E}get rawDims(){const t=this.viewBox;return Ct(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new ol({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:o})}convertToViewportPoint(t,e){const i=[t,e];return it.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];it.applyTransform(e,this.transform);const i=[t[2],t[3]];return it.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return it.applyInverseTransform(i,this.transform),i}}class _u extends oa{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function ll(a){const t=a.length;let e=0;for(;e<t&&a[e].trim()==="";)e++;return a.substring(e,e+5).toLowerCase()==="data:"}function Nu(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function hA(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function dA(a,t="document.pdf"){if(typeof a!="string")return t;if(ll(a))return St('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(a);if(!i)return t;const r=u=>{try{let d=decodeURIComponent(u);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:u):d}catch{return u}},o=/\.pdf$/i,l=i.pathname.split("/").at(-1);if(o.test(l))return r(l);if(i.searchParams.size>0){const u=Array.from(i.searchParams.values()).reverse();for(const f of u)if(o.test(f))return r(f);const d=Array.from(i.searchParams.keys()).reverse();for(const f of d)if(o.test(f))return r(f)}if(i.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(d)return r(d[0])}return t}class dx{started=Object.create(null);times=[];time(t){t in this.started&&St(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||St(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:r,end:o}of this.times)t.push(`${i.padEnd(e)} ${o-r}ms
`);return t.join("")}}function _o(a,t){const e=t?URL.parse(a,t):URL.parse(a);return e?.protocol==="http:"||e?.protocol==="https:"}function An(a){a.preventDefault()}function ae(a){a.preventDefault(),a.stopPropagation()}function uk(a){console.log("Deprecated API usage: "+a)}class mu{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const i=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const f=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let p=parseInt(e[9],10)||0;return p=p>=0&&p<=59?p:0,f==="-"?(l+=m,u+=p):f==="+"&&(l-=m,u-=p),new Date(Date.UTC(i,r,o,l,u,d))}}function fA(a,{scale:t=1,rotation:e=0}){const{width:i,height:r}=a.attributes.style,o=[0,0,parseInt(i),parseInt(r)];return new ol({viewBox:o,userUnit:1,scale:t,rotation:e})}function xr(a){if(a.startsWith("#")){const t=parseInt(a.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(t=>parseInt(t)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(St(`Not a valid color format: "${a}"`),[0,0,0])}function hk(a){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of a.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;a.set(e,xr(i))}t.remove()}function se(a){const{a:t,b:e,c:i,d:r,e:o,f:l}=a.getTransform();return[t,e,i,r,o,l]}function si(a){const{a:t,b:e,c:i,d:r,e:o,f:l}=a.getTransform().invertSelf();return[t,e,i,r,o,l]}function Es(a,t,e=!1,i=!0){if(t instanceof ol){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:l}=a,u=Re.isCSSRoundSupported,d=`var(--total-scale-factor) * ${r}px`,f=`var(--total-scale-factor) * ${o}px`,m=u?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,p=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(l.width=m,l.height=p):(l.width=p,l.height=m)}i&&a.setAttribute("data-main-rotation",t.rotation)}class Qn{constructor(){const{pixelRatio:t}=Qn;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,r,o=-1){let l=1/0,u=1/0,d=1/0;i=Qn.capPixels(i,o),i>0&&(l=Math.sqrt(i/(t*e))),r!==-1&&(u=r/t,d=r/e);const f=Math.min(l,u,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const pu=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class dk{static get isDarkMode(){return Ct(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class mA{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:i}=window.getComputedStyle(t);return t.remove(),Ct(this,"commentForegroundColor",xr(i))}}function pA(a,t,e,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return a=Math.round(a*i+r),t=Math.round(t*i+r),e=Math.round(e*i+r),[a,t,e]}function fx(a,t){const e=a[0]/255,i=a[1]/255,r=a[2]/255,o=Math.max(e,i,r),l=Math.min(e,i,r),u=(o+l)/2;if(o===l)t[0]=t[1]=0;else{const d=o-l;switch(t[1]=u<.5?d/(o+l):d/(2-o-l),o){case e:t[0]=((i-r)/d+(i<r?6:0))*60;break;case i:t[0]=((r-e)/d+2)*60;break;case r:t[0]=((e-i)/d+4)*60;break}}t[2]=u}function rm(a,t){const e=a[0],i=a[1],r=a[2],o=(1-Math.abs(2*r-1))*i,l=o*(1-Math.abs(e/60%2-1)),u=r-o/2;switch(Math.floor(e/60)){case 0:t[0]=o+u,t[1]=l+u,t[2]=u;break;case 1:t[0]=l+u,t[1]=o+u,t[2]=u;break;case 2:t[0]=u,t[1]=o+u,t[2]=l+u;break;case 3:t[0]=u,t[1]=l+u,t[2]=o+u;break;case 4:t[0]=l+u,t[1]=u,t[2]=o+u;break;case 5:case 6:t[0]=o+u,t[1]=u,t[2]=l+u;break}}function mx(a){return a<=.03928?a/12.92:((a+.055)/1.055)**2.4}function px(a,t,e){rm(a,e),e.map(mx);const i=.2126*e[0]+.7152*e[1]+.0722*e[2];rm(t,e),e.map(mx);const r=.2126*e[0]+.7152*e[1]+.0722*e[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const gx=new Map;function gA(a,t){const e=a[0]+a[1]*256+a[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let i=gx.get(e);if(i)return i;const r=new Float32Array(9),o=r.subarray(0,3),l=r.subarray(3,6);fx(a,l);const u=r.subarray(6,9);fx(t,u);const d=u[2]<.5,f=d?12:4.5;if(l[2]=d?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),px(l,u,o)<f){let m,p;d?(m=l[2],p=1):(m=0,p=l[2]);const b=.005;for(;p-m>b;){const x=l[2]=(m+p)/2;d===px(l,u,o)<f?m=x:p=x}l[2]=d?p:m}return rm(l,o),i=it.makeHexColor(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)),gx.set(e,i),i}function op({html:a,dir:t,className:e},i){const r=document.createDocumentFragment();if(typeof a=="string"){const o=document.createElement("p");o.dir=t||"auto";const l=a.split(/(?:\r\n?|\n)/);for(let u=0,d=l.length;u<d;++u){const f=l[u];o.append(document.createTextNode(f)),u<d-1&&o.append(document.createElement("br"))}r.append(o)}else rp.render({xfaHtml:a,div:r,intent:"richText"});r.firstChild.classList.add("richText",e),i.append(r)}class Oo{#t=null;#e=null;#i;#n=null;#r=null;#s=null;#a=null;#o=null;static#c=null;constructor(t){this.#i=t,Oo.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",An,{signal:e}),t.addEventListener("pointerdown",Oo.#l,{signal:e}));const i=this.#n=document.createElement("div");i.className="buttons",t.append(i);const r=this.#i.toolbarPosition;if(r){const{style:o}=t,l=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#d(t){this.#i._focusEventsAllowed=!1,ae(t)}#h(t){this.#i._focusEventsAllowed=!0,ae(t)}#f(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",An,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#r?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",Oo.#c[t]),this.#f(i)&&i.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#n.append(i)}get#g(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#f(e),this.#n.append(e,this.#g),this.#r=t}addComment(t,e=null){if(this.#s)return;const i=t.renderForToolbar();if(!i)return;this.#f(i);const r=this.#a=this.#g;e?(this.#n.insertBefore(i,e),this.#n.insertBefore(r,e)):this.#n.append(i,r),this.#s=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#f(e),this.#n.append(e,this.#g)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#f(e),this.#n.append(e,this.#g)}removeButton(t){t==="comment"&&(this.#s?.removeToolbarCommentButton(),this.#s=null,this.#a?.remove(),this.#a=null)}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,i){const r=this.#n.querySelector(i);r&&t==="comment"&&this.addComment(e,r)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class fk{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",An,{signal:e});const i=this.#t=document.createElement("div");return i.className="buttons",t.append(i),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#r(t,e){let i=0,r=0;for(const o of t){const l=o.y+o.height;if(l<i)continue;const u=o.x+(e?o.width:0);if(l>i){r=u,i=l;continue}e?u>r&&(r=u):u<r&&(r=u)}return[e?1-r:r,i]}show(t,e,i){const[r,o]=this.#r(e,i),{style:l}=this.#e||=this.#n();t.append(this.#e),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(t,e,i,r){const o=document.createElement("button");o.classList.add("basic",t),o.tabIndex=0,o.setAttribute("data-l10n-id",e);const l=document.createElement("span");o.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",i);const u=this.#i._signal;u instanceof AbortSignal&&!u.aborted&&(o.addEventListener("contextmenu",An,{signal:u}),o.addEventListener("click",r,{signal:u})),this.#t.append(o)}}function yA(a,t,e){for(const i of e)t.addEventListener(i,a[i].bind(a))}class mk{#t=0;get id(){return`${Ho}${this.#t++}`}}class lp{#t=sp();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const o=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Ct(this,"_isSVGFittingCanvas",o)}async#n(t,e){this.#i||=new Map;let i=this.#i.get(t);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(i.url=e,r=await br(e,"blob")):e instanceof File?r=i.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const o=lp._isSVGFittingCanvas,l=new FileReader,u=new Image,d=new Promise((f,m)=>{u.onload=()=>{i.bitmap=u,i.isSvg=!0,f()},l.onload=async()=>{const p=i.svgUrl=l.result;u.src=await o?`${p}#svgView(preserveAspectRatio(none))`:p},u.onerror=l.onerror=m});l.readAsDataURL(r),await d}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){St(r),i=null}return this.#i.set(t,i),i&&this.#i.set(i.id,i),i}async getFromFile(t){const{lastModified:e,name:i,size:r,type:o}=t;return this.#n(`${e}_${i}_${r}_${o}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const i=await e;return this.#n(t,i)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let i=this.#i.get(t);if(i?.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,i),this.#i.set(i.id,i),i}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=r.convertToBlob()}i.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class pk{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:i,mustExec:r,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:u=!1}){if(r&&t(),this.#e)return;const d={cmd:t,undo:e,post:i,type:o};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(d);return}if(l&&this.#t[this.#n].type===o){u&&(d.undo=this.#t[this.#n].undo),this.#t[this.#n]=d;return}const f=this.#n+1;f===this.#i?this.#t.splice(0,1):(this.#n=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(d)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class cl{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Re.platform;for(const[i,r,o={}]of t)for(const l of i){const u=l.startsWith("mac+");e&&u?(this.callbacks.set(l.slice(4),{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1))):!e&&!u&&(this.callbacks.set(l,{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(this.#t(e));if(!i)return;const{callback:r,options:{bubbles:o=!1,args:l=[],checker:u=null}}=i;u&&!u(t,e)||(r.bind(t,...l,e)(),o||ae(e))}}class cp{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return hk(t),Ct(this,"_colors",t)}convert(t){const e=xr(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,r]of this._colors)if(r.every((o,l)=>o===e[l]))return cp._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?it.makeHexColor(...e):t}}class Vi{#t=new AbortController;#e=null;#i=null;#n=new Map;#r=new Map;#s=null;#a=null;#o=null;#c=new pk;#l=null;#d=null;#h=null;#f=0;#g=new Set;#m=null;#u=null;#p=new Set;_editorUndoBar=null;#y=!1;#b=!1;#v=!1;#T=null;#S=null;#x=null;#_=null;#A=!1;#E=null;#R=new mk;#N=!1;#M=!1;#B=!1;#j=null;#L=null;#F=null;#P=null;#q=null;#C=At.NONE;#w=new Set;#k=null;#z=null;#U=null;#X=null;#$=null;#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#V=[0,0];#O=null;#G=null;#Z=null;#J=null;#I=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Vi.prototype,e=l=>l.#G.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),i=(l,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new cl([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#G.contains(u)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#G.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,i,r,o,l,u,d,f,m,p,b,x,w,A,T){const E=this._signal=this.#t.signal;this.#G=t,this.#Z=e,this.#J=i,this.#s=r,this.#l=o,this.#z=l,this.#$=d,this._eventBus=u,u._on("editingaction",this.onEditingAction.bind(this),{signal:E}),u._on("pagechanging",this.onPageChanging.bind(this),{signal:E}),u._on("scalechanging",this.onScaleChanging.bind(this),{signal:E}),u._on("rotationchanging",this.onRotationChanging.bind(this),{signal:E}),u._on("setpreference",this.onSetPreference.bind(this),{signal:E}),u._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:E}),window.addEventListener("pointerdown",()=>{this.#M=!0},{capture:!0,signal:E}),window.addEventListener("pointerup",()=>{this.#M=!1},{capture:!0,signal:E}),this.#lt(),this.#dt(),this.#et(),this.#a=d.annotationStorage,this.#T=d.filterFactory,this.#U=f,this.#_=m||null,this.#y=p,this.#b=b,this.#v=x,this.#q=w||null,this.viewParameters={realScale:ia.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=A||null,this._supportsPinchToZoom=T!==!1,o?.setSidebarUiManager(this)}destroy(){this.#I?.resolve(),this.#I=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#r.values())t.destroy();this.#r.clear(),this.#n.clear(),this.#p.clear(),this.#P?.clear(),this.#e=null,this.#w.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#z?.destroy(),this.#E?.hide(),this.#E=null,this.#F?.destroy(),this.#F=null,this.#i=null,this.#S&&(clearTimeout(this.#S),this.#S=null),this.#O&&(clearTimeout(this.#O),this.#O=null),this._editorUndoBar?.destroy(),this.#$=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#q}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return Ct(this,"hcmFilter",this.#U?this.#T.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Ct(this,"direction",getComputedStyle(this.#G).direction)}get _highlightColors(){return Ct(this,"_highlightColors",this.#_?new Map(this.#_.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Ct(this,"highlightColors",null);const e=new Map,i=!!this.#U;for(const[r,o]of t){const l=r.endsWith("_HCM");if(i&&l){e.set(r.replace("_HCM",""),o);continue}!i&&!l&&e.set(r,o)}return Ct(this,"highlightColors",e)}get highlightColorNames(){return Ct(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=t}setMainHighlightColorPicker(t){this.#F=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,i,r){this.#l?.showDialog(this,t,e,i,r)}selectComment(t,e){this.#r.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,i=void 0){this.#l?.toggleCommentPopup(t,e,i)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#r.has(t-1))return;const{resolve:e,promise:i}=Promise.withResolvers(),r=o=>{o.pageNumber===t&&(this._eventBus._off("editorsrendered",r),e())};this._eventBus.on("editorsrendered",r),await i}getSignature(t){this.#z?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#z}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){t==="enableNewAltTextWhenAddingImage"&&(this.#v=e)}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#G.focus()}findParent(t,e){for(const i of this.#r.values()){const{x:r,y:o,width:l,height:u}=i.div.getBoundingClientRect();if(t>=r&&t<=r+l&&e>=o&&e<=o+u)return i}return null}disableUserSelect(t=!1){this.#Z.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*ia.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Q({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of this.#r.values())if(i.hasTextLayer(t))return i;return null}highlightSelection(t="",e=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:u}=i,d=i.toString(),m=this.#Q(i).closest(".textLayer"),p=this.getSelectionBoxes(m);if(!p)return;i.empty();const b=this.#tt(m),x=this.#C===At.NONE,w=()=>{const A=b?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:u,text:d});x&&this.showAllEditors("highlight",!0,!0),e&&A?.editComment()};if(x){this.switchToMode(At.HIGHLIGHT,w);return}w()}commentSelection(t=""){this.highlightSelection(t,!0)}#rt(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=this.#Q(t).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(this.#E||=new fk(this),this.#E.show(i,r,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#a)return null;const e=`${Ho}${t}`,i=this.#a.getRawValue(e);return i&&this.#a.remove(e),i}addToAnnotationStorage(t){!t.isEmpty()&&this.#a&&!this.#a.has(t.id)&&this.#a.setValue(t.id,t)}a11yAlert(t,e=null){const i=this.#J;i&&(i.setAttribute("data-l10n-id",t),e?i.setAttribute("data-l10n-args",JSON.stringify(e)):i.removeAttribute("data-l10n-args"))}#ot(){const t=document.getSelection();if(!t||t.isCollapsed){this.#k&&(this.#E?.hide(),this.#k=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#k)return;const r=this.#Q(t).closest(".textLayer");if(!r){this.#k&&(this.#E?.hide(),this.#k=null,this.#D({hasSelectedText:!1}));return}if(this.#E?.hide(),this.#k=e,this.#D({hasSelectedText:!0}),!(this.#C!==At.HIGHLIGHT&&this.#C!==At.NONE)&&(this.#C===At.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#A=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#C===At.HIGHLIGHT?this.#tt(r):null;if(o?.toggleDrawing(),this.#M){const l=new AbortController,u=this.combinedSignal(l),d=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),o?.toggleDrawing(!0),f.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}else o?.toggleDrawing(!0),this.#W("main_toolbar")}}#W(t=""){this.#C===At.HIGHLIGHT?this.highlightSelection(t):this.#y&&this.#rt()}#lt(){document.addEventListener("selectionchange",this.#ot.bind(this),{signal:this._signal})}#ct(){if(this.#x)return;this.#x=new AbortController;const t=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ut(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#A&&(this.#A=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#w)if(e.div.contains(t)){this.#L=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#L)return;const[t,e]=this.#L;this.#L=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#j)return;this.#j=new AbortController;const t=this.combinedSignal(this.#j);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ht(){this.#j?.abort(),this.#j=null}#nt(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#it(){this.#d?.abort(),this.#d=null}#dt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.#nt()}removeEditListeners(){this.#ht(),this.#it()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const i of this.#w){const r=i.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const l of this.#u)if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(o){St(`paste: "${o.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const d of i){const f=await r.deserialize(d);if(!f)return;o.push(f)}const l=()=>{for(const d of o)this.#st(d);this.#at(o)},u=()=>{for(const d of o)d.remove()};this.addCommands({cmd:l,undo:u,mustExec:!0})}catch(o){St(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#C!==At.NONE&&!this.isEditorHandlingKeyboard&&Vi._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#A&&(this.#A=!1,this.#W("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#D(t){Object.entries(t).some(([i,r])=>this.#Y[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,t)}),this.#C===At.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#H([[Dt.HIGHLIGHT_FREE,!0]]))}#H(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ct(),this.#nt(),this.#D({isEditing:this.#C!==At.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ut(),this.#it(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const e of this.#u)this.#H(e.defaultPropertiesToUpdate)}}getId(){return this.#R.id}get currentLayer(){return this.#r.get(this.#f)}getLayer(t){return this.#r.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#r.set(t.pageIndex,t),this.#N?t.enable():t.disable()}removeLayer(t){this.#r.delete(t.pageIndex)}async updateMode(t,e=null,i=!1,r=!1,o=!1){if(this.#C!==t&&!(this.#I&&(await this.#I.promise,!this.#I))){if(this.#I=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#C===At.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#C=t,t===At.NONE){this.setEditingState(!1),this.#mt();for(const l of this.#n.values())l.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#I.resolve();return}for(const l of this.#n.values())l.addStandaloneCommentButton();t===At.SIGNATURE&&await this.#z?.loadSignatures(),this.setEditingState(!0),await this.#ft(),this.unselectAll();for(const l of this.#r.values())l.updateMode(t);if(t===At.POPUP){this.#i||=await this.#$.getAnnotationsByType(new Set(this.#u.map(d=>d._editorType)));const l=new Set,u=[];for(const d of this.#n.values()){const{annotationElementId:f,hasComment:m,deleted:p}=d;f&&l.add(f),m&&!p&&u.push(d.getData())}for(const d of this.#i){const{id:f,popupRef:m,contentsObj:p}=d;m&&p?.str&&!l.has(f)&&!this.#g.has(f)&&u.push(d)}this.#l?.showSidebar(u)}if(!e){i&&this.addNewEditorFromKeyboard(),this.#I.resolve();return}for(const l of this.#n.values())l.uid===e?(this.setSelected(l),o?l.editComment():r?l.enterInEditMode():l.focus()):l.unselect();this.#I.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#C&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#u){switch(t){case Dt.CREATE:this.currentLayer.addNewEditor(e);return;case Dt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#X||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const i of this.#w)i.updateParams(t,e);else for(const i of this.#u)i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){for(const o of this.#n.values())o.editorType===t&&o.show(e);(this.#X?.get(Dt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#H([[Dt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#B!==t){this.#B=t;for(const e of this.#r.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ft(){if(!this.#N){this.#N=!0;const t=[];for(const e of this.#r.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#mt(){if(this.unselectAll(),this.#N){this.#N=!1;for(const t of this.#r.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#S&&clearTimeout(this.#S),this.#S=setTimeout(()=>{this.focusMainContainer(),this.#S=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#P?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#g.has(t.annotationElementId))&&this.#a?.remove(t.id)}addDeletedAnnotationElement(t){this.#g.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#g.has(t)}removeDeletedAnnotationElement(t){this.#g.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#st(t){const e=this.#r.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#H(t.propertiesToUpdate))}get#pt(){let t=null;for(t of this.#w);return t}updateUI(t){this.#pt===t&&this.#H(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#H(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#w.has(t)){this.#w.delete(t),t.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#w.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#h?.commitOrRemove();for(const e of this.#w)e!==t&&e.unselect();this.#w.clear(),this.#w.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(t){return this.#w.has(t)}get firstSelectedEditor(){return this.#w.values().next().value}unselect(t){t.unselect(),this.#w.delete(t),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#w.size!==0}get isEnterHandled(){return this.#w.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#D({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(t){this.#c.add(t),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(t){this.#c.cleanType(t)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#w],i=()=>{this._editorUndoBar?.show(r,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},r=()=>{for(const o of e)this.#st(o)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#at(t){for(const e of this.#w)e.unselect();this.#w.clear();for(const e of t)e.isEmpty()||(this.#w.add(e),e.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#w)t.commit();this.#at(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#C!==At.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const t of this.#w)t.unselect();this.#w.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#V[0]+=t,this.#V[1]+=e;const[r,o]=this.#V,l=[...this.#w],u=1e3;this.#O&&clearTimeout(this.#O),this.#O=setTimeout(()=>{this.#O=null,this.#V[0]=this.#V[1]=0,this.addCommands({cmd:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(r,o),d.translationDone())},undo:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(-r,-o),d.translationDone())},mustExec:!1})},u);for(const d of l)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#m=new Map;for(const t of this.#w)this.#m.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#m)return!1;this.disableUserSelect(!1);const t=this.#m;this.#m=null;let e=!1;for(const[{x:r,y:o,pageIndex:l},u]of t)u.newX=r,u.newY=o,u.newPageIndex=l,e||=r!==u.savedX||o!==u.savedY||l!==u.savedPageIndex;if(!e)return!1;const i=(r,o,l,u)=>{if(this.#n.has(r.id)){const d=this.#r.get(u);d?r._setParentAndPosition(d,o,l):(r.pageIndex=u,r.x=o,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:l,newPageIndex:u}]of t)i(r,o,l,u)},undo:()=>{for(const[r,{savedX:o,savedY:l,savedPageIndex:u}]of t)i(r,o,l,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#m)for(const i of this.#m.keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#w.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#C}isEditingMode(){return this.#C!==At.NONE}get imageManager(){return Ct(this,"imageManager",new lp)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,m=e.rangeCount;f<m;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:i,y:r,width:o,height:l}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(f,m,p,b)=>({x:(m-r)/l,y:1-(f+p-i)/o,width:b/l,height:p/o});break;case"180":u=(f,m,p,b)=>({x:1-(f+p-i)/o,y:1-(m+b-r)/l,width:p/o,height:b/l});break;case"270":u=(f,m,p,b)=>({x:1-(m+b-r)/l,y:(f-i)/o,width:b/l,height:p/o});break;default:u=(f,m,p,b)=>({x:(f-i)/o,y:(m-r)/l,width:p/o,height:b/l});break}const d=[];for(let f=0,m=e.rangeCount;f<m;f++){const p=e.getRangeAt(f);if(!p.collapsed)for(const{x:b,y:x,width:w,height:A}of p.getClientRects())w===0||A===0||d.push(u(b,x,w,A))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const i=this.#a.getRawValue(e);i&&(this.#C===At.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){const r=this.#P?.get(t);r&&(r.setCanvas(e,i),this.#P.delete(t))}addMissingCanvas(t,e){(this.#P||=new Map).set(t,e)}}class oi{#t=null;#e=!1;#i=null;#n=null;#r=null;#s=null;#a=!1;#o=null;#c=null;#l=null;#d=null;#h=!1;static#f=null;static _l10n=null;constructor(t){this.#c=t,this.#h=t._uiManager.useNewAltTextFlow,oi.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){oi._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",oi.#f.missing),e.setAttribute("data-l10n-id",oi.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#c._uiManager._signal;t.addEventListener("contextmenu",An,{signal:i}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:i});const r=o=>{o.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#h&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#a=!0,r(o))},{signal:i}),await this.#m(),t}get#g(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#a}),this.#a=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#d=await oi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#m())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:r,cancel:o=!1}){i&&(this.#l=i,this.#d=r),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#m())}toggle(t=!1){this.#i&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#r=null,this.#o?.remove(),this.#o=null}async#m(){const t=this.#i;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",oi.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",oi.#f[`${this.#g}-label`]),!this.#t){this.#r?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#r?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#r;if(!e){this.#r=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const r=100,o=this.#c._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#r.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#r?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Ic{#t=null;#e=null;#i=!1;#n=null;#r=null;#s=null;#a=null;#o=null;#c=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#d(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:i}=t;i.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const r=this.#n.commentButtonColor;r&&(i.backgroundColor=r)}return this.#d(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:i}=this.#t.getBoundingClientRect(),{x:r,y:o,width:l,height:u}=this.#n.parent.boundingClientRect;return[(t-r)/l,(e+i-o)/u]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#d(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const i=this.#n._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return t;t.addEventListener("contextmenu",An,{signal:i}),e&&(t.addEventListener("focusin",o=>{this.#n._focusEventsAllowed=!1,ae(o)},{capture:!0,signal:i}),t.addEventListener("focusout",o=>{this.#n._focusEventsAllowed=!0,ae(o)},{capture:!0,signal:i})),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:i});const r=o=>{o.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#i=!0,r(o))},{signal:i}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:i}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:i}),t}edit(t){const e=this.commentPopupPositionInLayer;let i,r;if(e)[i,r]=e;else{[i,r]=this.#n.commentButtonPosition;const{width:m,height:p,x:b,y:x}=this.#n;i=b+i*m,r=x+r*p}const o=this.#n.parent.boundingClientRect,{x:l,y:u,width:d,height:f}=o;this.#n._uiManager.editComment(this.#n,l+i*d,u+r*f,{...t,parentDimensions:o})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#a===""}isEmpty(){return this.#a===null}hasBeenEdited(){return this.isDeleted()||this.#a!==this.#r}serialize(){return this.data}get data(){return{text:this.#a,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#a&&(this.#s=null),t===null){this.#a="",this.#c=!0;return}this.#a=t,this.#o=new Date,this.#c=!1}setInitialText(t,e=null){this.#r=t,this.data=t,this.#o=null,this.#s=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#a="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class ul{#t;#e=!1;#i=null;#n;#r;#s;#a;#o=null;#c;#l=null;#d;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:o=null,onPinchEnd:l=null,signal:u}){this.#t=t,this.#i=i,this.#n=e,this.#r=r,this.#s=o,this.#a=l,this.#d=new AbortController,this.#c=AbortSignal.any([u,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Qn.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,o=AbortSignal.any([this.#c,r.signal]),l=this.#t,u={capture:!0,signal:o,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(ae(f),d(f))},u),l.addEventListener("pointerup",d,u),l.addEventListener("pointercancel",d,u);return}if(!this.#h){this.#h=new AbortController;const r=AbortSignal.any([this.#c,this.#h.signal]),o=this.#t,l={signal:r,capture:!1,passive:!1};o.addEventListener("touchmove",this.#g.bind(this),l);const u=this.#m.bind(this);o.addEventListener("touchend",u,l),o.addEventListener("touchcancel",u,l),l.capture=!0,o.addEventListener("pointerdown",ae,l),o.addEventListener("pointermove",ae,l),o.addEventListener("pointercancel",ae,l),o.addEventListener("pointerup",ae,l),this.#r?.()}if(ae(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#g(t){if(!this.#l||t.touches.length!==2)return;ae(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:r,screenY:o}=e,{screenX:l,screenY:u}=i,d=this.#l,{touch0X:f,touch0Y:m,touch1X:p,touch1Y:b}=d,x=p-f,w=b-m,A=l-r,T=u-o,E=Math.hypot(A,T)||1,_=Math.hypot(x,w)||1;if(!this.#e&&Math.abs(_-E)<=ul.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=r,d.touch0Y=o,d.touch1X=l,d.touch1Y=u,!this.#e){this.#e=!0;return}const N=[(r+l)/2,(o+u)/2];this.#s?.(N,_,E)}#m(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#a?.()),this.#l&&(ae(t),this.#l=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class pt{#t=null;#e=null;#i=null;#n=null;#r=null;#s=!1;#a=null;#o="";#c=null;#l=null;#d=null;#h=null;#f=null;#g="";#m=!1;#u=null;#p=!1;#y=!1;#b=!1;#v=null;#T=0;#S=0;#x=null;#_=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#A=!1;#E=pt._zIndex++;static _borderLineWidth=-1;static _colorManager=new cp;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=pt.prototype._resizeWithKeyboard,e=Vi.TRANSLATE_SMALL,i=Vi.TRANSLATE_BIG;return Ct(this,"_resizerKeyboardManager",new cl([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],pt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:r,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[o,l];const[u,d]=this.parentDimensions;this.x=t.x/u,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ct(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new gk({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(pt._l10n??=t,pt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),pt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);pt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Kt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#A}set _isDraggable(t){this.#A=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#E}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#O(),this.#h?.remove(),this.#h=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#m?this.#m=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,r){const[o,l]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(t+i)/o,this.y=(e+r)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,r]=this.parentDimensions;this.setAt(t*i,e*r,this.width*i,this.height*r),this._onTranslated()}#R([t,e],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#R(this.parentDimensions,t,e)}translateInPage(t,e){this.#u||=[this.x,this.y,this.width,this.height],this.#R(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#u||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[r,o]}=this;if(this.x+=t/r,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[d,f]=this.getBaseTranslation();l+=d,u+=f;const{style:m}=i;m.left=`${(100*l).toFixed(2)}%`,m.top=`${(100*u).toFixed(2)}%`,this._onTranslating(l,u),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=pt,r=i/t,o=i/e;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,r]}=this;let{x:o,y:l,width:u,height:d}=this;if(u*=i,d*=r,o*=i,l*=r,this._mustFixPosition)switch(t){case 0:o=Ie(o,0,i-u),l=Ie(l,0,r-d);break;case 90:o=Ie(o,0,i-d),l=Ie(l,u,r);break;case 180:o=Ie(o,u,i),l=Ie(l,d,r);break;case 270:o=Ie(o,d,i),l=Ie(l,0,r-u);break}this.x=o/=i,this.y=l/=r;const[f,m]=this.getBaseTranslation();o+=f,l+=m,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#N(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return pt.#N(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return pt.#N(t,e,360-this.parentRotation)}#M(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(){const{div:{style:t},width:e,height:i}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#B(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const r=document.createElement("div");this.#c.append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",this.#j.bind(this,i),{signal:e}),r.addEventListener("contextmenu",An,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#c)}#j(t,e){e.preventDefault();const{isMac:i}=Re.platform;if(e.button!==0||e.ctrlKey&&i)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#P.bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",ae,{passive:!1,signal:l}),window.addEventListener("contextmenu",An,{signal:l}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=u,this.div.style.cursor=d,this.#F()};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})}#L(t,e,i,r){this.width=i,this.height=r,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#F(){if(!this.#d)return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:r}=this.#d;this.#d=null;const o=this.x,l=this.y,u=this.width,d=this.height;o===t&&l===e&&u===i&&d===r||this.addCommands({cmd:this.#L.bind(this,o,l,u,d),undo:this.#L.bind(this,t,e,i,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#P(t,e){const[i,r]=this.parentDimensions,o=this.x,l=this.y,u=this.width,d=this.height,f=pt.MIN_SIZE/i,m=pt.MIN_SIZE/r,p=this.#M(this.rotation),b=(B,V)=>[p[0]*B+p[2]*V,p[1]*B+p[3]*V],x=this.#M(360-this.rotation),w=(B,V)=>[x[0]*B+x[2]*V,x[1]*B+x[3]*V];let A,T,E=!1,_=!1;switch(t){case"topLeft":E=!0,A=(B,V)=>[0,0],T=(B,V)=>[B,V];break;case"topMiddle":A=(B,V)=>[B/2,0],T=(B,V)=>[B/2,V];break;case"topRight":E=!0,A=(B,V)=>[B,0],T=(B,V)=>[0,V];break;case"middleRight":_=!0,A=(B,V)=>[B,V/2],T=(B,V)=>[0,V/2];break;case"bottomRight":E=!0,A=(B,V)=>[B,V],T=(B,V)=>[0,0];break;case"bottomMiddle":A=(B,V)=>[B/2,V],T=(B,V)=>[B/2,0];break;case"bottomLeft":E=!0,A=(B,V)=>[0,V],T=(B,V)=>[B,0];break;case"middleLeft":_=!0,A=(B,V)=>[0,V/2],T=(B,V)=>[B,V/2];break}const N=A(u,d),R=T(u,d);let D=b(...R);const L=pt._round(o+D[0]),P=pt._round(l+D[1]);let F=1,H=1,Y,J;if(e.fromKeyboard)({deltaX:Y,deltaY:J}=e);else{const{screenX:B,screenY:V}=e,[Q,lt]=this.#l;[Y,J]=this.screenToPageTranslation(B-Q,V-lt),this.#l[0]=B,this.#l[1]=V}if([Y,J]=w(Y/i,J/r),E){const B=Math.hypot(u,d);F=H=Math.max(Math.min(Math.hypot(R[0]-N[0]-Y,R[1]-N[1]-J)/B,1/u,1/d),f/u,m/d)}else _?F=Ie(Math.abs(R[0]-N[0]-Y),f,1)/u:H=Ie(Math.abs(R[1]-N[1]-J),m,1)/d;const at=pt._round(u*F),ft=pt._round(d*H);D=b(...T(at,ft));const rt=L-D[0],vt=P-D[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=at,this.height=ft,this.x=rt,this.y=vt,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new Oo(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,i]of t)await this._editToolbar.addButton(e,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(oi.initialize(pt._l10n),this.#i=new oi(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new Ic(this)}addStandaloneCommentButton(){if(this.#r){this._uiManager.isEditingMode()&&this.#r.classList.remove("hidden");return}this.hasComment&&(this.#r=this.#n.renderForStandalone(),this.div.append(this.#r))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#r=null}hideStandaloneCommentButton(){this.#r?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:i,deleted:r}}=this.#n;return{text:e,richText:t,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new Ic(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:i}){if(!e||(this.#n||=new Ic(this),this.#n.setInitialText(t,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new Ic(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,r]=t.rect,[o]=this.pageDimensions,[l]=this.pageTranslation,u=l+o+1,d=r-100,f=u+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[u,d,f,r]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#s?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#U();const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[r,o]=this.getInitialTranslation();return this.translate(r,o),yA(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#_||=new ul({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#q.bind(this),onPinching:this.#C.bind(this),onPinchEnd:this.#w.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#q(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#C(t,e,i){let o=.7*(i/e)+1-.7;if(o===1)return;const l=this.#M(this.rotation),u=(L,P)=>[l[0]*L+l[2]*P,l[1]*L+l[3]*P],[d,f]=this.parentDimensions,m=this.x,p=this.y,b=this.width,x=this.height,w=pt.MIN_SIZE/d,A=pt.MIN_SIZE/f;o=Math.max(Math.min(o,1/b,1/x),w/b,A/x);const T=pt._round(b*o),E=pt._round(x*o);if(T===b&&E===x)return;this.#u||=[m,p,b,x];const _=u(b/2,x/2),N=pt._round(m+_[0]),R=pt._round(p+_[1]),D=u(T/2,E/2);this.x=N-D[0],this.y=R-D[1],this.width=T,this.height=E,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#w(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#F()}pointerdown(t){const{isMac:e}=Re.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#m=!0,this._isDraggable){this.#z(t);return}this.#k(t)}#k(t){const{isMac:e}=Re.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#z(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,o=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:o},u=f=>{r.abort(),this.#a=null,this.#m=!1,this._uiManager.endDragSession()||this.#k(f),i&&this._onStopDragging()};e&&(this.#T=t.clientX,this.#S=t.clientY,this.#a=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",f=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:m,clientY:p,pointerId:b}=f;if(b!==this.#a){ae(f);return}const[x,w]=this.screenToPageTranslation(m-this.#T,p-this.#S);this.#T=m,this.#S=p,this._uiManager.dragSelectedEditors(x,w)},l),window.addEventListener("touchmove",ae,l),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#_||f.isPrimary)&&u(f),ae(f)},l));const d=f=>{if(!this.#a||this.#a===f.pointerId){u(f);return}ae(f)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const r=this.parentScale,[o,l]=this.pageDimensions,[u,d]=this.pageTranslation,f=t/r,m=e/r,p=this.x*o,b=this.y*l,x=this.width*o,w=this.height*l;switch(i){case 0:return[p+f+u,l-b-m-w+d,p+f+x+u,l-b-m+d];case 90:return[p+m+u,l-b+f+d,p+m+w+u,l-b+f+x+d];case 180:return[p-f-x+u,l-b+m+d,p-f+u,l-b+m+w+d];case 270:return[p-m-w+u,l-b-f-x+d,p-m+u,l-b-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,r,o,l]=t,u=o-i,d=l-r;switch(this.rotation){case 0:return[i,e-l,u,d];case 90:return[i,e-r,d,u];case 180:return[o,e-r,u,d];case 270:return[o,e-l,d,u];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&pt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:i,opacity:r,deleted:o,richText:l},uid:u,pageIndex:d,creationDate:f,modificationDate:m}=this;return{id:u,pageIndex:d,rect:this.getPDFRect(),richText:l,contentsObj:{str:t},creationDate:f,modificationDate:i||m,popupRef:!o,color:e,opacity:r}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return e<l&&r>0&&t<o&&i>0}#U(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#U()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,i){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[o,l]=r.pageDimensions,[u,d,f,m]=r.getRectInCurrentCoords(t.rect,l);return r.x=u/o,r.y=d/l,r.width=f/o,r.height=m/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#O(),this.removeEditToolbar(),this.#x){for(const t of this.#x.values())clearTimeout(t);this.#x=null}this.parent=null,this.#_?.destroy(),this.#_=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#B(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[i,r,o,l]=this.getPDFRect();return[pt._round(i+(o-i)*t),pt._round(r+(l-r)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#e){this.#e=Array.from(e);const l=this.#X.bind(this),u=this.#$.bind(this),d=this._uiManager._signal;for(const f of this.#e){const m=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:d}),f.addEventListener("blur",u,{signal:d}),f.addEventListener("focus",this.#Y.bind(this,m),{signal:d}),f.setAttribute("data-l10n-id",pt._l10nResizer[m])}}const i=this.#e[0];let r=0;for(const l of e){if(l===i)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==r){if(o<r)for(let u=0;u<r-o;u++)this.#c.append(this.#c.firstChild);else if(o>r)for(let u=0;u<o-r;u++)this.#c.firstChild.before(this.#c.lastChild);let l=0;for(const u of e){const f=this.#e[l++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",pt._l10nResizer[f])}}this.#V(0),this.#b=!0,this.#c.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#X(t){pt._resizerKeyboardManager.exec(this,t)}#$(t){this.#b&&t.relatedTarget?.parentNode!==this.#c&&this.#O()}#Y(t){this.#g=this.#b?t:""}#V(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#b&&this.#P(this.#g,{deltaX:t,deltaY:e,fromKeyboard:!0})}#O(){this.#b=!1,this.#V(-1),this.#F()}_stopResizingWithKeyboard(){this.#O(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#x||=new Map;const{action:i}=t;let r=this.#x.get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#x.delete(i),this.#x.size===0&&(this.#x=null)},pt._telemetryTimeout),this.#x.set(i,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(t){if(!this.#h&&!this.deleted){this.#h=t.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class gk extends pt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const yx=3285377520,kn=4294901760,ai=65535;class vA{constructor(t){this.h1=t?t&4294967295:yx,this.h2=t?t&4294967295:yx}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let A=0,T=t.length;A<T;A++){const E=t.charCodeAt(A);E<=255?e[i++]=E:(e[i++]=E>>>8,e[i++]=E&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,o=i-r*4,l=new Uint32Array(e.buffer,0,r);let u=0,d=0,f=this.h1,m=this.h2;const p=3432918353,b=461845907,x=p&ai,w=b&ai;for(let A=0;A<r;A++)A&1?(u=l[A],u=u*p&kn|u*x&ai,u=u<<15|u>>>17,u=u*b&kn|u*w&ai,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[A],d=d*p&kn|d*x&ai,d=d<<15|d>>>17,d=d*b&kn|d*w&ai,m^=d,m=m<<13|m>>>19,m=m*5+3864292196);switch(u=0,o){case 3:u^=e[r*4+2]<<16;case 2:u^=e[r*4+1]<<8;case 1:u^=e[r*4],u=u*p&kn|u*x&ai,u=u<<15|u>>>17,u=u*b&kn|u*w&ai,r&1?f^=u:m^=u}this.h1=f,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&kn|t*36045&ai,e=e*4283543511&kn|((e<<16|t>>>16)*2950163797&kn)>>>16,t^=e>>>1,t=t*444984403&kn|t*60499&ai,e=e*3301882366&kn|((e<<16|t>>>16)*3120437893&kn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const om=Object.freeze({map:null,hash:"",transfer:void 0});class up{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=this.#n.get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof pt&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of this.#n.values())if(i instanceof pt)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=this.#n.get(t);let r=!1;if(i!==void 0)for(const[o,l]of Object.entries(e))i[o]!==l&&(r=!0,i[o]=l);else r=!0,this.#n.set(t,e);r&&this.#r(),e instanceof pt&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#r(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new bA(this)}get serializable(){if(this.#n.size===0)return om;const t=new Map,e=new vA,i=[],r=Object.create(null);let o=!1;for(const[l,u]of this.#n){const d=u instanceof pt?u.serialize(!1,r):u;d&&(t.set(l,d),e.update(`${l}:${JSON.stringify(d)}`),o||=!!d.bitmap)}if(o)for(const l of t.values())l.bitmap&&i.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:om}get editorStats(){let t=null;const e=new Map;let i=0,r=0;for(const o of this.#n.values()){if(!(o instanceof pt)){o.popup&&(o.popup.deleted?r+=1:i+=1);continue}o.isCommentDeleted?r+=1:o.hasEditedComment&&(i+=1);const l=o.telemetryFinalData;if(!l)continue;const{type:u}=l;e.has(u)||e.set(u,Object.getPrototypeOf(o).constructor),t||=Object.create(null);const d=t[u]||=new Map;for(const[f,m]of Object.entries(l)){if(f==="type")continue;let p=d.get(f);p||(p=new Map,d.set(f,p));const b=p.get(m)??0;p.set(m,b+1)}}if((r>0||i>0)&&(t||=Object.create(null),t.comments={deleted:r,edited:i}),!t)return null;for(const[o,l]of e)t[o]=l.computeTelemetryFinalData(t[o]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const i=this.#i?.get(t);return i?(i.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class bA extends up{#t;constructor(t){super();const{map:e,hash:i,transfer:r}=t.serializable,o=structuredClone(e,r?{transfer:r}:null);this.#t={map:o,hash:i,transfer:r}}get print(){Kt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Ct(this,"modifiedIds",{ids:new Set,hash:""})}}class yk{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||this.#t.has(t.loadedName))){if(kt(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:o,style:l}=t,u=new FontFace(r,o,l);this.addNativeFontFace(u);try{await u.load(),this.#t.add(r),i?.(t)}catch{St(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Kt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw St(`Failed to load font '${i.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Ct(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Ct(this,"isSyncFontLoadingSupported",Xe||Re.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(kt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const o=i.shift();setTimeout(o.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:e,callback:t};return i.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ct(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(R,D){return R.charCodeAt(D)<<24|R.charCodeAt(D+1)<<16|R.charCodeAt(D+2)<<8|R.charCodeAt(D+3)&255}function r(R,D,L,P){const F=R.substring(0,D),H=R.substring(D+L);return F+P+H}let o,l;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let f=0;function m(R,D){if(++f>30){St("Load test font never loaded."),D();return}if(d.font="30px "+R,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(m.bind(null,R,D))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=r(b,976,p.length,p);const w=16,A=1482184792;let T=i(b,w);for(o=0,l=p.length-3;o<l;o+=4)T=T-A+i(p,o)|0;o<p.length&&(T=T-A+i(p+"XXX",o)|0),b=r(b,w,4,sk(T));const E=`url(data:font/opentype;base64,${btoa(b)});`,_=`@font-face {font-family:"${p}";src:${E}}`;this.insertRule(_);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const R of[t.loadedName,p]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=R,N.append(D)}this._document.body.append(N),m(p,()=>{N.remove(),e.complete()})}}class vk{#t;constructor(t,e=null,i,r){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${uA(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let r;try{r=t.get(i)}catch(l){St(`getPathGenerator - ignoring character: "${l}".`)}const o=new Path2D(r||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=o}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}function bk(a){if(a instanceof URL)return a.href;if(typeof a=="string"){if(Xe)return a;const t=URL.parse(a,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function xk(a){if(Xe&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return rl(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a?.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Uc(a){if(typeof a!="string")return null;if(a.endsWith("/"))return a;throw new Error(`Invalid factory url: "${a}" must include trailing slash.`)}const lm=a=>typeof a=="object"&&Number.isInteger(a?.num)&&a.num>=0&&Number.isInteger(a?.gen)&&a.gen>=0,wk=a=>typeof a=="object"&&typeof a?.name=="string",xA=lk.bind(null,lm,wk);class Ak{#t=new Map;#e=Promise.resolve();postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,i)})}addEventListener(t,e,i=null){let r=null;if(i?.signal instanceof AbortSignal){const{signal:o}=i;if(o.aborted){St("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}this.#t.set(e,r)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Vc={DATA:1,ERROR:2},we={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function vx(){}function rn(a){if(a instanceof Ui||a instanceof fu||a instanceof ux||a instanceof qo||a instanceof Tf)return a;switch(a instanceof Error||typeof a=="object"&&a!==null||Kt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new Ui(a.message);case"InvalidPDFException":return new fu(a.message);case"PasswordException":return new ux(a.message,a.code);case"ResponseException":return new qo(a.message,a.status,a.missing);case"UnknownErrorException":return new Tf(a.message,a.details)}return new Tf(a.message,a.toString())}class No{#t=new AbortController;constructor(t,e,i){this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const i=t.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===Vc.DATA)r.resolve(t.data);else if(t.callback===Vc.ERROR)r.reject(rn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,r=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(l){o.postMessage({sourceName:i,targetName:r,callback:Vc.DATA,callbackId:t.callbackId,data:l})},function(l){o.postMessage({sourceName:i,targetName:r,callback:Vc.ERROR,callbackId:t.callbackId,reason:rn(l)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},i)}catch(l){o.reject(l)}return o.promise}sendWithStream(t,e,i,r){const o=this.streamId++,l=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const m=Promise.withResolvers();return this.streamControllers[o]={controller:f,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:u,action:t,streamId:o,data:e,desiredSize:f.desiredSize},r),m.promise},pull:f=>{const m=Promise.withResolvers();return this.streamControllers[o].pullCall=m,d.postMessage({sourceName:l,targetName:u,stream:we.PULL,streamId:o,desiredSize:f.desiredSize}),m.promise},cancel:f=>{kt(f instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[o].cancelCall=m,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:l,targetName:u,stream:we.CANCEL,streamId:o,reason:rn(f)}),m.promise}},i)}#i(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,o=this.comObj,l=this,u=this.actionHandler[t.action],d={enqueue(f,m=1,p){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=m,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:i,targetName:r,stream:we.ENQUEUE,streamId:e,chunk:f},p)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:r,stream:we.CLOSE,streamId:e}),delete l.streamSinks[e])},error(f){kt(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:r,stream:we.ERROR,streamId:e,reason:rn(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(u,t.data,d).then(function(){o.postMessage({sourceName:i,targetName:r,stream:we.START_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:r,stream:we.START_COMPLETE,streamId:e,reason:rn(f)})})}#n(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,o=this.comObj,l=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case we.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(rn(t.reason));break;case we.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(rn(t.reason));break;case we.PULL:if(!u){o.postMessage({sourceName:i,targetName:r,stream:we.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||vx).then(function(){o.postMessage({sourceName:i,targetName:r,stream:we.PULL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:r,stream:we.PULL_COMPLETE,streamId:e,reason:rn(f)})});break;case we.ENQUEUE:if(kt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case we.CLOSE:if(kt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#r(l,e);break;case we.ERROR:kt(l,"error should have stream controller"),l.controller.error(rn(t.reason)),this.#r(l,e);break;case we.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(rn(t.reason)),this.#r(l,e);break;case we.CANCEL:if(!u)break;const d=rn(t.reason);Promise.try(u.onCancel||vx,d).then(function(){o.postMessage({sourceName:i,targetName:r,stream:we.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:r,stream:we.CANCEL_COMPLETE,streamId:e,reason:rn(f)})}),u.sinkCapability.reject(d),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#r(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class wA{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Kt("Abstract method `_createCanvas` called.")}}class Sk extends wA{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class AA{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Kt("Abstract method `_fetch` called.")}}class bx extends AA{async _fetch(t){const e=await br(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):rl(e)}}class SA{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,r,o){return"none"}destroy(t=!1){}}class Ek extends SA{#t;#e;#i;#n;#r;#s;#a=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#r=e}get#o(){return this.#e||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#i){const t=this.#r.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const i=this.#r.createElementNS(ki,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#i=this.#r.createElementNS(ki,"defs"),t.append(i),i.append(this.#i),this.#r.body.append(t)}return this.#i}#d(t){if(t.length===1){const d=t[0],f=new Array(256);for(let p=0;p<256;p++)f[p]=d[p]/255;const m=f.join(",");return[m,m,m]}const[e,i,r]=t,o=new Array(256),l=new Array(256),u=new Array(256);for(let d=0;d<256;d++)o[d]=e[d]/255,l[d]=i[d]/255,u[d]=r[d]/255;return[o.join(","),l.join(","),u.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#r.URL;e!==this.#r.baseURI&&(ll(e)?St('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=ip(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[i,r,o]=this.#d(t),l=t.length===1?i:`${i}${r}${o}`;if(e=this.#o.get(l),e)return this.#o.set(t,e),e;const u=`g_${this.#n}_transfer_map_${this.#a++}`,d=this.#h(u);this.#o.set(t,d),this.#o.set(l,d);const f=this.#m(u);return this.#p(i,r,o,f),d}addHCMFilter(t,e){const i=`${t}-${e}`,r="base";let o=this.#c.get(r);if(o?.key===i||(o?(o.filter?.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},this.#c.set(r,o)),!t||!e))return o.url;const l=this.#b(t);t=it.makeHexColor(...l);const u=this.#b(e);if(e=it.makeHexColor(...u),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const d=new Array(256);for(let x=0;x<=255;x++){const w=x/255;d[x]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const f=d.join(","),m=`g_${this.#n}_hcm_filter`,p=o.filter=this.#m(m);this.#p(f,f,f,p),this.#g(p);const b=(x,w)=>{const A=l[x]/255,T=u[x]/255,E=new Array(w+1);for(let _=0;_<=w;_++)E[_]=A+_/w*(T-A);return E.join(",")};return this.#p(b(0,5),b(1,5),b(2,5),p),o.url=this.#h(m),o.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[i]=this.#d([t]),r=`alpha_${i}`;if(e=this.#o.get(r),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_alpha_map_${this.#a++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(r,l);const u=this.#m(o);return this.#y(i,u),l}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let i,r;if(t?([i]=this.#d([t]),r=`luminosity_${i}`):r="luminosity",e=this.#o.get(r),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_luminosity_map_${this.#a++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(r,l);const u=this.#m(o);return this.#f(u),t&&this.#y(i,u),l}addHighlightHCMFilter(t,e,i,r,o){const l=`${e}-${i}-${r}-${o}`;let u=this.#c.get(t);if(u?.key===l||(u?(u.filter?.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},this.#c.set(t,u)),!e||!i))return u.url;const[d,f]=[e,i].map(this.#b.bind(this));let m=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),p=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[b,x]=[r,o].map(this.#b.bind(this));p<m&&([m,p,b,x]=[p,m,x,b]),this.#l.style.color="";const w=(E,_,N)=>{const R=new Array(256),D=(p-m)/N,L=E/255,P=(_-E)/(255*N);let F=0;for(let H=0;H<=N;H++){const Y=Math.round(m+H*D),J=L+H*P;for(let at=F;at<=Y;at++)R[at]=J;F=Y+1}for(let H=F;H<256;H++)R[H]=R[F-1];return R.join(",")},A=`g_${this.#n}_hcm_${t}_filter`,T=u.filter=this.#m(A);return this.#g(T),this.#p(w(b[0],x[0],5),w(b[1],x[1],5),w(b[2],x[2],5),T),u.url=this.#h(A),u.url}destroy(t=!1){t&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#a=0)}#f(t){const e=this.#r.createElementNS(ki,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#g(t){const e=this.#r.createElementNS(ki,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#m(t){const e=this.#r.createElementNS(ki,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,i){const r=this.#r.createElementNS(ki,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),t.append(r)}#p(t,e,i,r){const o=this.#r.createElementNS(ki,"feComponentTransfer");r.append(o),this.#u(o,"feFuncR",t),this.#u(o,"feFuncG",e),this.#u(o,"feFuncB",i)}#y(t,e){const i=this.#r.createElementNS(ki,"feComponentTransfer");e.append(i),this.#u(i,"feFuncA",t)}#b(t){return this.#l.style.color=t,xr(getComputedStyle(this.#l).getPropertyValue("color"))}}class EA{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Kt("Abstract method `_fetch` called.")}}class xx extends EA{async _fetch(t){const e=await br(t,"arraybuffer");return new Uint8Array(e)}}class TA{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Kt("Abstract method `_fetch` called.")}}class wx extends TA{async _fetch(t){const e=await br(t,"arraybuffer");return new Uint8Array(e)}}Xe&&St("Please use the `legacy` build in Node.js environments.");async function hp(a){const e=await process.getBuiltinModule("fs").promises.readFile(a);return new Uint8Array(e)}class Tk extends SA{}class Ck extends wA{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class _k extends AA{async _fetch(t){return hp(t)}}class Nk extends EA{async _fetch(t){return hp(t)}}class Mk extends TA{async _fetch(t){return hp(t)}}const Ya="__forcedDependency",{floor:Ax,ceil:Sx}=Math;function Hc(a,t,e,i,r,o){a[t*4+0]=Math.min(a[t*4+0],e),a[t*4+1]=Math.min(a[t*4+1],i),a[t*4+2]=Math.max(a[t*4+2],r),a[t*4+3]=Math.max(a[t*4+3],o)}const cm=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class Rk{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===cm}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const qc=(a,t)=>{if(!a)return;let e=a.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},a.set(t,e)),e};class Dk{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[Ya]:[]};#i=new Map;#n=[];#r=[];#s=[[1,0,0,1,0,0]];#a=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#d=new Map;#h=new Map;#f;#g;#m;#u;#p;constructor(t,e,i=!1){this.#f=t.width,this.#g=t.height,this.#y(e),i&&(this.#p=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#y(t,this.#u)}#y(t,e){const i=new ArrayBuffer(t*4);this.#m=new Uint8ClampedArray(i),this.#u=new Uint32Array(i),e&&e.length>0?(this.#u.set(e),this.#u.fill(cm,e.length)):this.#u.fill(cm)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[Ya]:{__proto__:this.#e[Ya]}},this.#a={__proto__:this.#a},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#a=Object.getPrototypeOf(this.#a);const i=this.#n.pop();return i!==void 0&&(qc(this.#p,t)?.dependencies.add(i),this.#u[t]=this.#u[i]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(qc(this.#p,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}beginMarkedContent(t){return this.#r.push(t),this}endMarkedContent(t){const e=this.#r.pop();return e!==void 0&&(qc(this.#p,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}pushBaseTransform(t){return this.#s.push(it.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,i){this.#t[t]=this.#i.get(e)??i}recordFutureForcedDependency(t,e){return this.recordIncrementalData(Ya,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(Ya,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,i,r,o,l){const u=it.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform()),d=[1/0,1/0,-1/0,-1/0];it.axialAlignedBoundingBox([i,o,r,l],u,d);const f=it.intersect(this.#a,d);return f?(this.#a[0]=f[0],this.#a[1]=f[1],this.#a[2]=f[2],this.#a[3]=f[3]):(this.#a[0]=this.#a[1]=1/0,this.#a[2]=this.#a[3]=-1/0),this}recordBBox(t,e,i,r,o,l){const u=this.#a;if(u[0]===1/0)return this;const d=it.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform());if(u[0]===-1/0)return it.axialAlignedBoundingBox([i,o,r,l],d,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return it.axialAlignedBoundingBox([i,o,r,l],d,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],u[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],u[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],u[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],u[3])),this}recordCharacterBBox(t,e,i,r=1,o=0,l=0,u){const d=i.bbox;let f,m;if(d&&(f=d[2]!==d[0]&&d[3]!==d[1]&&this.#h.get(i),f!==!1&&(m=[0,0,0,0],it.axialAlignedBoundingBox(d,i.fontMatrix,m),(r!==1||o!==0||l!==0)&&it.scaleMinMax([r,0,0,-r,o,l],m),f)))return this.recordBBox(t,e,m[0],m[2],m[1],m[3]);if(!u)return this.recordFullPageBBox(t);const p=u();return d&&m&&f===void 0&&(f=m[0]<=o-p.actualBoundingBoxLeft&&m[2]>=o+p.actualBoundingBoxRight&&m[1]<=l-p.actualBoundingBoxAscent&&m[3]>=l+p.actualBoundingBoxDescent,this.#h.set(i,f),f)?this.recordBBox(t,e,m[0],m[2],m[1],m[3]):this.recordBBox(t,e,o-p.actualBoundingBoxLeft,o+p.actualBoundingBoxRight,l-p.actualBoundingBoxAscent,l+p.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#a[0]),this.#o[1]=Math.max(0,this.#a[1]),this.#o[2]=Math.min(this.#f,this.#a[2]),this.#o[3]=Math.min(this.#g,this.#a[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const i=this.#l,r=this.#t,o=this.#e;for(const l of e)l in this.#t?i.add(r[l]):l in o&&o[l].forEach(i.add,i);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[Ya]),this.#p){const i=qc(this.#p,t),{dependencies:r}=i;this.#l.forEach(r.add,r),this.#n.forEach(r.add,r),this.#r.forEach(r.add,r),r.delete(t),i.isRenderingOperation=!0}if(this.#c===t){const i=Ax(this.#o[0]*256/this.#f),r=Ax(this.#o[1]*256/this.#g),o=Sx(this.#o[2]*256/this.#f),l=Sx(this.#o[3]*256/this.#g);Hc(this.#m,t,i,r,o,l);for(const u of this.#l)u!==t&&Hc(this.#m,u,i,r,o,l);for(const u of this.#n)u!==t&&Hc(this.#m,u,i,r,o,l);for(const u of this.#r)u!==t&&Hc(this.#m,u,i,r,o,l);e||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,e=!1){const i=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#c===t&&(this.#c=-1,this.#a[0]=Math.max(this.#a[0],this.#o[0]),this.#a[1]=Math.max(this.#a[1],this.#o[1]),this.#a[2]=Math.min(this.#a[2],this.#o[2]),this.#a[3]=Math.min(this.#a[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#d.get(t);return this.#d.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#h.clear(),new Rk(this.#u,this.#m)}takeDebugMetadata(){return this.#p}}class gu{#t;#e;#i;#n=0;#r=0;constructor(t,e,i){if(t instanceof gu&&t.#i===!!i)return t;this.#t=t,this.#e=e,this.#i=!!i}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#r++,this.#t.save(this.#e),this}restore(t){return this.#r>0&&(this.#t.restore(this.#e),this.#r--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,i){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,i,r,o,l){return this.#i||this.#t.recordClipBox(this.#e,e,i,r,o,l),this}recordBBox(t,e,i,r,o,l){return this.#i||this.#t.recordBBox(this.#e,e,i,r,o,l),this}recordCharacterBBox(t,e,i,r,o,l,u){return this.#i||this.#t.recordCharacterBBox(this.#e,e,i,r,o,l,u),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Ln={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Fe={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function um(a,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,i),a.clip(r)}class dp{isModifyingCurrentTransform(){return!1}getPattern(){Kt("Abstract method `getPattern` called.")}}class jk extends dp{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,r){let o;if(r===Fe.STROKE||r===Fe.FILL){const l=e.current.getClippedPathBoundingBox(r,se(t))||[0,0,0,0],u=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,f=e.cachedCanvases.getCanvas("pattern",u,d),m=f.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-l[0],-l[1]),i=it.transform(i,[1,0,0,1,l[0],l[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),um(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),o=t.createPattern(f.canvas,"no-repeat");const p=new DOMMatrix(i);o.setTransform(p)}else um(t,this._bbox),o=this._createGradient(t);return o}}function Nf(a,t,e,i,r,o,l,u){const d=t.coords,f=t.colors,m=a.data,p=a.width*4;let b;d[e+1]>d[i+1]&&(b=e,e=i,i=b,b=o,o=l,l=b),d[i+1]>d[r+1]&&(b=i,i=r,r=b,b=l,l=u,u=b),d[e+1]>d[i+1]&&(b=e,e=i,i=b,b=o,o=l,l=b);const x=(d[e]+t.offsetX)*t.scaleX,w=(d[e+1]+t.offsetY)*t.scaleY,A=(d[i]+t.offsetX)*t.scaleX,T=(d[i+1]+t.offsetY)*t.scaleY,E=(d[r]+t.offsetX)*t.scaleX,_=(d[r+1]+t.offsetY)*t.scaleY;if(w>=_)return;const N=f[o],R=f[o+1],D=f[o+2],L=f[l],P=f[l+1],F=f[l+2],H=f[u],Y=f[u+1],J=f[u+2],at=Math.round(w),ft=Math.round(_);let rt,vt,B,V,Q,lt,xt,k;for(let $=at;$<=ft;$++){if($<T){const ut=$<w?0:(w-$)/(w-T);rt=x-(x-A)*ut,vt=N-(N-L)*ut,B=R-(R-P)*ut,V=D-(D-F)*ut}else{let ut;$>_?ut=1:T===_?ut=0:ut=(T-$)/(T-_),rt=A-(A-E)*ut,vt=L-(L-H)*ut,B=P-(P-Y)*ut,V=F-(F-J)*ut}let Z;$<w?Z=0:$>_?Z=1:Z=(w-$)/(w-_),Q=x-(x-E)*Z,lt=N-(N-H)*Z,xt=R-(R-Y)*Z,k=D-(D-J)*Z;const et=Math.round(Math.min(rt,Q)),dt=Math.round(Math.max(rt,Q));let gt=p*$+et*4;for(let ut=et;ut<=dt;ut++)Z=(rt-ut)/(rt-Q),Z<0?Z=0:Z>1&&(Z=1),m[gt++]=vt-(vt-lt)*Z|0,m[gt++]=B-(B-xt)*Z|0,m[gt++]=V-(V-k)*Z|0,m[gt++]=255}}function kk(a,t,e){const i=t.coords,r=t.colors;let o,l;switch(t.type){case"lattice":const u=t.verticesPerRow,d=Math.floor(i.length/u)-1,f=u-1;for(o=0;o<d;o++){let m=o*u;for(let p=0;p<f;p++,m++)Nf(a,e,i[m],i[m+1],i[m+u],r[m],r[m+1],r[m+u]),Nf(a,e,i[m+u+1],i[m+1],i[m+u],r[m+u+1],r[m+1],r[m+u])}break;case"triangles":for(o=0,l=i.length;o<l;o+=3)Nf(a,e,i[o],i[o+1],i[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class Lk extends dp{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,m=Math.ceil(this._bounds[3])-d,p=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),x=f/p,w=m/b,A={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/x,scaleY:1/w},T=p+4,E=b+4,_=i.getCanvas("mesh",T,E),N=_.context,R=N.createImageData(p,b);if(e){const L=R.data;for(let P=0,F=L.length;P<F;P+=4)L[P]=e[0],L[P+1]=e[1],L[P+2]=e[2],L[P+3]=255}for(const L of this._figures)kk(R,L,A);return N.putImageData(R,2,2),{canvas:_.canvas,offsetX:u-2*x,offsetY:d-2*w,scaleX:x,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,r){um(t,this._bbox);const o=new Float32Array(2);if(r===Fe.SHADING)it.singularValueDecompose2dScale(se(t),o);else if(this.matrix){it.singularValueDecompose2dScale(this.matrix,o);const[u,d]=o;it.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=u,o[1]*=d}else it.singularValueDecompose2dScale(e.baseTransform,o);const l=this._createMeshCanvas(o,r===Fe.SHADING?null:this._background,e.cachedCanvases);return r!==Fe.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class Pk extends dp{getPattern(){return"hotpink"}}function Ok(a){switch(a[0]){case"RadialAxial":return new jk(a);case"Mesh":return new Lk(a);case"Dummy":return new Pk}throw new Error(`Unknown IR type: ${a[0]}`)}const Ex={COLORED:1,UNCOLORED:2};class fp{static MAX_PATTERN_SIZE=3e3;constructor(t,e,i,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(t,e){const{bbox:i,operatorList:r,paintType:o,tilingType:l,color:u,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:m}=this;f=Math.abs(f),m=Math.abs(m),Cu("TilingType: "+l);const p=i[0],b=i[1],x=i[2],w=i[3],A=x-p,T=w-b,E=new Float32Array(2);it.singularValueDecompose2dScale(this.matrix,E);const[_,N]=E;it.singularValueDecompose2dScale(this.baseTransform,E);const R=_*E[0],D=N*E[1];let L=A,P=T,F=!1,H=!1;const Y=Math.ceil(f*R),J=Math.ceil(m*D),at=Math.ceil(A*R),ft=Math.ceil(T*D);Y>=at?L=f:F=!0,J>=ft?P=m:H=!0;const rt=this.getSizeAndScale(L,this.ctx.canvas.width,R),vt=this.getSizeAndScale(P,this.ctx.canvas.height,D),B=t.cachedCanvases.getCanvas("pattern",rt.size,vt.size),V=B.context,Q=d.createCanvasGraphics(V,e);if(Q.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(Q,o,u),V.translate(-rt.scale*p,-vt.scale*b),Q.transform(0,rt.scale,0,0,vt.scale,0,0),V.save(),Q.dependencyTracker?.save(),this.clipBbox(Q,p,b,x,w),Q.baseTransform=se(Q.ctx),Q.executeOperatorList(r),Q.endDrawing(),Q.dependencyTracker?.restore(),V.restore(),F||H){const lt=B.canvas;F&&(L=f),H&&(P=m);const xt=this.getSizeAndScale(L,this.ctx.canvas.width,R),k=this.getSizeAndScale(P,this.ctx.canvas.height,D),$=xt.size,Z=k.size,et=t.cachedCanvases.getCanvas("pattern-workaround",$,Z),dt=et.context,gt=F?Math.floor(A/f):0,ut=H?Math.floor(T/m):0;for(let $t=0;$t<=gt;$t++)for(let Pt=0;Pt<=ut;Pt++)dt.drawImage(lt,$*$t,Z*Pt,$,Z,0,0,$,Z);return{canvas:et.canvas,scaleX:xt.scale,scaleY:k.scale,offsetX:p,offsetY:b}}return{canvas:B.canvas,scaleX:rt.scale,scaleY:vt.scale,offsetX:p,offsetY:b}}getSizeAndScale(t,e,i){const r=Math.max(fp.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*i);return o>=r?o=r:i=o/t,{scale:i,size:o}}clipBbox(t,e,i,r,o){const l=r-e,u=o-i;t.ctx.rect(e,i,l,u),it.axialAlignedBoundingBox([e,i,r,o],se(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const r=t.ctx,o=t.current;switch(e){case Ex.COLORED:const{fillStyle:l,strokeStyle:u}=this.ctx;r.fillStyle=o.fillColor=l,r.strokeStyle=o.strokeColor=u;break;case Ex.UNCOLORED:r.fillStyle=r.strokeStyle=i,o.fillColor=o.strokeColor=i;break;default:throw new ik(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,r,o){let l=i;r!==Fe.SHADING&&(l=it.transform(l,e.baseTransform),this.matrix&&(l=it.transform(l,this.matrix)));const u=this.createPatternCanvas(e,o);let d=new DOMMatrix(l);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(d),f}}function Bk({src:a,srcPos:t=0,dest:e,width:i,height:r,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const u=Re.isLittleEndian?4278190080:255,[d,f]=l?[o,u]:[u,o],m=i>>3,p=i&7,b=a.length;e=new Uint32Array(e.buffer);let x=0;for(let w=0;w<r;w++){for(const T=t+m;t<T;t++){const E=t<b?a[t]:255;e[x++]=E&128?f:d,e[x++]=E&64?f:d,e[x++]=E&32?f:d,e[x++]=E&16?f:d,e[x++]=E&8?f:d,e[x++]=E&4?f:d,e[x++]=E&2?f:d,e[x++]=E&1?f:d}if(p===0)continue;const A=t<b?a[t++]:255;for(let T=0;T<p;T++)e[x++]=A&1<<7-T?f:d}return{srcPos:t,destPos:x}}const Tx=16,Cx=100,Fk=15,_x=10,on=16,Mf=new DOMMatrix,wn=new Float32Array(2),er=new Float32Array([1/0,1/0,-1/0,-1/0]);function zk(a,t){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){t.save(),this.__originalSave()},a.restore=function(){t.restore(),this.__originalRestore()},a.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},a.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},a.transform=function(e,i,r,o,l,u){t.transform(e,i,r,o,l,u),this.__originalTransform(e,i,r,o,l,u)},a.setTransform=function(e,i,r,o,l,u){t.setTransform(e,i,r,o,l,u),this.__originalSetTransform(e,i,r,o,l,u)},a.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},a.rotate=function(e){t.rotate(e),this.__originalRotate(e)},a.clip=function(e){t.clip(e),this.__originalClip(e)},a.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},a.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},a.bezierCurveTo=function(e,i,r,o,l,u){t.bezierCurveTo(e,i,r,o,l,u),this.__originalBezierCurveTo(e,i,r,o,l,u)},a.rect=function(e,i,r,o){t.rect(e,i,r,o),this.__originalRect(e,i,r,o)},a.closePath=function(){t.closePath(),this.__originalClosePath()},a.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class Ik{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,i)):(r=this.canvasFactory.create(e,i),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Gc(a,t,e,i,r,o,l,u,d,f){const[m,p,b,x,w,A]=se(a);if(p===0&&b===0){const _=l*m+w,N=Math.round(_),R=u*x+A,D=Math.round(R),L=(l+d)*m+w,P=Math.abs(Math.round(L)-N)||1,F=(u+f)*x+A,H=Math.abs(Math.round(F)-D)||1;return a.setTransform(Math.sign(m),0,0,Math.sign(x),N,D),a.drawImage(t,e,i,r,o,0,0,P,H),a.setTransform(m,p,b,x,w,A),[P,H]}if(m===0&&x===0){const _=u*b+w,N=Math.round(_),R=l*p+A,D=Math.round(R),L=(u+f)*b+w,P=Math.abs(Math.round(L)-N)||1,F=(l+d)*p+A,H=Math.abs(Math.round(F)-D)||1;return a.setTransform(0,Math.sign(p),Math.sign(b),0,N,D),a.drawImage(t,e,i,r,o,0,0,H,P),a.setTransform(m,p,b,x,w,A),[H,P]}a.drawImage(t,e,i,r,o,l,u,d,f);const T=Math.hypot(m,p),E=Math.hypot(b,x);return[T*d,E*f]}class Nx{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=am;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Oe.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,i){i?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=er.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Fe.FILL,e=null){const i=this.minMax.slice();if(t===Fe.STROKE){e||Kt("Stroke bounding box must include transform."),it.singularValueDecompose2dScale(e,wn);const r=wn[0]*this.lineWidth/2,o=wn[1]*this.lineWidth/2;i[0]-=r,i[1]-=o,i[2]+=r,i[3]+=o}return i}updateClipFromPath(){const t=it.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(er,0)}getClippedPathBoundingBox(t=Fe.FILL,e=null){return it.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function Mx(a,t){if(t instanceof ImageData){a.putImageData(t,0,0);return}const e=t.height,i=t.width,r=e%on,o=(e-r)/on,l=r===0?o:o+1,u=a.createImageData(i,on);let d=0,f;const m=t.data,p=u.data;let b,x,w,A;if(t.kind===Po.GRAYSCALE_1BPP){const T=m.byteLength,E=new Uint32Array(p.buffer,0,p.byteLength>>2),_=E.length,N=i+7>>3,R=4294967295,D=Re.isLittleEndian?4278190080:255;for(b=0;b<l;b++){for(w=b<o?on:r,f=0,x=0;x<w;x++){const L=T-d;let P=0;const F=L>N?i:L*8-7,H=F&-8;let Y=0,J=0;for(;P<H;P+=8)J=m[d++],E[f++]=J&128?R:D,E[f++]=J&64?R:D,E[f++]=J&32?R:D,E[f++]=J&16?R:D,E[f++]=J&8?R:D,E[f++]=J&4?R:D,E[f++]=J&2?R:D,E[f++]=J&1?R:D;for(;P<F;P++)Y===0&&(J=m[d++],Y=128),E[f++]=J&Y?R:D,Y>>=1}for(;f<_;)E[f++]=0;a.putImageData(u,0,b*on)}}else if(t.kind===Po.RGBA_32BPP){for(x=0,A=i*on*4,b=0;b<o;b++)p.set(m.subarray(d,d+A)),d+=A,a.putImageData(u,0,x),x+=on;b<l&&(A=i*r*4,p.set(m.subarray(d,d+A)),a.putImageData(u,0,x))}else if(t.kind===Po.RGB_24BPP)for(w=on,A=i*w,b=0;b<l;b++){for(b>=o&&(w=r,A=i*w),f=0,x=A;x--;)p[f++]=m[d++],p[f++]=m[d++],p[f++]=m[d++],p[f++]=255;a.putImageData(u,0,b*on)}else throw new Error(`bad image kind: ${t.kind}`)}function Rx(a,t){if(t.bitmap){a.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,r=e%on,o=(e-r)/on,l=r===0?o:o+1,u=a.createImageData(i,on);let d=0;const f=t.data,m=u.data;for(let p=0;p<l;p++){const b=p<o?on:r;({srcPos:d}=Bk({src:f,srcPos:d,dest:m,width:i,height:b,nonBlackColor:0})),a.putImageData(u,0,p*on)}}function wo(a,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)a[i]!==void 0&&(t[i]=a[i]);a.setLineDash!==void 0&&(t.setLineDash(a.getLineDash()),t.lineDashOffset=a.lineDashOffset)}function $c(a){a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0);const{filter:t}=a;t!=="none"&&t!==""&&(a.filter="none")}function Dx(a,t){if(t)return!0;it.singularValueDecompose2dScale(a,wn);const e=Math.fround(Qn.pixelRatio*ia.PDF_TO_CSS_UNITS);return wn[0]<=e&&wn[1]<=e}const Uk=["butt","round","square"],Vk=["miter","round","bevel"],Hk={},jx={};class sr{constructor(t,e,i,r,o,{optionalContentConfig:l,markedContentStack:u=null},d,f,m){this.ctx=t,this.current=new Nx(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new Ik(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=m??null}getObject(t,e,i=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):i}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:r=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=u,i){const d=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...se(this.compositeCtx))}this.ctx.save(),$c(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=se(this.ctx)}executeOperatorList(t,e,i,r,o){const l=t.argsArray,u=t.fnArray;let d=e||0;const f=l.length;if(f===d)return d;const m=f-d>_x&&typeof i=="function",p=m?Date.now()+Fk:0;let b=0;const x=this.commonObjs,w=this.objs;let A,T;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,i),d;if(!o||o(d))if(A=u[d],T=l[d]??null,A!==dr.dependency)T===null?this[A](d):this[A](d,...T);else for(const E of T){this.dependencyTracker?.recordNamedData(E,d);const _=E.startsWith("g_")?x:w;if(!_.has(E))return _.get(E,i),d}if(d++,d===f)return d;if(m&&++b>_x){if(Date.now()>p)return i(),d;b=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const i=t.width??t.displayWidth,r=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),u=i,d=r,f="prescale1",m,p;for(;o>2&&u>1||l>2&&d>1;){let b=u,x=d;o>2&&u>1&&(b=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),o/=u/b),l>2&&d>1&&(x=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/x),m=this.cachedCanvases.getCanvas(f,b,x),p=m.context,p.clearRect(0,0,b,x),p.drawImage(t,0,0,u,d,0,0,b,x),t=m.canvas,u=b,d=x,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:d}}_createMaskCanvas(t,e){const i=this.ctx,{width:r,height:o}=e,l=this.current.fillColor,u=this.current.patternFill,d=se(i);let f,m,p,b;if((e.bitmap||e.data)&&e.count>1){const Y=e.bitmap||e.data.buffer;m=JSON.stringify(u?d:[d.slice(0,4),l]),f=this._cachedBitmapsMap.get(Y),f||(f=new Map,this._cachedBitmapsMap.set(Y,f));const J=f.get(m);if(J&&!u){const at=Math.round(Math.min(d[0],d[2])+d[4]),ft=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(t,Ln.transformAndFill),{canvas:J,offsetX:at,offsetY:ft}}p=J}p||(b=this.cachedCanvases.getCanvas("maskCanvas",r,o),Rx(b.context,e));let x=it.transform(d,[1/r,0,0,-1/o,0,0]);x=it.transform(x,[1,0,0,1,0,-o]);const w=er.slice();it.axialAlignedBoundingBox([0,0,r,o],x,w);const[A,T,E,_]=w,N=Math.round(E-A)||1,R=Math.round(_-T)||1,D=this.cachedCanvases.getCanvas("fillCanvas",N,R),L=D.context,P=A,F=T;L.translate(-P,-F),L.transform(...x),p||(p=this._scaleImage(b.canvas,si(L)),p=p.img,f&&u&&f.set(m,p)),L.imageSmoothingEnabled=Dx(se(L),e.interpolate),Gc(L,p,0,0,p.width,p.height,0,0,r,o),L.globalCompositeOperation="source-in";const H=it.transform(si(L),[1,0,0,1,-P,-F]);return L.fillStyle=u?l.getPattern(i,this,H,Fe.FILL,t):l,L.fillRect(0,0,r,o),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(m,D.canvas)),this.dependencyTracker?.recordDependencies(t,Ln.transformAndFill),{canvas:D.canvas,offsetX:Math.round(P),offsetY:Math.round(F)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=Uk[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=Vk[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,i){this.dependencyTracker?.recordSimpleData("dash",t);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=i)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[i,r]of e)switch(i){case"LW":this.setLineWidth(t,r);break;case"LC":this.setLineCap(t,r);break;case"LJ":this.setLineJoin(t,r);break;case"ML":this.setMiterLimit(t,r);break;case"D":this.setDash(t,r[0],r[1]);break;case"RI":this.setRenderingIntent(t,r);break;case"FL":this.setFlatness(t,r);break;case"Font":this.setFont(t,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(r,e,i);this.suspendedCtx=this.ctx;const l=this.ctx=o.context;l.setTransform(this.suspendedCtx.getTransform()),wo(this.suspendedCtx,l),zk(l,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),wo(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,r){const o=r[0],l=r[1],u=r[2]-o,d=r[3]-l;u===0||d===0||(this.genericComposeSMask(e.context,i,u,d,e.subtype,e.backdrop,e.transferMap,o,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,r,o,l,u,d,f,m,p){let b=t.canvas,x=d-m,w=f-p;if(l)if(x<0||w<0||x+i>b.width||w+r>b.height){const T=this.cachedCanvases.getCanvas("maskExtension",i,r),E=T.context;E.drawImage(b,-x,-w),E.globalCompositeOperation="destination-atop",E.fillStyle=l,E.fillRect(0,0,i,r),E.globalCompositeOperation="source-over",b=T.canvas,x=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(x,w,i,r),t.clip(T),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(x,w,i,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const A=new Path2D;A.rect(d,f,i,r),e.clip(A),e.globalCompositeOperation="destination-in",e.drawImage(b,x,w,i,r,d,f,i,r),e.restore()}save(t){this.inSMaskMode&&wo(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&wo(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,r,o,l,u){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,i,r,o,l,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i,r){let[o]=i;if(!r){o||=i[0]=new Path2D,this[e](t,o);return}if(this.dependencyTracker!==null){const l=e===dr.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,r[0]-l,r[2]+l,r[1]-l,r[3]+l).recordDependencies(t,["transform"])}if(!(o instanceof Path2D)){const l=i[0]=new Path2D;for(let u=0,d=o.length;u<d;)switch(o[u++]){case zc.moveTo:l.moveTo(o[u++],o[u++]);break;case zc.lineTo:l.lineTo(o[u++],o[u++]);break;case zc.curveTo:l.bezierCurveTo(o[u++],o[u++],o[u++],o[u++],o[u++],o[u++]);break;case zc.closePath:l.closePath();break;default:St(`Unrecognized drawing path operator: ${o[u-1]}`);break}o=l}it.axialAlignedBoundingBox(r,se(this.ctx),this.current.minMax),this[e](t,o),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,i=!0){const r=this.ctx,o=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&o?.getPattern){const l=o.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=o.getPattern(r,this,si(r),Fe.STROKE,t),l){const u=new Path2D;u.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=u}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,Ln.stroke),i&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(Fe.STROKE,se(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,i=!0){const r=this.ctx,o=this.current.fillColor,l=this.current.patternFill;let u=!1;if(l){const f=o.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(t),r.save(),r.fillStyle=o.getPattern(r,this,si(r),Fe.FILL,t),f){const m=new Path2D;m.addPath(e,r.getTransform().invertSelf().multiplySelf(f)),e=m}u=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),this.dependencyTracker?.recordDependencies(t,Ln.fill),u&&(r.restore(),this.dependencyTracker?.restore(t)),i&&this.consumePath(t,e,d)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,Ln.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=Hk}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=jx}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;e!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",t),r.recordCloseMarker(t)}if(e!==void 0){const r=new Path2D,o=i.getTransform().invertSelf();for(const{transform:l,x:u,y:d,fontSize:f,path:m}of e)m&&r.addPath(m,new DOMMatrix(l).preMultiplySelf(o).translate(u,d).scale(f,-f));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,i){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const r=this.commonObjs.get(e),o=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=r.fontMatrix||am,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&St("Invalid font matrix for font "+e),i<0?(i=-i,o.fontDirection=-1):o.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const l=r.loadedName||"sans-serif",u=r.systemFontInfo?.css||`"${l}", ${r.fallbackName}`;let d="normal";r.black?d="900":r.bold&&(d="bold");const f=r.italic?"italic":"normal";let m=i;i<Tx?m=Tx:i>Cx&&(m=Cx),this.current.fontSizeScale=i/m,this.ctx.font=`${f} ${d} ${m}px ${u}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,i){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,e,i){this.setLeading(t,-i),this.moveText(t,e,i)}setTextMatrix(t,e){this.dependencyTracker?.recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,i){const r=new Path2D;return r.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),r}paintChar(t,e,i,r,o,l){const u=this.ctx,d=this.current,f=d.font,m=d.textRenderingMode,p=d.fontSize/d.fontSizeScale,b=m&Oe.FILL_STROKE_MASK,x=!!(m&Oe.ADD_TO_PATH_FLAG),w=d.patternFill&&!f.missingFile,A=d.patternStroke&&!f.missingFile;let T;if((f.disableFontFace||x||w||A)&&!f.missingFile&&(T=f.getPathGenerator(this.commonObjs,e)),T&&(f.disableFontFace||w||A)){u.save(),u.translate(i,r),u.scale(p,-p),this.dependencyTracker?.recordCharacterBBox(t,u,f);let E;if(b===Oe.FILL||b===Oe.FILL_STROKE)if(o){E=u.getTransform(),u.setTransform(...o);const _=this.#i(T,E,o);u.fill(_)}else u.fill(T);if(b===Oe.STROKE||b===Oe.FILL_STROKE)if(l){E||=u.getTransform(),u.setTransform(...l);const{a:_,b:N,c:R,d:D}=E,L=it.inverseTransform(l),P=it.transform([_,N,R,D,0,0],L);it.singularValueDecompose2dScale(P,wn),u.lineWidth*=Math.max(wn[0],wn[1])/p,u.stroke(this.#i(T,E,l))}else u.lineWidth/=p,u.stroke(T);u.restore()}else(b===Oe.FILL||b===Oe.FILL_STROKE)&&(u.fillText(e,i,r),this.dependencyTracker?.recordCharacterBBox(t,u,f,p,i,r,()=>u.measureText(e))),(b===Oe.STROKE||b===Oe.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,u,f,p,i,r,()=>u.measureText(e)).recordDependencies(t,Ln.stroke),u.strokeText(e,i,r));x&&((this.pendingTextPaths||=[]).push({transform:se(u),x:i,y:r,fontSize:p,path:T}),this.dependencyTracker?.recordCharacterBBox(t,u,f,p,i,r))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){i=!0;break}return Ct(this,"isFontSubpixelAAEnabled",i)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Ln.showText).resetBBox(t),this.current.textRenderingMode&Oe.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const o=i.fontSize;if(o===0){this.dependencyTracker?.recordOperation(t);return}const l=this.ctx,u=i.fontSizeScale,d=i.charSpacing,f=i.wordSpacing,m=i.fontDirection,p=i.textHScale*m,b=e.length,x=r.vertical,w=x?1:-1,A=r.defaultVMetrics,T=o*i.fontMatrix[0],E=i.textRenderingMode===Oe.FILL&&!r.disableFontFace&&!i.patternFill;l.save(),i.textMatrix&&l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),m>0?l.scale(p,-1):l.scale(p,1);let _,N;if(i.patternFill){l.save();const F=i.fillColor.getPattern(l,this,si(l),Fe.FILL,t);_=se(l),l.restore(),l.fillStyle=F}if(i.patternStroke){l.save();const F=i.strokeColor.getPattern(l,this,si(l),Fe.STROKE,t);N=se(l),l.restore(),l.strokeStyle=F}let R=i.lineWidth;const D=i.textMatrixScale;if(D===0||R===0){const F=i.textRenderingMode&Oe.FILL_STROKE_MASK;(F===Oe.STROKE||F===Oe.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=D;if(u!==1&&(l.scale(u,u),R/=u),l.lineWidth=R,r.isInvalidPDFjsFont){const F=[];let H=0;for(const J of e)F.push(J.unicode),H+=J.width;const Y=F.join("");if(l.fillText(Y,0,0),this.dependencyTracker!==null){const J=l.measureText(Y);this.dependencyTracker.recordBBox(t,this.ctx,-J.actualBoundingBoxLeft,J.actualBoundingBoxRight,-J.actualBoundingBoxAscent,J.actualBoundingBoxDescent).recordShowTextOperation(t)}i.x+=H*T*p,l.restore(),this.compose();return}let L=0,P;for(P=0;P<b;++P){const F=e[P];if(typeof F=="number"){L+=w*F*o/1e3;continue}let H=!1;const Y=(F.isSpace?f:0)+d,J=F.fontChar,at=F.accent;let ft,rt,vt=F.width;if(x){const Q=F.vmetric||A,lt=-(F.vmetric?Q[1]:vt*.5)*T,xt=Q[2]*T;vt=Q?-Q[0]:vt,ft=lt/u,rt=(L+xt)/u}else ft=L/u,rt=0;let B;if(r.remeasure&&vt>0){B=l.measureText(J);const Q=B.width*1e3/o*u;if(vt<Q&&this.isFontSubpixelAAEnabled){const lt=vt/Q;H=!0,l.save(),l.scale(lt,1),ft/=lt}else vt!==Q&&(ft+=(vt-Q)/2e3*o/u)}if(this.contentVisible&&(F.isInFont||r.missingFile)){if(E&&!at)l.fillText(J,ft,rt),this.dependencyTracker?.recordCharacterBBox(t,l,B?{bbox:null}:r,o/u,ft,rt,()=>B??l.measureText(J));else if(this.paintChar(t,J,ft,rt,_,N),at){const Q=ft+o*at.offset.x/u,lt=rt-o*at.offset.y/u;this.paintChar(t,at.fontChar,Q,lt,_,N)}}const V=x?vt*T-Y*m:vt*T+Y*m;L+=V,H&&l.restore()}x?i.y-=L:i.x+=L*p,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const i=this.ctx,r=this.current,o=r.font,l=r.fontSize,u=r.fontDirection,d=o.vertical?1:-1,f=r.charSpacing,m=r.wordSpacing,p=r.textHScale*u,b=r.fontMatrix||am,x=e.length,w=r.textRenderingMode===Oe.INVISIBLE;let A,T,E,_;if(w||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(p,u);const N=this.dependencyTracker;for(this.dependencyTracker=N?new gu(N,t):null,A=0;A<x;++A){if(T=e[A],typeof T=="number"){_=d*T*l/1e3,this.ctx.translate(_,0),r.x+=_*p;continue}const R=(T.isSpace?m:0)+f,D=o.charProcOperatorList[T.operatorListId];D?this.contentVisible&&(this.save(),i.scale(l,l),i.transform(...b),this.executeOperatorList(D),this.restore()):St(`Type3 character "${T.operatorListId}" is not available.`);const L=[T.width,0];it.applyTransform(L,b),E=L[0]*l+R,i.translate(E,0),r.x+=E*p}i.restore(),N&&(this.dependencyTracker=N)}setCharWidth(t,e,i){}setCharWidthAndBounds(t,e,i,r,o,l,u){const d=new Path2D;d.rect(r,o,l-r,u-o),this.ctx.clip(d),this.dependencyTracker?.recordBBox(t,this.ctx,r,l,o,u).recordClipBox(t,this.ctx,r,l,o,u),this.endPath(t)}getColorN_Pattern(t,e){let i;if(e[0]==="TilingPattern"){const r=this.baseTransform||se(this.ctx),o={createCanvasGraphics:(l,u)=>new sr(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new gu(this.dependencyTracker,u,!0):null)};i=new fp(e,this.ctx,o,r)}else i=this._getPattern(t,e[1],e[2]);return i}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,i=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=Ok(this.getObject(t,e)),this.cachedPatterns.set(e,r)),i&&(r.matrix=i),r}shadingFill(t,e){if(!this.contentVisible)return;const i=this.ctx;this.save(t);const r=this._getPattern(t,e);i.fillStyle=r.getPattern(i,this,si(i),Fe.SHADING,t);const o=si(i);if(o){const{width:l,height:u}=i.canvas,d=er.slice();it.axialAlignedBoundingBox([0,0,l,u],o,d);const[f,m,p,b]=d;this.ctx.fillRect(f,m,p-f,b-m)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Ln.transform).recordDependencies(t,Ln.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){Kt("Should not call beginInlineImage")}beginImageData(){Kt("Should not call beginImageData")}paintFormXObjectBegin(t,e,i){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=se(this.ctx),i)){it.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[r,o,l,u]=i,d=new Path2D;d.rect(r,o,l-r,u-o),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(t,this.ctx,r,l,o,u),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||Cu("TODO: Support non-isolated groups."),e.knockout&&St("Knockout groups not supported.");const r=se(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=er.slice();it.axialAlignedBoundingBox(e.bbox,se(i),o);const l=[0,0,i.canvas.width,i.canvas.height];o=it.intersect(o,l)||[0,0,0,0];const u=Math.floor(o[0]),d=Math.floor(o[1]),f=Math.max(Math.ceil(o[2])-u,1),m=Math.max(Math.ceil(o[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,m]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(p,f,m),x=b.context;x.translate(-u,-d),x.transform(...r);let w=new Path2D;const[A,T,E,_]=e.bbox;if(w.rect(A,T,E-A,_-T),e.matrix){const N=new Path2D;N.addPath(w,new DOMMatrix(e.matrix)),w=N}x.clip(w),e.smask&&this.smaskStack.push({canvas:b.canvas,context:x,offsetX:u,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(u,d),i.save()),wo(i,x),this.ctx=x,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=se(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...o);const l=er.slice();it.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],o,l),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,i,r,o,l){if(this.#t(),$c(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const u=i[2]-i[0],d=i[3]-i[1];if(l&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=u,i[3]=d,it.singularValueDecompose2dScale(se(this.ctx),wn);const{viewportScale:f}=this,m=Math.ceil(u*this.outputScaleX*f),p=Math.ceil(d*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(m,p);const{canvas:b,context:x}=this.annotationCanvas;this.annotationCanvasMap.set(e,b),this.annotationCanvas.savedCtx=this.ctx,this.ctx=x,this.ctx.save(),this.ctx.setTransform(wn[0],0,0,-wn[1],0,d*wn[1]),$c(this.ctx)}else{$c(this.ctx),this.endPath(t);const f=new Path2D;f.rect(i[0],i[1],u,d),this.ctx.clip(f)}}this.current=new Nx(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...r),this.transform(t,...o)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const i=e.count;e=this.getObject(t,e.data,e),e.count=i;const r=this.ctx,o=this._createMaskCanvas(t,e),l=o.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(l,o.offsetX,o.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,o.offsetX,o.offsetX+l.width,o.offsetY,o.offsetY+l.height).recordOperation(t),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i,r=0,o=0,l,u){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const d=this.ctx;d.save();const f=se(d);d.transform(i,r,o,l,0,0);const m=this._createMaskCanvas(t,e);d.setTransform(1,0,0,1,m.offsetX-f[4],m.offsetY-f[5]),this.dependencyTracker?.resetBBox(t);for(let p=0,b=u.length;p<b;p+=2){const x=it.transform(f,[i,r,o,l,u[p],u[p+1]]);d.drawImage(m.canvas,x[4],x[5]),this.dependencyTracker?.recordBBox(t,this.ctx,x[4],x[4]+m.canvas.width,x[5],x[5]+m.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,o=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,Ln.transformAndFill);for(const l of e){const{data:u,width:d,height:f,transform:m}=l,p=this.cachedCanvases.getCanvas("maskCanvas",d,f),b=p.context;b.save();const x=this.getObject(t,u,l);Rx(b,x),b.globalCompositeOperation="source-in",b.fillStyle=o?r.getPattern(b,this,si(i),Fe.FILL,t):r,b.fillRect(0,0,d,f),b.restore(),i.save(),i.transform(...m),i.scale(1,-1),Gc(i,p.canvas,0,0,d,f,0,-1,1,1),this.dependencyTracker?.recordBBox(t,i,0,d,0,f),i.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const i=this.getObject(t,e);if(!i){St("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,i)}paintImageXObjectRepeat(t,e,i,r,o){if(!this.contentVisible)return;const l=this.getObject(t,e);if(!l){St("Dependent image isn't ready yet");return}const u=l.width,d=l.height,f=[];for(let m=0,p=o.length;m<p;m+=2)f.push({transform:[i,0,0,r,o[m],o[m+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(t,l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",i,r),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",o.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const i=e.width,r=e.height,o=this.ctx;this.save(t);const{filter:l}=o;l!=="none"&&l!==""&&(o.filter="none"),o.scale(1/i,-1/r);let u;if(e.bitmap)u=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)u=e;else{const m=this.cachedCanvases.getCanvas("inlineImage",i,r).context;Mx(m,e),u=this.applyTransferMapsToCanvas(m)}const d=this._scaleImage(u,si(o));o.imageSmoothingEnabled=Dx(se(o),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,o,0,i,-r,0).recordDependencies(t,Ln.imageXObject).recordOperation(t),Gc(o,d.img,0,0,d.paintWidth,d.paintHeight,0,-r,i,r),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,i){if(!this.contentVisible)return;const r=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const l=e.width,u=e.height,f=this.cachedCanvases.getCanvas("inlineImage",l,u).context;Mx(f,e),o=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(t);for(const l of i)r.save(),r.transform(...l.transform),r.scale(1,-1),Gc(r,o,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Ln.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,i){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,i){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,i){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const o=this.ctx;this.pendingClip?(r||(this.pendingClip===jx?o.clip(e,"evenodd"):o.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=se(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:r,d:o}=this.ctx.getTransform();let l,u;if(i===0&&r===0){const d=Math.abs(e),f=Math.abs(o);if(d===f)if(t===0)l=u=1/d;else{const m=d*t;l=u=m<1?1/m:1}else if(t===0)l=1/d,u=1/f;else{const m=d*t,p=f*t;l=m<1?1/m:1,u=p<1?1/p:1}}else{const d=Math.abs(e*o-i*r),f=Math.hypot(e,i),m=Math.hypot(r,o);if(t===0)l=m/d,u=f/d;else{const p=t*d;l=m>p?m/p:1,u=f>p?f/p:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:r}}=this,[o,l]=this.getScaleForStroking();if(o===l){i.lineWidth=(r||1)*o,i.stroke(t);return}const u=i.getLineDash();e&&i.save(),i.scale(o,l),Mf.a=1/o,Mf.d=1/l;const d=new Path2D;if(d.addPath(t,Mf),u.length>0){const f=Math.max(o,l);i.setLineDash(u.map(m=>m/f)),i.lineDashOffset/=f}i.lineWidth=r||1,i.stroke(d),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const a in dr)sr.prototype[a]!==void 0&&(sr.prototype[dr[a]]=sr.prototype[a]);class ar{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,i={};let r=0;for(const f of ar.strings){const m=e.encode(t[f]);i[f]=m,r+=4+m.length}const o=new ArrayBuffer(r),l=new Uint8Array(o),u=new DataView(o);let d=0;for(const f of ar.strings){const m=i[f],p=m.length;u.setUint32(d,p),l.set(m,d+4),d+=4+p}return kt(d===o.byteLength,"CssFontInfo.write: Buffer overflow"),o}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){kt(t<ar.strings.length,"Invalid string index");let e=0;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const i=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,i))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class rr{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,i={};let r=0;for(const b of rr.strings){const x=e.encode(t[b]);i[b]=x,r+=4+x.length}r+=4;let o,l,u=1+r;t.style&&(o=e.encode(t.style.style),l=e.encode(t.style.weight),u+=4+o.length+4+l.length);const d=new ArrayBuffer(u),f=new Uint8Array(d),m=new DataView(d);let p=0;m.setUint8(p++,t.guessFallback?1:0),m.setUint32(p,0),p+=4,r=0;for(const b of rr.strings){const x=i[b],w=x.length;r+=4+w,m.setUint32(p,w),f.set(x,p+4),p+=4+w}return m.setUint32(p-r-4,r),t.style&&(m.setUint32(p,o.length),f.set(o,p+4),p+=4+o.length,m.setUint32(p,l.length),f.set(l,p+4),p+=4+l.length),kt(p<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(p)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){kt(t<rr.strings.length,"Invalid string index");let e=5;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const i=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,i))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),i=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const r=this.#e.getUint32(t),o=this.#i.decode(new Uint8Array(this.#t,t+4,r));return{style:i,weight:o}}}class Gt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#r=this.#n+1+6;#s;#a;#o;constructor({data:t,extra:e}){this.#s=t,this.#a=new TextDecoder,this.#o=new DataView(this.#s),e&&Object.assign(this,e)}#c(t){kt(t<Gt.bools.length,"Invalid boolean index");const e=Math.floor(t/4),i=t*2%8,r=this.#o.getUint8(e)>>i&3;return r===0?void 0:r===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(t){return kt(t<Gt.numbers.length,"Invalid number index"),this.#o.getFloat64(Gt.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=Gt.#e;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let r=0;r<4;r++)i.push(this.#o.getInt16(t,!0)),t+=2;return i}get fontMatrix(){let t=Gt.#i;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let r=0;r<6;r++)i.push(this.#o.getFloat64(t,!0)),t+=8;return i}get defaultVMetrics(){let t=Gt.#n;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let r=0;r<3;r++)i.push(this.#o.getInt16(t,!0)),t+=2;return i}#d(t){kt(t<Gt.strings.length,"Invalid string index");let e=Gt.#r+4;for(let o=0;o<t;o++)e+=this.#o.getUint32(e)+4;const i=this.#o.getUint32(e),r=new Uint8Array(i);return r.set(new Uint8Array(this.#s,e+4,i)),this.#a.decode(r)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let t=Gt.#r;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const r=this.#o.getUint32(t);t+=4+r;const o=this.#o.getUint32(t);if(o!==0)return new Uint8Array(this.#s,t+4,o)}clearData(){let t=Gt.#r;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const r=this.#o.getUint32(t);t+=4+r;const o=this.#o.getUint32(t);new Uint8Array(this.#s,t+4,o).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=Gt.#r;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const r=this.#o.getUint32(t);if(r===0)return null;const o=new Uint8Array(r);return o.set(new Uint8Array(this.#s,t+4,r)),new ar(o.buffer)}get systemFontInfo(){let t=Gt.#r;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(this.#s,t+4,i)),new rr(r.buffer)}static write(t){const e=t.systemFontInfo?rr.write(t.systemFontInfo):null,i=t.cssFontInfo?ar.write(t.cssFontInfo):null,r=new TextEncoder,o={};let l=0;for(const A of Gt.strings)o[A]=r.encode(t[A]),l+=4+o[A].length;const u=Gt.#r+4+l+4+(e?e.byteLength:0)+4+(i?i.byteLength:0)+4+(t.data?t.data.length:0),d=new ArrayBuffer(u),f=new Uint8Array(d),m=new DataView(d);let p=0;const b=Gt.bools.length;let x=0,w=0;for(let A=0;A<b;A++){const T=t[Gt.bools[A]];x|=(T===void 0?0:T?2:1)<<w,w+=2,(w===8||A===b-1)&&(m.setUint8(p++,x),x=0,w=0)}kt(p===Gt.#t,"FontInfo.write: Boolean properties offset mismatch");for(const A of Gt.numbers)m.setFloat64(p,t[A]),p+=8;if(kt(p===Gt.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){m.setUint8(p++,4);for(const A of t.bbox)m.setInt16(p,A,!0),p+=2}else m.setUint8(p++,0),p+=8;if(kt(p===Gt.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){m.setUint8(p++,6);for(const A of t.fontMatrix)m.setFloat64(p,A,!0),p+=8}else m.setUint8(p++,0),p+=48;if(kt(p===Gt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){m.setUint8(p++,1);for(const A of t.defaultVMetrics)m.setInt16(p,A,!0),p+=2}else m.setUint8(p++,0),p+=6;kt(p===Gt.#r,"FontInfo.write: DefaultVMetrics properties offset mismatch"),m.setUint32(Gt.#r,0),p+=4;for(const A of Gt.strings){const T=o[A],E=T.length;m.setUint32(p,E),f.set(T,p+4),p+=4+E}if(m.setUint32(Gt.#r,p-Gt.#r-4),!e)m.setUint32(p,0),p+=4;else{const A=e.byteLength;m.setUint32(p,A),kt(p+4+A<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(e),p+4),p+=4+A}if(!i)m.setUint32(p,0),p+=4;else{const A=i.byteLength;m.setUint32(p,A),kt(p+4+A<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(i),p+4),p+=4+A}return t.data===void 0?(m.setUint32(p,0),p+=4):(m.setUint32(p,t.data.length),f.set(t.data,p+4),p+=4+t.data.length),kt(p<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(p)}}class bs{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class qk{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Ka=Symbol("INTERNAL");class Gk{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:i,usage:r,rbGroups:o}){this.#t=!!(t&bn.DISPLAY),this.#e=!!(t&bn.PRINT),this.name=e,this.intent=i,this.usage=r,this.rbGroups=o}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,i=!1){t!==Ka&&Kt("Internal method `_setVisible` called."),this.#i=i,this.#n=e}}class $k{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=bn.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const i of t.groups)this.#e.set(i.id,new Gk(e,i));if(t.baseState==="OFF")for(const i of this.#e.values())i._setVisible(Ka,!1);for(const i of t.on)this.#e.get(i)._setVisible(Ka,!0);for(const i of t.off)this.#e.get(i)._setVisible(Ka,!1);this.#i=this.getHash()}}#r(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let r=1;r<e;r++){const o=t[r];let l;if(Array.isArray(o))l=this.#r(o);else if(this.#e.has(o))l=this.#e.get(o).visible;else return St(`Optional content group not found: ${o}`),!0;switch(i){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return i==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return Cu("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(St(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#r(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return St(`Unknown optional content policy ${t.policy}.`),!0}return St(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){const r=this.#e.get(t);if(!r){St(`Optional content group not found: ${t}`);return}if(i&&e&&r.rbGroups.length)for(const o of r.rbGroups)for(const l of o)l!==t&&this.#e.get(l)?._setVisible(Ka,!1,!0);r._setVisible(Ka,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let i;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const o=this.#e.get(r);if(o)switch(i){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new vA;for(const[e,i]of this.#e)t.update(`${e}:${i.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class Xk{constructor(t,{disableRange:e=!1,disableStream:i=!1}){kt(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:l,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=u,o?.length>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),t.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(i),!0)});kt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){kt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new Yk(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new Wk(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class Yk{constructor(t,e,i=!1,r=null){this._stream=t,this._done=i||!1,this._filename=Nu(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Wk{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Kk(a){let t=!0,e=i("filename\\*","i").exec(a);if(e){e=e[1];let m=u(e);return m=unescape(m),m=d(m),m=f(m),o(m)}if(e=l(a),e){const m=f(e);return o(m)}if(e=i("filename","i").exec(a),e){e=e[1];let m=u(e);return m=f(m),o(m)}function i(m,p){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function r(m,p){if(m){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const b=new TextDecoder(m,{fatal:!0}),x=rl(p);p=b.decode(x),t=!1}catch{}}return p}function o(m){return t&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),t&&(m=r("iso-8859-1",m))),m}function l(m){const p=[];let b;const x=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=x.exec(m))!==null;){let[,A,T,E]=b;if(A=parseInt(A,10),A in p){if(A===0)break;continue}p[A]=[T,E]}const w=[];for(let A=0;A<p.length&&A in p;++A){let[T,E]=p[A];E=u(E),T&&(E=unescape(E),A===0&&(E=d(E))),w.push(E)}return w.join("")}function u(m){if(m.startsWith('"')){const p=m.slice(1).split('\\"');for(let b=0;b<p.length;++b){const x=p[b].indexOf('"');x!==-1&&(p[b]=p[b].slice(0,x),p.length=b+1),p[b]=p[b].replaceAll(/\\(.)/g,"$1")}m=p.join('"')}return m}function d(m){const p=m.indexOf("'");if(p===-1)return m;const b=m.slice(0,p),w=m.slice(p+1).replace(/^[^']*'/,"");return r(b,w)}function f(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,b,x,w){if(x==="q"||x==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,T){return String.fromCharCode(parseInt(T,16))}),r(b,w);try{w=atob(w)}catch{}return r(b,w)})}return""}function CA(a,t){const e=new Headers;if(!a||!t||typeof t!="object")return e;for(const i in t){const r=t[i];r!==void 0&&e.append(i,r)}return e}function Mu(a){return URL.parse(a)?.origin??null}function _A({responseHeaders:a,isHttp:t,rangeChunkSize:e,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(a.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*e)||i||!t||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function NA(a){const t=a.get("Content-Disposition");if(t){let e=Kk(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Nu(e))return e}return null}function hl(a,t){return new qo(`Unexpected server response (${a}) while retrieving PDF "${t}".`,a,a===404||a===0&&t.startsWith("file:"))}function MA(a){return a===200||a===206}function RA(a,t,e){return{method:"GET",headers:a,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function DA(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(St(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class Qk{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=CA(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return kt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Zk(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new Jk(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class Zk{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),r=e.url;fetch(r,RA(i,this._withCredentials,this._abortController)).then(o=>{if(t._responseOrigin=Mu(o.url),!MA(o.status))throw hl(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:u,suggestedLength:d}=_A({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=NA(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ui("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:DA(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class Jk{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${i-1}`);const l=r.url;fetch(l,RA(o,this._withCredentials,this._abortController)).then(u=>{const d=Mu(u.url);if(d!==t._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${t._responseOrigin}".`);if(!MA(u.status))throw hl(u.status,l);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:DA(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const Rf=200,Df=206;function tL(a){const t=a.response;return typeof t!="string"?t:rl(t).buffer}class eL{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=CA(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,l]of this.headers)e.setRequestHeader(o,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=Df):r.expectedStatus=Rf,e.responseType="arraybuffer",kt(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){const i=this.pendingRequests[t];i&&i.onProgress?.(e)}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){i.onError(r.status);return}const o=r.status||Rf;if(!(o===Rf&&i.expectedStatus===Df)&&o!==i.expectedStatus){i.onError(r.status);return}const u=tL(r);if(o===Df){const d=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?i.onDone({begin:parseInt(f[1],10),chunk:u}):(St('Missing or invalid "Content-Range" header.'),i.onError(0))}else u?i.onDone({begin:0,chunk:u}):i.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class nL{constructor(t){this._source=t,this._manager=new eL(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return kt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new iL(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new sL(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class iL{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Mu(e.responseURL);const i=e.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=_A({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=NA(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=hl(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class sL{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Mu(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=hl(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const aL=/^[a-z][a-z0-9\-+.]+:/i;function rL(a){if(aL.test(a))return new URL(a);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(a))}class oL{constructor(t){this.source=t,this.url=rL(t.url),kt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return kt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new lL(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new cL(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class lL{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=hl(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ui("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class cL{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Ao=Symbol("INITIAL_DATA");class jA{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Ao}}get(t,e=null){if(e){const r=this.#e(t);return r.promise.then(()=>e(r.data)),null}const i=this.#t[t];if(!i||i.data===Ao)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=this.#t[t];return!!e&&e.data!==Ao}delete(t){const e=this.#t[t];return!e||e.data===Ao?!1:(delete this.#t[t],!0)}resolve(t,e=null){const i=this.#e(t);i.data=e,i.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Ao&&(yield[t,e])}}}const uL=1e5,kx=30;let $o=class On{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#r=null;#s=null;#a=0;#o=0;#c=null;#l=null;#d=0;#h=0;#f=Object.create(null);#g=[];#m=null;#u=[];#p=new WeakMap;#y=null;static#b=new Map;static#v=new Map;static#T=new WeakMap;static#S=null;static#x=new Set;constructor({textContentSource:t,container:e,viewport:i}){if(t instanceof ReadableStream)this.#m=t;else if(typeof t=="object")this.#m=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=i.scale*Qn.pixelRatio,this.#d=i.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:o,pageX:l,pageY:u}=i.rawDims;this.#y=[1,0,0,-1,-l,u+o],this.#o=r,this.#a=o,On.#M(),Es(e,i),this.#t.promise.finally(()=>{On.#x.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Re.platform;return Ct(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:i})=>{if(i){this.#t.resolve();return}this.#r??=e.lang,Object.assign(this.#f,e.styles),this.#_(e.items),t()},this.#t.reject)};return this.#c=this.#m.getReader(),On.#x.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const i=t.scale*Qn.pixelRatio,r=t.rotation;if(r!==this.#d&&(e?.(),this.#d=r,Es(this.#l,{rotation:r})),i!==this.#h){e?.(),this.#h=i;const o={div:null,properties:null,ctx:On.#R(this.#r)};for(const l of this.#u)o.properties=this.#p.get(l),o.div=l,this.#E(o)}}cancel(){const t=new Ui("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#_(t){if(this.#i)return;this.#s.ctx??=On.#R(this.#r);const e=this.#u,i=this.#g;for(const r of t){if(e.length>uL){St("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id&&this.#e.setAttribute("id",`${r.id}`),o.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}i.push(r.str),this.#A(r)}}#A(t){const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const r=it.transform(this.#y,t.transform);let o=Math.atan2(r[1],r[0]);const l=this.#f[t.fontName];l.vertical&&(o+=Math.PI/2);let u=this.#n&&l.fontSubstitution||l.fontFamily;u=On.fontFamilyMap.get(u)||u;const d=Math.hypot(r[2],r[3]),f=d*On.#B(u,l,this.#r);let m,p;o===0?(m=r[4],p=r[5]-f):(m=r[4]+f*Math.sin(o),p=r[5]-f*Math.cos(o));const b="calc(var(--total-scale-factor) *",x=e.style;this.#e===this.#l?(x.left=`${(100*m/this.#o).toFixed(2)}%`,x.top=`${(100*p/this.#a).toFixed(2)}%`):(x.left=`${b}${m.toFixed(2)}px)`,x.top=`${b}${p.toFixed(2)}px)`),x.fontSize=`${b}${(On.#S*d).toFixed(2)}px)`,x.fontFamily=u,i.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),o!==0&&(i.angle=o*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const A=Math.abs(t.transform[0]),T=Math.abs(t.transform[3]);A!==T&&Math.max(A,T)/Math.min(A,T)>1.5&&(w=!0)}if(w&&(i.canvasWidth=l.vertical?t.height:t.width),this.#p.set(e,i),this.#s.div=e,this.#s.properties=i,this.#E(this.#s),i.hasText&&this.#e.append(e),i.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),this.#e.append(A)}}#E(t){const{div:e,properties:i,ctx:r}=t,{style:o}=e;let l="";if(On.#S>1&&(l=`scale(${1/On.#S})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:u}=o,{canvasWidth:d,fontSize:f}=i;On.#N(r,f*this.#h,u);const{width:m}=r.measureText(e.textContent);m>0&&(l=`scaleX(${d*this.#h/m}) ${l}`)}i.angle!==0&&(l=`rotate(${i.angle}deg) ${l}`),l.length>0&&(o.transform=l)}static cleanup(){if(!(this.#x.size>0)){this.#b.clear();for(const{canvas:t}of this.#v.values())t.remove();this.#v.clear()}}static#R(t=null){let e=this.#v.get(t||="");if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#v.set(t,e),this.#T.set(e,{size:0,family:""})}return e}static#N(t,e,i){const r=this.#T.get(t);e===r.size&&i===r.family||(t.font=`${e}px ${i}`,r.size=e,r.family=i)}static#M(){if(this.#S!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#S=t.getBoundingClientRect().height,t.remove()}static#B(t,e,i){const r=this.#b.get(t);if(r)return r;const o=this.#R(i);o.canvas.width=o.canvas.height=kx,this.#N(o,kx,t);const l=o.measureText(""),u=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let f=.8;return u?f=u/(u+d):(Re.platform.isFirefox&&St("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#b.set(t,f),f}};const hL=100;function mp(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const t=new pp,{docId:e}=t,i=a.url?bk(a.url):null,r=a.data?xk(a.data):null,o=a.httpHeaders||null,l=a.withCredentials===!0,u=a.password??null,d=a.range instanceof gp?a.range:null,f=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:2**16;let m=a.worker instanceof fr?a.worker:null;const p=a.verbosity,b=typeof a.docBaseUrl=="string"&&!ll(a.docBaseUrl)?a.docBaseUrl:null,x=Uc(a.cMapUrl),w=a.cMapPacked!==!1,A=a.CMapReaderFactory||(Xe?_k:bx),T=Uc(a.iccUrl),E=Uc(a.standardFontDataUrl),_=a.StandardFontDataFactory||(Xe?Nk:xx),N=Uc(a.wasmUrl),R=a.WasmFactory||(Xe?Mk:wx),D=a.stopAtErrors!==!0,L=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,P=a.isEvalSupported!==!1,F=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!Xe,H=typeof a.isImageDecoderSupported=="boolean"?a.isImageDecoderSupported:!Xe&&(Re.platform.isFirefox||!globalThis.chrome),Y=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,J=typeof a.disableFontFace=="boolean"?a.disableFontFace:Xe,at=a.fontExtraProperties===!0,ft=a.enableXfa===!0,rt=a.ownerDocument||globalThis.document,vt=a.disableRange===!0,B=a.disableStream===!0,V=a.disableAutoFetch===!0,Q=a.pdfBug===!0,lt=a.CanvasFactory||(Xe?Ck:Sk),xt=a.FilterFactory||(Xe?Tk:Ek),k=a.enableHWA===!0,$=a.useWasm!==!1,Z=d?d.length:a.length??NaN,et=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!Xe&&!J,dt=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:!!(A===bx&&_===xx&&R===wx&&x&&E&&N&&_o(x,document.baseURI)&&_o(E,document.baseURI)&&_o(N,document.baseURI)),gt=null;tk(p);const ut={canvasFactory:new lt({ownerDocument:rt,enableHWA:k}),filterFactory:new xt({docId:e,ownerDocument:rt}),cMapReaderFactory:dt?null:new A({baseUrl:x,isCompressed:w}),standardFontDataFactory:dt?null:new _({baseUrl:E}),wasmFactory:dt?null:new R({baseUrl:N})};m||(m=fr.create({verbosity:p,port:bs.workerPort}),t._worker=m);const $t={docId:e,apiVersion:"5.4.296",data:r,password:u,disableAutoFetch:V,rangeChunkSize:f,length:Z,docBaseUrl:b,enableXfa:ft,evaluatorOptions:{maxImageSize:L,disableFontFace:J,ignoreErrors:D,isEvalSupported:P,isOffscreenCanvasSupported:F,isImageDecoderSupported:H,canvasMaxAreaInBytes:Y,fontExtraProperties:at,useSystemFonts:et,useWasm:$,useWorkerFetch:dt,cMapUrl:x,iccUrl:T,standardFontDataUrl:E,wasmUrl:N}},Pt={ownerDocument:rt,pdfBug:Q,styleElement:gt,loadingParams:{disableAutoFetch:V,enableXfa:ft}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const qe=m.messageHandler.sendWithPromise("GetDocRequest",$t,r?[r.buffer]:null);let zt;if(d)zt=new Xk(d,{disableRange:vt,disableStream:B});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const ln=_o(i)?Qk:Xe?oL:nL;zt=new ln({url:i,length:Z,httpHeaders:o,withCredentials:l,rangeChunkSize:f,disableRange:vt,disableStream:B})}return qe.then(ln=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Xt=new No(e,ln,m.port),Lt=new mL(Xt,t,zt,Pt,ut,k);t._transport=Lt,Xt.send("Ready",null)})}).catch(t._capability.reject),t}class pp{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${pp.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let gp=class{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#r=[];constructor(t,e,i=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(t){this.#r.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const i of this.#r)i(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const i of this.#n)i(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Kt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class dL{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class fL{#t=!1;constructor(t,e,i,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=r?new dx:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new jA,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:o=!1}={}){return new ol({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:i,intent:r="display",annotationMode:o=ci.ENABLE,transform:l=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:m=null,printAnnotationStorage:p=null,isEditing:b=!1,recordOperations:x=!1,operationsFilter:w=null}){this._stats?.time("Overall");const A=this._transport.getRenderingIntent(r,o,p,b),{renderingIntent:T,cacheKey:E}=A;this.#t=!1,d||=this._transport.getOptionalContentConfig(T);let _=this._intentStates.get(E);_||(_=Object.create(null),this._intentStates.set(E,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const N=!!(T&bn.PRINT);_.displayReadyCapability||(_.displayReadyCapability=Promise.withResolvers(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(A));const R=!!(this._pdfBug&&globalThis.StepperManager?.enabled),D=!this.recordedBBoxes&&(x||R),L=H=>{if(_.renderTasks.delete(P),D){const Y=P.gfx?.dependencyTracker.take();Y&&(P.stepper&&P.stepper.setOperatorBBoxes(Y,P.gfx.dependencyTracker.takeDebugMetadata()),x&&(this.recordedBBoxes=Y))}N&&(this.#t=!0),this.#e(),H?(P.capability.reject(H),this._abortOperatorList({intentState:_,reason:H instanceof Error?H:new Error(H)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new nr({callback:L,params:{canvas:e,canvasContext:t,dependencyTracker:D?new Dk(e,_.operatorList.length,R):null,viewport:i,transform:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!N,pdfBug:this._pdfBug,pageColors:m,enableHWA:this._transport.enableHWA,operationsFilter:w});(_.renderTasks||=new Set).add(P);const F=P.task;return Promise.all([_.displayReadyCapability.promise,d]).then(([H,Y])=>{if(this.destroyed){L();return}if(this._stats?.time("Rendering"),!(Y.renderingIntent&T))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:H,optionalContentConfig:Y}),P.operatorListChanged()}).catch(L),F}getOperatorList({intent:t="display",annotationMode:e=ci.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){function o(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(t,e,i,r,!0);let u=this._intentStates.get(l.cacheKey);u||(u=Object.create(null),this._intentStates.set(l.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Go.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,r){function o(){l.read().then(function({value:d,done:f}){if(f){i(u);return}u.lang??=d.lang,Object.assign(u.styles,d.styles),u.items.push(...d.items),o()},r)}const l=e.getReader(),u={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new dx),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const i=this._intentStates.get(e);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let i=0,r=t.length;i<r;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:r}){const{map:o,transfer:l}=i,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:r},l).getReader(),f=this._intentStates.get(e);f.streamReader=d;const m=()=>{d.read().then(({value:p,done:b})=>{if(b){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,f),m())},p=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const b of f.renderTasks)b.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(p);else if(f.opListReadCapability)f.opListReadCapability.reject(p);else throw p}})};m()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof _u){let r=hL;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Ui(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var gs,Wn,Li,Js,yu,ta,ea,Ke,eu,kA,LA,Mo,cr,nu;const ie=class ie{constructor({name:t=null,port:e=null,verbosity:i=ek()}={}){ni(this,Ke);ni(this,gs,Promise.withResolvers());ni(this,Wn,null);ni(this,Li,null);ni(this,Js,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(ne(ie,ea).has(e))throw new Error("Cannot use more than one PDFWorker per port.");ne(ie,ea).set(e,this),ii(this,Ke,kA).call(this,e)}else ii(this,Ke,LA).call(this)}get promise(){return ne(this,gs).promise}get port(){return ne(this,Li)}get messageHandler(){return ne(this,Wn)}destroy(){this.destroyed=!0,ne(this,Js)?.terminate(),an(this,Js,null),ne(ie,ea).delete(ne(this,Li)),an(this,Li,null),ne(this,Wn)?.destroy(),an(this,Wn,null)}static create(t){const e=ne(this,ea).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new ie(t)}static get workerSrc(){if(bs.workerSrc)return bs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ct(this,"_setupFakeWorkerGlobal",(async()=>ne(this,cr,nu)?ne(this,cr,nu):(await import(this.workerSrc)).WorkerMessageHandler)())}};gs=new WeakMap,Wn=new WeakMap,Li=new WeakMap,Js=new WeakMap,yu=new WeakMap,ta=new WeakMap,ea=new WeakMap,Ke=new WeakSet,eu=function(){ne(this,gs).resolve(),ne(this,Wn).send("configure",{verbosity:this.verbosity})},kA=function(t){an(this,Li,t),an(this,Wn,new No("main","worker",t)),ne(this,Wn).on("ready",()=>{}),ii(this,Ke,eu).call(this)},LA=function(){if(ne(ie,ta)||ne(ie,cr,nu)){ii(this,Ke,Mo).call(this);return}let{workerSrc:t}=ie;try{ie._isSameOrigin(window.location,t)||(t=ie._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new No("main","worker",e),r=()=>{o.abort(),i.destroy(),e.terminate(),this.destroyed?ne(this,gs).reject(new Error("Worker was destroyed")):ii(this,Ke,Mo).call(this)},o=new AbortController;e.addEventListener("error",()=>{ne(this,Js)||r()},{signal:o.signal}),i.on("test",u=>{if(o.abort(),this.destroyed||!u){r();return}an(this,Wn,i),an(this,Li,e),an(this,Js,e),ii(this,Ke,eu).call(this)}),i.on("ready",u=>{if(o.abort(),this.destroyed){r();return}try{l()}catch{ii(this,Ke,Mo).call(this)}});const l=()=>{const u=new Uint8Array;i.send("test",u,[u.buffer])};l();return}catch{Cu("The worker has been disabled.")}ii(this,Ke,Mo).call(this)},Mo=function(){ne(ie,ta)||(St("Setting up fake worker."),an(ie,ta,!0)),ie._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){ne(this,gs).reject(new Error("Worker was destroyed"));return}const e=new Ak;an(this,Li,e);const i=`fake${wv(ie,yu)._++}`,r=new No(i+"_worker",i,e);t.setup(r,e),an(this,Wn,new No(i,i+"_worker",e)),ii(this,Ke,eu).call(this)}).catch(t=>{ne(this,gs).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},cr=new WeakSet,nu=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},ni(ie,cr),ni(ie,yu,0),ni(ie,ta,!1),ni(ie,ea,new WeakMap),Xe&&(an(ie,ta,!0),bs.workerSrc||="./pdf.worker.mjs"),ie._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!i?.origin||i.origin==="null")return!1;const r=new URL(e,i);return i.origin===r.origin},ie._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},ie.fromPort=t=>{if(uk("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return ie.create(t)};let fr=ie;class mL{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#r=null;constructor(t,e,i,r,o,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new jA,this.fontLoader=new yk({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#s(t,e=null){const i=this.#t.get(t);if(i)return i;const r=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,r),r}get annotationStorage(){return Ct(this,"annotationStorage",new up)}getRenderingIntent(t,e=ci.ENABLE,i=null,r=!1,o=!1){let l=bn.DISPLAY,u=om;switch(t){case"any":l=bn.ANY;break;case"display":break;case"print":l=bn.PRINT;break;default:St(`getRenderingIntent - invalid intent: ${t}`)}const d=l&bn.PRINT&&i instanceof bA?i:this.annotationStorage;switch(e){case ci.DISABLE:l+=bn.ANNOTATIONS_DISABLE;break;case ci.ENABLE:break;case ci.ENABLE_FORMS:l+=bn.ANNOTATIONS_FORMS;break;case ci.ENABLE_STORAGE:l+=bn.ANNOTATIONS_STORAGE,u=d.serializable;break;default:St(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(l+=bn.IS_EDITING),o&&(l+=bn.OPLIST);const{ids:f,hash:m}=d.modifiedIds,p=[l,u.hash,m];return{renderingIntent:l,cacheKey:p.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of this.#e.values())t.push(i._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),$o.cleanup(),this._networkStream?.cancelAllRequests(new Ui("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,r)=>{kt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){r.close();return}kt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async i=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:l}=this._fullReader;return(!r||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=u=>{e.onProgress?.({loaded:u.loaded,total:u.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:l}}),t.on("GetRangeReader",(i,r)=>{kt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(i.begin,i.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:l,done:u}){if(u){r.close();return}kt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{o.cancel(l),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new dL(i,this))}),t.on("DocException",i=>{e._capability.reject(rn(i))}),t.on("PasswordRequest",i=>{this.#r=Promise.withResolvers();try{if(!e.onPassword)throw rn(i);const r=o=>{o instanceof Error?this.#r.reject(o):this.#r.resolve({password:o})};e.onPassword(r,i.code)}catch(r){this.#r.reject(r)}return this.#r.promise}),t.on("DataLoaded",i=>{e.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;this.#e.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,r,o])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in o){const m=o.error;St(`Error during font loading: ${m}`),this.commonObjs.resolve(i,m);break}const l=new Gt(o),u=this._params.pdfBug&&globalThis.FontInspector?.enabled?(m,p)=>globalThis.FontInspector.fontAdded(m,p):null,d=new vk(l,u,o.extra,o.charProcOperatorList);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=o;kt(f,"The imageRef must be defined.");for(const m of this.#e.values())for(const[,p]of m.objs)if(p?.ref===f)return p.dataLen?(this.commonObjs.resolve(i,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([i,r,o,l])=>{if(this.destroyed)return;const u=this.#e.get(r);if(!u.objs.has(i)){if(u._intentStates.size===0){l?.bitmap?.close();return}switch(o){case"Image":case"Pattern":u.objs.resolve(i,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",i=>{this.destroyed||e.onProgress?.({loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&St("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=this.#i.get(e);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#n.set(o.refStr,t);const l=new fL(e,o,this,this._params.pdfBug);return this.#e.set(e,l),l});return this.#i.set(e,r),r}getPageIndex(t){return lm(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new $k(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new qk(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),$o.cleanup()}}cachedPageNumber(t){if(!lm(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class pL{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class nr{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:i,commonObjs:r,annotationCanvasMap:o,operatorList:l,pageIndex:u,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:m=!1,pdfBug:p=!1,pageColors:b=null,enableHWA:x=!1,operationsFilter:w=null}){this.callback=t,this.params=e,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=p,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new pL(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=x,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(nr.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");nr.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:o,dependencyTracker:l}=this.params,u=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new sr(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:r,viewport:i,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),nr.#e.delete(this._canvas),t||=new _u(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),nr.#e.delete(this._canvas),this.callback())))}}const yp="5.4.296",PA="f56dc8601";class xn{#t=null;#e=null;#i;#n=null;#r=!1;#s=!1;#a=null;#o;#c=null;#l=null;static#d=null;static get _keyboardManager(){return Ct(this,"_keyboardManager",new cl([[["Escape","mac+Escape"],xn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],xn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],xn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],xn.prototype._moveToPrevious],[["Home","mac+Home"],xn.prototype._moveToBeginning],[["End","mac+End"],xn.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#a=t):this.#s=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",xn.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#a&&(t.ariaControls=`${this.#a.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#m.bind(this),{signal:e}),t.addEventListener("keydown",this.#g.bind(this),{signal:e});const i=this.#e=document.createElement("span");return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=this.#i,t.append(i),t}renderMainDropdown(){const t=this.#n=this.#h();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#h(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",An,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#a&&(t.id=`${this.#a.id}_colorpicker_dropdown`);for(const[i,r]of this.#l.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=i,o.setAttribute("data-l10n-id",xn.#d[i]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=r,o.ariaSelected=r===this.#i,o.addEventListener("click",this.#f.bind(this,r),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#g.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Dt.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#m(t);return}const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){if(!this.#p){this.#m(t);return}if(t.target===this.#t){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#t){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#m(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#p){this.#m(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#p){this.#m(t);return}this.#n.lastChild?.focus()}#g(t){xn._keyboardManager.exec(this,t)}#m(t){if(this.#p){this.hideDropdown();return}if(this.#r=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#h();this.#t.append(e)}#u(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#p){this.#a?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#r})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const i of this.#n.children)i.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class Xo{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,Xo.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,colorValue:i}=this.#e,r=this.#t=document.createElement("input");return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",Xo.#n[t]),r.addEventListener("input",()=>{this.#i.updateParams(e,r.value)},{signal:this.#i._signal}),r}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function Lx(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function So(a){return Math.max(0,Math.min(255,255*a))}class Px{static CMYK_G([t,e,i,r]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=So(t),[t,t,t]}static G_HTML([t]){const e=Lx(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(So)}static RGB_HTML(t){return`#${t.map(Lx).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,i,r]){return[So(1-Math.min(1,t+r)),So(1-Math.min(1,i+r)),So(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const r=1-t,o=1-e,l=1-i,u=Math.min(r,o,l);return["CMYK",r,o,l,u]}}class gL{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Kt("Abstract method `_createSVG` called.")}}class Yo extends gL{_createSVG(t){return document.createElementNS(ki,t)}}const yL=9,sa=new WeakSet,vL=new Date().getTimezoneOffset()*60*1e3;class Ox{static create(t){switch(t.data.annotationType){case me.LINK:return new vp(t);case me.TEXT:return new xL(t);case me.WIDGET:switch(t.data.fieldType){case"Tx":return new wL(t);case"Btn":return t.data.radioButton?new OA(t):t.data.checkBox?new SL(t):new EL(t);case"Ch":return new TL(t);case"Sig":return new AL(t)}return new la(t);case me.POPUP:return new hm(t);case me.FREETEXT:return new BA(t);case me.LINE:return new _L(t);case me.SQUARE:return new NL(t);case me.CIRCLE:return new ML(t);case me.POLYLINE:return new FA(t);case me.CARET:return new DL(t);case me.INK:return new bp(t);case me.POLYGON:return new RL(t);case me.HIGHLIGHT:return new zA(t);case me.UNDERLINE:return new jL(t);case me.SQUIGGLY:return new kL(t);case me.STRIKEOUT:return new LL(t);case me.STAMP:return new IA(t);case me.FILEATTACHMENT:return new PL(t);default:return new le(t)}}}class le{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return le._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:i,rect:r}=this.data;let o=-1/0,l=-1/0;if(e?.length>=8){for(let u=0;u<e.length;u+=8)e[u+1]>l?(l=e[u+1],o=e[u+2]):e[u+1]===l&&(o=Math.max(o,e[u+2]));return[o,l]}if(i?.length>=1){for(const u of i)for(let d=0,f=u.length;d<f;d+=2)u[d+1]>l?(l=u[d+1],o=u[d]):u[d+1]===l&&(o=Math.max(o,u[d]));if(o!==1/0)return[o,l]}return r?[r[2],r[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:o,pageY:l}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-o)/i,t[1]=100*(t[1]-l)/r,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${Ho}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,i={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:i})||this.annotationStorage.setValue(`${Ho}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:i}=t;e&&this.#n(e);let r=this.#i?.popup||this.popup;!r&&i?.text&&(this._createPopup(i),r=this.#i.popup),r&&(r.updateEdited(t),i?.deleted&&(r.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:u,pageY:d}}}}=this;i?.splice(0,4,...t),e.left=`${100*(t[0]-u)/o}%`,e.top=`${100*(l-t[3]+d)/l}%`,r===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:i,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),!(this instanceof la)&&!(this instanceof vp)&&(o.tabIndex=0);const{style:l}=o;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof hm){const{rotation:A}=e;return!e.hasOwnCanvas&&A!==0&&this.setRotation(A,o),o}const{width:u,height:d}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const A=e.borderStyle.horizontalCornerRadius,T=e.borderStyle.verticalCornerRadius;if(A>0||T>0){const _=`calc(${A}px * var(--total-scale-factor)) / calc(${T}px * var(--total-scale-factor))`;l.borderRadius=_}else if(this instanceof OA){const _=`calc(${u}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=_}switch(e.borderStyle.style){case Wa.SOLID:l.borderStyle="solid";break;case Wa.DASHED:l.borderStyle="dashed";break;case Wa.BEVELED:St("Unimplemented border style: beveled");break;case Wa.INSET:St("Unimplemented border style: inset");break;case Wa.UNDERLINE:l.borderBottomStyle="solid";break}const E=e.borderColor||null;E?(this.#e=!0,l.borderColor=it.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):l.borderWidth=0}const f=it.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:m,pageHeight:p,pageX:b,pageY:x}=r.rawDims;l.left=`${100*(f[0]-b)/m}%`,l.top=`${100*(f[1]-x)/p}%`;const{rotation:w}=e;return e.hasOwnCanvas||w===0?(l.width=`${100*u/m}%`,l.height=`${100*d/p}%`):this.setRotation(w,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:o,height:l}=this;t%180!==0&&([o,l]=[l,o]),e.style.width=`${100*o/i}%`,e.style.height=`${100*l/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,r)=>{const o=r.detail[e],l=o[0],u=o.slice(1);r.target.style[i]=Px[`${l}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[i]:Px[`${l}_rgb`](u)})};return Ct(this,"_commonActions",{display:e=>{const{display:i}=e.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const r of Object.keys(e.detail))(t[r]||i[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[r,o]of Object.entries(e)){const l=i[r];if(l){const u={detail:{[r]:o},target:t};l(u),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,r,o]=this.data.rect.map(A=>Math.fround(A));if(t.length===8){const[A,T,E,_]=t.subarray(2,6);if(r===A&&o===T&&e===E&&i===_)return}const{style:l}=this.container;let u;if(this.#e){const{borderColor:A,borderWidth:T}=l;l.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${A}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}const d=r-e,f=o-i,{svgFactory:m}=this,p=m.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const b=m.createElement("defs");p.append(b);const x=m.createElement("clipPath"),w=`clippath_${this.data.id}`;x.setAttribute("id",w),x.setAttribute("clipPathUnits","objectBoundingBox"),b.append(x);for(let A=2,T=t.length;A<T;A+=8){const E=t[A],_=t[A+1],N=t[A+2],R=t[A+3],D=m.createElement("rect"),L=(N-e)/d,P=(o-_)/f,F=(E-N)/d,H=(_-R)/f;D.setAttribute("x",L),D.setAttribute("y",P),D.setAttribute("width",F),D.setAttribute("height",H),x.append(D),u?.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${P}" width="${F}" height="${H}"/>`)}this.#e&&(u.push("</g></svg>')"),l.backgroundImage=u.join("")),this.container.append(p),this.container.style.clipPath=`url(#${w})`}_createPopup(t=null){const{data:e}=this;let i,r;t?(i={str:t.text},r=t.date):(i=e.contentsObj,r=e.modificationDate);const o=this.#i=new hm({data:{color:e.color,titleObj:e.titleObj,modificationDate:r,contentsObj:i,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(o.render())}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){Kt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:o,id:l,exportValues:u}of r){if(o===-1||l===e)continue;const d=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!sa.has(f)){St(`_getElementsByName - element not allowed: ${l}`);continue}i.push({id:l,exportValue:d,domElement:f})}return i}for(const r of document.getElementsByName(t)){const{exportValue:o}=r,l=r.getAttribute("data-element-id");l!==e&&sa.has(r)&&i.push({id:l,exportValue:o,domElement:r})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class bL extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class vp extends le{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(i,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),r=!0):t.attachment?(this.#e(i,t.attachment,t.overlaidText,t.attachmentDest),r=!0):t.setOCGState?(this.#i(i,t.setOCGState,t.overlaidText),r=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),r=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,i=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),i&&(t.title=i)}_bindNamedAction(t,e,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),i&&(t.title=i),this.#t()}#e(t,e,i="",r=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:i&&(t.title=i),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,r),!1),this.#t()}#i(t,e,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),i&&(t.title=i),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const o=i.get(r);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){St('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{i?.();const{fields:r,refs:o,include:l}=e,u=[];if(r.length!==0||o.length!==0){const m=new Set(o);for(const p of r){const b=this._fieldObjects[p]||[];for(const{id:x}of b)m.add(x)}for(const p of Object.values(this._fieldObjects))for(const b of p)m.has(b.id)===l&&u.push(b)}else for(const m of Object.values(this._fieldObjects))u.push(...m);const d=this.annotationStorage,f=[];for(const m of u){const{id:p}=m;switch(f.push(p),m.type){case"text":{const x=m.defaultValue||"";d.setValue(p,{value:x});break}case"checkbox":case"radiobutton":{const x=m.defaultValue===m.exportValues;d.setValue(p,{value:x});break}case"combobox":case"listbox":{const x=m.defaultValue||"";d.setValue(p,{value:x});break}default:continue}const b=document.querySelector(`[data-element-id="${p}"]`);if(b){if(!sa.has(b)){St(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class xL extends le{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class la extends le{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Re.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,r,o){i.includes("mouse")?t.addEventListener(i,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(i,l=>{if(i==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l)}})})}_setEventListeners(t,e,i,r){for(const[o,l]of i)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,l,r),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":it.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||yL,o=t.style;let l;const u=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),m=Math.round(f/(Ef*r))||1,p=f/m;l=Math.min(r,d(p/Ef))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);l=Math.min(r,d(f/Ef))}o.fontSize=`calc(${l}px * var(--total-scale-factor))`,o.color=it.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class wL extends la{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,r){const o=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=i),o.setValue(l.id,{[r]:i})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let o=r.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=r.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),sa.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:f,datetimeType:m,timeStep:p}=this.data,b=!!m&&this.enableScripting;f&&(i.title=f),this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",w=>{t.setValue(e,{value:w.target.value}),this.setPropertyOnSiblings(i,"value",w.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",w=>{const A=this.data.defaultFieldValue??"";i.value=d.userValue=A,d.formattedValue=null});let x=w=>{const{formattedValue:A}=d;A!=null&&(w.target.value=A),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",A=>{if(d.focused)return;const{target:T}=A;if(b&&(T.type=m,p&&(T.step=p)),d.userValue){const E=d.userValue;if(b)if(m==="time"){const _=new Date(E),N=[_.getHours(),_.getMinutes(),_.getSeconds()];T.value=N.map(R=>R.toString().padStart(2,"0")).join(":")}else T.value=new Date(E-vL).toISOString().split(m==="date"?"T":".",1)[0];else T.value=E}d.lastCommittedValue=T.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const T={value(E){d.userValue=E.detail.value??"",b||t.setValue(e,{value:d.userValue.toString()}),E.target.value=d.userValue},formattedValue(E){const{formattedValue:_}=E.detail;d.formattedValue=_,_!=null&&E.target!==document.activeElement&&(E.target.value=_);const N={formattedValue:_};b&&(N.value=_),t.setValue(e,N)},selRange(E){E.target.setSelectionRange(...E.detail.selRange)},charLimit:E=>{const{charLimit:_}=E.detail,{target:N}=E;if(_===0){N.removeAttribute("maxLength");return}N.setAttribute("maxLength",_);let R=d.userValue;!R||R.length<=_||(R=R.slice(0,_),N.value=d.userValue=R,t.setValue(e,{value:R}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:R,willCommit:!0,commitKey:1,selStart:N.selectionStart,selEnd:N.selectionEnd}}))}};this._dispatchEventFromSandbox(T,A)}),i.addEventListener("keydown",A=>{d.commitKey=1;let T=-1;if(A.key==="Escape"?T=0:A.key==="Enter"&&!this.data.multiLine?T=2:A.key==="Tab"&&(d.commitKey=3),T===-1)return;const{value:E}=A.target;d.lastCommittedValue!==E&&(d.lastCommittedValue=E,d.userValue=E,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:T,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const w=x;x=null,i.addEventListener("blur",A=>{if(!d.focused||!A.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:T}=A;let{value:E}=T;if(b){if(E&&m==="time"){const _=E.split(":").map(N=>parseInt(N,10));E=new Date(2e3,0,1,_[0],_[1],_[2]||0).valueOf(),T.step=""}else E.includes("T")||(E=`${E}T00:00`),E=new Date(E).valueOf();T.type="text"}d.userValue=E,d.lastCommittedValue!==E&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:d.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}),w(A)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",A=>{d.lastCommittedValue=null;const{data:T,target:E}=A,{value:_,selectionStart:N,selectionEnd:R}=E;let D=N,L=R;switch(A.inputType){case"deleteWordBackward":{const P=_.substring(0,N).match(/\w*[^\w]*$/);P&&(D-=P[0].length);break}case"deleteWordForward":{const P=_.substring(N).match(/^[^\w]*\w*/);P&&(L+=P[0].length);break}case"deleteContentBackward":N===R&&(D-=1);break;case"deleteContentForward":N===R&&(L+=1);break}A.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:_,change:T||"",willCommit:!1,selStart:D,selEnd:L}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(x&&i.addEventListener("blur",x),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${A}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class AL extends la{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class SL extends la{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return sa.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,i)){const m=d&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=m),t.setValue(f.id,{value:m})}t.setValue(i,{value:d})}),o.addEventListener("resetform",l=>{const u=e.defaultFieldValue||"Off";l.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const u={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(i,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class OA extends la{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(i,{value:r})),r)for(const l of this._getElementsByName(e.fieldName,i))t.setValue(l.id,{value:!1});const o=document.createElement("input");if(sa.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,i))t.setValue(f.id,{value:!1});t.setValue(i,{value:d})}),o.addEventListener("resetform",l=>{const u=e.defaultFieldValue;l.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;o.addEventListener("updatefromsandbox",u=>{const d={value:f=>{const m=l===f.detail.value;for(const p of this._getElementsByName(f.target.name)){const b=m&&p.id===i;p.domElement&&(p.domElement.checked=b),t.setValue(p.id,{value:b})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class EL extends vp{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class TL extends la{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");sa.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const p=this.data.defaultFieldValue;for(const b of r.options)b.selected=b.value===p});for(const m of this.data.options){const p=document.createElement("option");p.textContent=m.displayValue,p.value=m.exportValue,i.value.includes(m.exportValue)&&(p.setAttribute("selected",!0),o=!1),r.append(p)}let l=null;if(o){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),l=()=>{m.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const u=m=>{const p=m?"value":"textContent",{options:b,multiple:x}=r;return x?Array.prototype.filter.call(b,w=>w.selected).map(w=>w[p]):b.selectedIndex===-1?null:b[b.selectedIndex][p]};let d=u(!1);const f=m=>{const p=m.target.options;return Array.prototype.map.call(p,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const p={value(b){l?.();const x=b.detail.value,w=new Set(Array.isArray(x)?x:[x]);for(const A of r.options)A.selected=w.has(A.value);t.setValue(e,{value:u(!0)}),d=u(!1)},multipleSelection(b){r.multiple=!0},remove(b){const x=r.options,w=b.detail.remove;x[w].selected=!1,r.remove(w),x.length>0&&Array.prototype.findIndex.call(x,T=>T.selected)===-1&&(x[0].selected=!0),t.setValue(e,{value:u(!0),items:f(b)}),d=u(!1)},clear(b){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),d=u(!1)},insert(b){const{index:x,displayValue:w,exportValue:A}=b.detail.insert,T=r.children[x],E=document.createElement("option");E.textContent=w,E.value=A,T?T.before(E):r.append(E),t.setValue(e,{value:u(!0),items:f(b)}),d=u(!1)},items(b){const{items:x}=b.detail;for(;r.length!==0;)r.remove(0);for(const w of x){const{displayValue:A,exportValue:T}=w,E=document.createElement("option");E.textContent=A,E.value=T,r.append(E)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:u(!0),items:f(b)}),d=u(!1)},indices(b){const x=new Set(b.detail.indices);for(const w of b.target.options)w.selected=x.has(w.index);t.setValue(e,{value:u(!0)}),d=u(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(p,m)}),r.addEventListener("input",m=>{const p=u(!0),b=u(!1);t.setValue(e,{value:p}),m.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:b,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class hm extends le{constructor(t){const{data:e,elements:i,parent:r}=t,o=!!r._commentManager;if(super(t,{isRenderable:!o&&le._hasPopupData(e)}),this.elements=i,o&&le._hasPopupData(e)){const l=this.popup=this.#t();for(const u of i)u.popup=l}else this.popup=null}#t(){return new CL({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),i=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",i.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(r=>`${ap}${r}`).join(",")),this.container}}class CL{#t=null;#e=this.#q.bind(this);#i=this.#z.bind(this);#n=this.#k.bind(this);#r=this.#w.bind(this);#s=null;#a=null;#o=null;#c=null;#l=null;#d=null;#h=null;#f=!1;#g=null;#m=null;#u=null;#p=null;#y=null;#b=null;#v=null;#T=null;#S=null;#x=null;#_=!1;#A=null;#E=null;constructor({container:t,color:e,elements:i,titleObj:r,modificationDate:o,contentsObj:l,richText:u,parent:d,rect:f,parentRect:m,open:p,commentManager:b=null}){this.#a=t,this.#S=r,this.#o=l,this.#T=u,this.#d=d,this.#s=e,this.#v=f,this.#h=m,this.#l=i,this.#t=b,this.#A=i[0],this.#c=mu.toDateObject(o),this.trigger=i.flatMap(x=>x.getElementsToTriggerPopup()),b?this.renderCommentButton():(this.#R(),this.#a.hidden=!0,p&&this.#w())}#R(){if(this.#m)return;this.#m=new AbortController;const{signal:t}=this.#m;for(const e of this.trigger)e.addEventListener("click",this.#r,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#N(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#y=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#p||(this.#y||this.#N(),!this.#y))return;const{signal:t}=this.#m=new AbortController,e=!!this.#A.extraPopupElement,i=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},r=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},o=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#p=this.#A.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",i,{signal:t}),l.addEventListener("pointerenter",r,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),l.classList.add("popupTriggerArea")}else{const l=this.#p=document.createElement("button");l.className="annotationCommentButton";const u=this.#A.container;l.style.zIndex=u.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#B(),this.#M(),l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",i,{signal:t}),l.addEventListener("pointerenter",r,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),u.after(l)}}#M(){if(this.#A.extraPopupElement&&!this.#A.editor)return;this.renderCommentButton();const[t,e]=this.#y,{style:i}=this.#p;i.left=`calc(${t}%)`,i.top=`calc(${e}% - var(--comment-button-dim))`}#B(){this.#A.extraPopupElement||(this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#A.commentData;return t?this.#d._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:t,color:e,opacity:i,creationDate:r,modificationDate:o}=this.#A.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:i,creationDate:r,modificationDate:o}}get elementBeforePopup(){return this.#p}get comment(){return this.#E||=this.#A.commentText,this.#E}set comment(t){t!==this.comment&&(this.#A.commentText=this.#E=t)}get parentBoundingClientRect(){return this.#A.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#p&&(this.#p.classList.toggle("selected",t),this.#p.ariaExpanded=e)}setSelectedCommentButton(t){this.#p.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:t,y:e,height:i}=this.#p.getBoundingClientRect(),{x:r,y:o,width:l,height:u}=this.#A.layer.getBoundingClientRect();return[(t-r)/l,(e+i-o)/u]}set commentPopupPosition(t){this.#b=t}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,i]=this.#b||this.commentButtonPosition.map(f=>f/100),r=this.parentBoundingClientRect,{x:o,y:l,width:u,height:d}=r;this.#t.showDialog(null,this,o+e*u,l+i*d,{...t,parentDimensions:r})}render(){if(this.#g)return;const t=this.#g=document.createElement("div");if(t.className="popup",this.#s){const i=t.style.outlineColor=it.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#S?.str){const i=document.createElement("span");i.className="title",e.append(i),{dir:i.dir,str:i.textContent}=this.#S}if(t.append(e),this.#c){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),i.dateTime=this.#c.toISOString(),e.append(i)}op({html:this.#j||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#a.append(t)}get#j(){const t=this.#T,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#T.html||null}get#L(){return this.#j?.attributes?.style?.fontSize||0}get#F(){return this.#j?.attributes?.style?.color||null}#P(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#F,fontSize:this.#L?`calc(${this.#L}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:r});return i}#q(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#w()}updateEdited({rect:t,popup:e,deleted:i}){if(this.#t){i?(this.remove(),this.#E=null):e&&(e.deleted?this.remove():(this.#B(),this.#E=e.text)),t&&(this.#y=null,this.#N(),this.#M());return}if(i||e?.deleted){this.remove();return}this.#R(),this.#x||={contentsObj:this.#o,richText:this.#T},t&&(this.#u=null),e&&e.text&&(this.#T=this.#P(e.text),this.#c=mu.toDateObject(e.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#x&&({contentsObj:this.#o,richText:this.#T}=this.#x,this.#x=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#m?.abort(),this.#m=null,this.#g?.remove(),this.#g=null,this.#_=!1,this.#f=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#C(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:r,pageY:o}}}=this.#d;let l=!!this.#h,u=l?this.#h:this.#v;for(const w of this.#l)if(!u||it.intersect(w.data.rect,u)!==null){u=w.data.rect,l=!0;break}const d=it.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),m=l?u[2]-u[0]+5:0,p=d[0]+m,b=d[1];this.#u=[100*(p-r)/e,100*(b-o)/i];const{style:x}=this.#a;x.left=`${this.#u[0]}%`,x.top=`${this.#u[1]}%`}#w(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#k(),this.#a.addEventListener("click",this.#r),this.#a.addEventListener("keydown",this.#e)):(this.#z(),this.#a.removeEventListener("click",this.#r),this.#a.removeEventListener("keydown",this.#e))}#k(){this.#g||this.render(),this.isVisible?this.#f&&this.#a.classList.add("focused"):(this.#C(),this.#a.hidden=!1,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)+1e3)}#z(){this.#a.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#a.hidden=!0,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)-1e3)}forceHide(){this.#_=this.isVisible,this.#_&&(this.#a.hidden=!0)}maybeShow(){this.#t||(this.#R(),this.#_&&(this.#g||this.#k(),this.#_=!1,this.#a.hidden=!1))}get isVisible(){return this.#t?!1:this.#a.hidden===!1}}class BA extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=At.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class _L extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class NL extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",e-o),l.setAttribute("height",i-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class ML extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",e/2),l.setAttribute("cy",i/2),l.setAttribute("rx",e/2-o/2),l.setAttribute("ry",i/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class FA extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:i,popupRef:r},width:o,height:l}=this;if(!e)return this.container;const u=this.svgFactory.create(o,l,!0);let d=[];for(let m=0,p=e.length;m<p;m+=2){const b=e[m]-t[0],x=t[3]-e[m+1];d.push(`${b},${x}`)}d=d.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class RL extends FA{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class DL extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class bp extends le{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?At.HIGHLIGHT:At.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:i,borderStyle:r,popupRef:o}}=this,{transform:l,width:u,height:d}=this.#i(e,t),f=this.svgFactory.create(u,d,!0),m=this.#t=this.svgFactory.createElement("svg:g");f.append(m),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke-linecap","round"),m.setAttribute("stroke-linejoin","round"),m.setAttribute("stroke-miterlimit",10),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),m.setAttribute("transform",l);for(let p=0,b=i.length;p<b;p++){const x=this.svgFactory.createElement(this.svgElementName);this.#e.push(x),x.setAttribute("points",i[p].join(",")),m.append(x)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:i,rect:r}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),i)for(let l=0,u=this.#e.length;l<u;l++)this.#e[l].setAttribute("points",i[l].join(","));if(r){const{transform:l,width:u,height:d}=this.#i(this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${u} ${d}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class zA extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=At.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class jL extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class kL extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class LL extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class IA extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=At.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class PL extends le{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let i;e.hasAppearance||e.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#e.bind(this)),this.#t=i;const{isMac:r}=Re.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let xp=class UA{#t=null;#e=null;#i=null;#n=new Map;#r=null;#s=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:r,page:o,viewport:l,structTreeLayer:u,commentManager:d,linkService:f,annotationStorage:m}){this.div=t,this.#t=e,this.#e=i,this.#r=u||null,this.#s=f||null,this.#i=m||new up,this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=d||null}hasEditableAnnotations(){return this.#n.size>0}async#a(t,e,i){const r=t.firstChild||t,o=r.id=`${ap}${e}`,l=await this.#r?.getAriaAttributes(o);if(l)for(const[u,d]of l)r.setAttribute(u,d);i?i.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,r,!1))}async render(t){const{annotations:e}=t,i=this.div;Es(i,this.viewport);const r=new Map,o={data:null,layer:i,linkService:this.#s,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Yo,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const l of e){if(l.noHTML)continue;const u=l.annotationType===me.POPUP;if(u){const m=r.get(l.id);if(!m)continue;o.elements=m}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;o.data=l;const d=Ox.create(o);if(!d.isRenderable)continue;if(!u&&l.popupRef){const m=r.get(l.popupRef);m?m.push(d):r.set(l.popupRef,[d])}const f=d.render();l.hidden&&(f.style.visibility="hidden"),await this.#a(f,l.id,o.elements),d.extraPopupElement?.popup?.renderCommentButton(),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#o()}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#s,svgFactory:new Yo,parent:this};for(const i of t){i.borderStyle||=UA._defaultBorderStyle,e.data=i;const r=Ox.create(e);if(!r.isRenderable)continue;const o=r.render();await this.#a(o,i.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,Es(e,{rotation:t.rotation}),this.#o(),e.hidden=!1}#o(){if(!this.#e)return;const t=this.div;for(const[e,i]of this.#e){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):r.append(i);const l=this.#n.get(e);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,r.id,i),l._hasNoCanvas=!1):l.canvas=i)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:i,rotation:r}=t,o=new bL({data:{id:i,rect:t.getPDFRect(),rotation:r},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i}),l=o.render();return e.append(l),this.#t?.moveElementInDOM(e,l,l,!1),o.createOrUpdatePopup(),o}static get _defaultBorderStyle(){return Ct(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Wa.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Xc=/\r\n?|\n/g;class Ne extends pt{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Ne.prototype,e=o=>o.isEmpty(),i=Vi.TRANSLATE_SMALL,r=Vi.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new cl([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=At.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||Ne._defaultColor||pt._defaultLineColor,this.#n=t.fontSize||Ne._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){pt.initialize(t,e);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Dt.FREETEXT_SIZE:Ne._defaultFontSize=e;break;case Dt.FREETEXT_COLOR:Ne._defaultColor=e;break}}updateParams(t,e){switch(t){case Dt.FREETEXT_SIZE:this.#r(e);break;case Dt.FREETEXT_COLOR:this.#s(e);break}}static get defaultPropertiesToUpdate(){return[[Dt.FREETEXT_SIZE,Ne._defaultFontSize],[Dt.FREETEXT_COLOR,Ne._defaultColor||pt._defaultLineColor]]}get propertiesToUpdate(){return[[Dt.FREETEXT_SIZE,this.#n],[Dt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Xo(this),[["colorPicker",this._colorPicker]]}get colorType(){return Dt.FREETEXT_COLOR}#r(t){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#n)*this.parentScale),this.#n=r,this.#o()},i=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(t){const e=r=>{this.color=r,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ne._internalPadding*t,-(Ne._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#a(){const t=[];this.editorDiv.normalize();let e=null;for(const i of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(Ne.#c(i)),e=i);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,l=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/e):(this.width=i.height/t,this.height=i.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#a().trimEnd();if(t===e)return;const i=r=>{if(this.#t=r,!r){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{i(e)},undo:()=>{i(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ne._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,m]=this.pageDimensions,[p,b]=this.pageTranslation;let x,w;switch(this.rotation){case 0:x=t+(l[0]-p)/f,w=e+this.height-(l[1]-b)/m;break;case 90:x=t+(l[0]-p)/f,w=e-(l[1]-b)/m,[u,d]=[d,-u];break;case 180:x=t-this.width+(l[0]-p)/f,w=e-(l[1]-b)/m,[u,d]=[-u,-d];break;case 270:x=t+(l[0]-p-this.height*m)/f,w=e+(l[1]-b-this.width*f)/m,[u,d]=[-d,u];break}this.setAt(x*r,w*o,u,d)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Xc,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:i}=e;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const r=Ne.#h(e.getData("text")||"").replaceAll(Xc,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!r.includes(`
`)){l.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:d}=l,f=[],m=[];if(u.nodeType===Node.TEXT_NODE){const x=u.parentElement;if(m.push(u.nodeValue.slice(d).replaceAll(Xc,"")),x!==this.editorDiv){let w=f;for(const A of this.editorDiv.childNodes){if(A===x){w=m;continue}w.push(Ne.#c(A))}}f.push(u.nodeValue.slice(0,d).replaceAll(Xc,""))}else if(u===this.editorDiv){let x=f,w=0;for(const A of this.editorDiv.childNodes)w++===d&&(x=m),x.push(Ne.#c(A))}this.#t=`${f.join(`
`)}${r}${m.join(`
`)}`,this.#l();const p=new Range;let b=Math.sumPrecise(f.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const w=x.nodeValue.length;if(b<=w){p.setStart(x,b),p.setEnd(x,b);break}b-=w}o.removeAllRanges(),o.addRange(p)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#d(){return this.#t.replaceAll(""," ")}static#h(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Ne._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,i){let r=null;if(t instanceof BA){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:f,id:m,popupRef:p,richText:b,contentsObj:x,creationDate:w,modificationDate:A},textContent:T,textPosition:E,parent:{page:{pageNumber:_}}}=t;if(!T||T.length===0)return null;r=t={annotationType:At.FREETEXT,color:Array.from(u),fontSize:l,value:T.join(`
`),position:E,pageIndex:_-1,rect:d.slice(0),rotation:f,annotationElementId:m,id:m,deleted:!1,popupRef:p,comment:x?.str||null,richText:b,creationDate:w,modificationDate:A}}const o=await super.deserialize(t,e,i);return o.#n=t.fontSize,o.color=it.makeHexColor(...t.color),o.#t=Ne.#h(t.value),o._initialData=r,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=pt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#d()});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!this.#f(i)?null:(i.id=this.annotationElementId,i)}#f(t){const{value:e,fontSize:i,color:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==i||t.color.some((l,u)=>l!==r[u])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:i}=e;i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,e.replaceChildren();for(const r of this.#t.split(`
`)){const o=document.createElement("div");o.append(r?document.createTextNode(r):document.createElement("br")),e.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class nt{static PRECISION=1e-4;toSVGPath(){Kt("Abstract method `toSVGPath` must be implemented.")}get box(){Kt("Abstract getter `box` must be implemented.")}serialize(t,e){Kt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,r,o,l){l||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=e+t[u]*r,l[u+1]=i+t[u+1]*o;return l}static _rescaleAndSwap(t,e,i,r,o,l){l||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=e+t[u+1]*r,l[u+1]=i+t[u]*o;return l}static _translate(t,e,i,r){r||=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o+=2)r[o]=e+t[o],r[o+1]=i+t[o+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,r,o){switch(o){case 90:return[1-e/i,t/r];case 180:return[1-t/i,1-e/r];case 270:return[e/i,1-t/r];default:return[t/i,e/r]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,r,o,l){return[(t+5*i)/6,(e+5*r)/6,(5*i+o)/6,(5*r+l)/6,(i+o)/2,(r+l)/2]}}class Zs{#t;#e=[];#i;#n;#r=[];#s=new Float32Array(18);#a;#o;#c;#l;#d;#h;#f=[];static#g=8;static#m=2;static#u=Zs.#g+Zs.#m;constructor({x:t,y:e},i,r,o,l,u=0){this.#t=i,this.#h=o*r,this.#n=l,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=u,this.#l=Zs.#g*r,this.#c=Zs.#u*r,this.#d=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#p(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[i,r,o,l]=this.#t;return[(this.#a+(t[0]-e[0])/2-i)/o,(this.#o+(t[1]-e[1])/2-r)/l,(this.#a+(e[0]-t[0])/2-i)/o,(this.#o+(e[1]-t[1])/2-r)/l]}add({x:t,y:e}){this.#a=t,this.#o=e;const[i,r,o,l]=this.#t;let[u,d,f,m]=this.#s.subarray(8,12);const p=t-f,b=e-m,x=Math.hypot(p,b);if(x<this.#c)return!1;const w=x-this.#l,A=w/x,T=A*p,E=A*b;let _=u,N=d;u=f,d=m,f+=T,m+=E,this.#f?.push(t,e);const R=-E/w,D=T/w,L=R*this.#h,P=D*this.#h;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+L,m+P],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-L,m-P],16),isNaN(this.#s[6])?(this.#r.length===0&&(this.#s.set([u+L,d+P],2),this.#r.push(NaN,NaN,NaN,NaN,(u+L-i)/o,(d+P-r)/l),this.#s.set([u-L,d-P],14),this.#e.push(NaN,NaN,NaN,NaN,(u-L-i)/o,(d-P-r)/l)),this.#s.set([_,N,u,d,f,m],6),!this.isEmpty()):(this.#s.set([_,N,u,d,f,m],6),Math.abs(Math.atan2(N-d,_-u)-Math.atan2(E,T))<Math.PI/2?([u,d,f,m]=this.#s.subarray(2,6),this.#r.push(NaN,NaN,NaN,NaN,((u+f)/2-i)/o,((d+m)/2-r)/l),[u,d,_,N]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((_+u)/2-i)/o,((N+d)/2-r)/l),!0):([_,N,u,d,f,m]=this.#s.subarray(0,6),this.#r.push(((_+5*u)/6-i)/o,((N+5*d)/6-r)/l,((5*u+f)/6-i)/o,((5*d+m)/6-r)/l,((u+f)/2-i)/o,((d+m)/2-r)/l),[f,m,u,d,_,N]=this.#s.subarray(12,18),this.#e.push(((_+5*u)/6-i)/o,((N+5*d)/6-r)/l,((5*u+f)/6-i)/o,((5*d+m)/6-r)/l,((u+f)/2-i)/o,((d+m)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#r,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const i=[];i.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#v(i);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#b(i),i.join(" ")}#y(){const[t,e,i,r]=this.#t,[o,l,u,d]=this.#p();return`M${(this.#s[2]-t)/i} ${(this.#s[3]-e)/r} L${(this.#s[4]-t)/i} ${(this.#s[5]-e)/r} L${o} ${l} L${u} ${d} L${(this.#s[16]-t)/i} ${(this.#s[17]-e)/r} L${(this.#s[14]-t)/i} ${(this.#s[15]-e)/r} Z`}#b(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#v(t){const[e,i,r,o]=this.#t,l=this.#s.subarray(4,6),u=this.#s.subarray(16,18),[d,f,m,p]=this.#p();t.push(`L${(l[0]-e)/r} ${(l[1]-i)/o} L${d} ${f} L${m} ${p} L${(u[0]-e)/r} ${(u[1]-i)/o}`)}newFreeDrawOutline(t,e,i,r,o,l){return new VA(t,e,i,r,o,l)}getOutlines(){const t=this.#r,e=this.#e,i=this.#s,[r,o,l,u]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let p=0,b=d.length-2;p<b;p+=2)d[p]=(this.#f[p]-r)/l,d[p+1]=(this.#f[p+1]-o)/u;if(d[d.length-2]=(this.#a-r)/l,d[d.length-1]=(this.#o-o)/u,isNaN(i[6])&&!this.isEmpty())return this.#T(d);const f=new Float32Array(this.#r.length+24+this.#e.length);let m=t.length;for(let p=0;p<m;p+=2){if(isNaN(t[p])){f[p]=f[p+1]=NaN;continue}f[p]=t[p],f[p+1]=t[p+1]}m=this.#x(f,m);for(let p=e.length-6;p>=6;p-=6)for(let b=0;b<6;b+=2){if(isNaN(e[p+b])){f[m]=f[m+1]=NaN,m+=2;continue}f[m]=e[p+b],f[m+1]=e[p+b+1],m+=2}return this.#S(f,m),this.newFreeDrawOutline(f,d,this.#t,this.#d,this.#i,this.#n)}#T(t){const e=this.#s,[i,r,o,l]=this.#t,[u,d,f,m]=this.#p(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(e[2]-i)/o,(e[3]-r)/l,NaN,NaN,NaN,NaN,(e[4]-i)/o,(e[5]-r)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,m,NaN,NaN,NaN,NaN,(e[16]-i)/o,(e[17]-r)/l,NaN,NaN,NaN,NaN,(e[14]-i)/o,(e[15]-r)/l],0),this.newFreeDrawOutline(p,t,this.#t,this.#d,this.#i,this.#n)}#S(t,e){const i=this.#e;return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6}#x(t,e){const i=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[o,l,u,d]=this.#t,[f,m,p,b]=this.#p();return t.set([NaN,NaN,NaN,NaN,(i[0]-o)/u,(i[1]-l)/d,NaN,NaN,NaN,NaN,f,m,NaN,NaN,NaN,NaN,p,b,NaN,NaN,NaN,NaN,(r[0]-o)/u,(r[1]-l)/d],e),e+=24}}class VA extends nt{#t;#e=new Float32Array(4);#i;#n;#r;#s;#a;constructor(t,e,i,r,o,l){super(),this.#a=t,this.#r=e,this.#t=i,this.#s=r,this.#i=o,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[u,d,f,m]=this.#e;for(let p=0,b=t.length;p<b;p+=2)t[p]=(t[p]-u)/f,t[p+1]=(t[p+1]-d)/m;for(let p=0,b=e.length;p<b;p+=2)e[p]=(e[p]-u)/f,e[p+1]=(e[p+1]-d)/m}toSVGPath(){const t=[`M${this.#a[4]} ${this.#a[5]}`];for(let e=6,i=this.#a.length;e<i;e+=6){if(isNaN(this.#a[e])){t.push(`L${this.#a[e+4]} ${this.#a[e+5]}`);continue}t.push(`C${this.#a[e]} ${this.#a[e+1]} ${this.#a[e+2]} ${this.#a[e+3]} ${this.#a[e+4]} ${this.#a[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,i,r],o){const l=i-t,u=r-e;let d,f;switch(o){case 0:d=nt._rescale(this.#a,t,r,l,-u),f=nt._rescale(this.#r,t,r,l,-u);break;case 90:d=nt._rescaleAndSwap(this.#a,t,e,l,u),f=nt._rescaleAndSwap(this.#r,t,e,l,u);break;case 180:d=nt._rescale(this.#a,i,e,-l,u),f=nt._rescale(this.#r,i,e,-l,u);break;case 270:d=nt._rescaleAndSwap(this.#a,i,r,-l,-u),f=nt._rescaleAndSwap(this.#r,i,r,-l,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(t){const e=this.#a;let i=e[4],r=e[5];const o=[i,r,i,r];let l=i,u=r,d=i,f=r;const m=t?Math.max:Math.min,p=new Float32Array(4);for(let x=6,w=e.length;x<w;x+=6){const A=e[x+4],T=e[x+5];isNaN(e[x])?(it.pointBoundingBox(A,T,o),u>T?(l=A,u=T):u===T&&(l=m(l,A)),f<T?(d=A,f=T):f===T&&(d=m(d,A))):(p[0]=p[1]=1/0,p[2]=p[3]=-1/0,it.bezierBoundingBox(i,r,...e.slice(x,x+6),p),it.rectBoundingBox(p[0],p[1],p[2],p[3],o),u>p[1]?(l=p[0],u=p[1]):u===p[1]&&(l=m(l,p[0])),f<p[3]?(d=p[2],f=p[3]):f===p[3]&&(d=m(d,p[2]))),i=A,r=T}const b=this.#e;b[0]=o[0]-this.#i,b[1]=o[1]-this.#i,b[2]=o[2]-o[0]+2*this.#i,b[3]=o[3]-o[1]+2*this.#i,this.firstPoint=[l,u],this.lastPoint=[d,f]}get box(){return this.#e}newOutliner(t,e,i,r,o,l=0){return new Zs(t,e,i,r,o,l)}getNewOutline(t,e){const[i,r,o,l]=this.#e,[u,d,f,m]=this.#t,p=o*f,b=l*m,x=i*f+u,w=r*m+d,A=this.newOutliner({x:this.#r[0]*p+x,y:this.#r[1]*b+w},this.#t,this.#s,t,this.#n,e??this.#i);for(let T=2;T<this.#r.length;T+=2)A.add({x:this.#r[T]*p+x,y:this.#r[T+1]*b+w});return A.getOutlines()}}class dm{#t;#e;#i;#n=[];#r=[];constructor(t,e=0,i=0,r=!0){const o=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:A,y:T,width:E,height:_}of t){const N=Math.floor((A-e)/l)*l,R=Math.ceil((A+E+e)/l)*l,D=Math.floor((T-e)/l)*l,L=Math.ceil((T+_+e)/l)*l,P=[N,D,L,!0],F=[R,D,L,!1];this.#n.push(P,F),it.rectBoundingBox(N,D,R,L,o)}const u=o[2]-o[0]+2*i,d=o[3]-o[1]+2*i,f=o[0]-i,m=o[1]-i;let p=r?-1/0:1/0,b=1/0;const x=this.#n.at(r?-1:-2),w=[x[0],x[2]];for(const A of this.#n){const[T,E,_,N]=A;!N&&r?E<b?(b=E,p=T):E===b&&(p=Math.max(p,T)):N&&!r&&(E<b?(b=E,p=T):E===b&&(p=Math.min(p,T))),A[0]=(T-f)/u,A[1]=(E-m)/d,A[2]=(_-m)/d}this.#t=new Float32Array([f,m,u,d]),this.#e=[p,b],this.#i=w}getOutlines(){this.#n.sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#c(e),t.push(...this.#l(e)));return this.#s(t)}#s(t){const e=[],i=new Set;for(const l of t){const[u,d,f]=l;e.push([u,d,l],[u,f,l])}e.sort((l,u)=>l[1]-u[1]||l[0]-u[0]);for(let l=0,u=e.length;l<u;l+=2){const d=e[l][2],f=e[l+1][2];d.push(f),f.push(d),i.add(d),i.add(f)}const r=[];let o;for(;i.size>0;){const l=i.values().next().value;let[u,d,f,m,p]=l;i.delete(l);let b=u,x=d;for(o=[u,f],r.push(o);;){let w;if(i.has(m))w=m;else if(i.has(p))w=p;else break;i.delete(w),[u,d,f,m,p]=w,b!==u&&(o.push(b,x,u,x===d?d:f),b=u),x=x===d?f:d}o.push(b,x)}return new OL(r,this.#t,this.#e,this.#i)}#a(t){const e=this.#r;let i=0,r=e.length-1;for(;i<=r;){const o=i+r>>1,l=e[o][0];if(l===t)return o;l<t?i=o+1:r=o-1}return r+1}#o([,t,e]){const i=this.#a(t);this.#r.splice(i,0,[t,e])}#c([,t,e]){const i=this.#a(t);for(let r=i;r<this.#r.length;r++){const[o,l]=this.#r[r];if(o!==t)break;if(o===t&&l===e){this.#r.splice(r,1);return}}for(let r=i-1;r>=0;r--){const[o,l]=this.#r[r];if(o!==t)break;if(o===t&&l===e){this.#r.splice(r,1);return}}}#l(t){const[e,i,r]=t,o=[[e,i,r]],l=this.#a(r);for(let u=0;u<l;u++){const[d,f]=this.#r[u];for(let m=0,p=o.length;m<p;m++){const[,b,x]=o[m];if(!(f<=b||x<=d)){if(b>=d){if(x>f)o[m][1]=f;else{if(p===1)return[];o.splice(m,1),m--,p--}continue}o[m][2]=d,x>f&&o.push([e,f,x])}}}return o}}class OL extends nt{#t;#e;constructor(t,e,i,r){super(),this.#e=t,this.#t=e,this.firstPoint=i,this.lastPoint=r}toSVGPath(){const t=[];for(const e of this.#e){let[i,r]=e;t.push(`M${i} ${r}`);for(let o=2;o<e.length;o+=2){const l=e[o],u=e[o+1];l===i?(t.push(`V${u}`),r=u):u===r&&(t.push(`H${l}`),i=l)}t.push("Z")}return t.join(" ")}serialize([t,e,i,r],o){const l=[],u=i-t,d=r-e;for(const f of this.#e){const m=new Array(f.length);for(let p=0;p<f.length;p+=2)m[p]=t+f[p]*u,m[p+1]=r-f[p+1]*d;l.push(m)}return l}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class fm extends Zs{newFreeDrawOutline(t,e,i,r,o,l){return new BL(t,e,i,r,o,l)}}class BL extends VA{newOutliner(t,e,i,r,o,l=0){return new fm(t,e,i,r,o,l)}}class pe extends pt{#t=null;#e=0;#i;#n=null;#r=null;#s=null;#a=null;#o=0;#c=null;#l=null;#d=null;#h=!1;#f=null;#g=null;#m=null;#u="";#p;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=At.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=pe.prototype;return Ct(this,"_keyboardManager",new cl([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||pe._defaultColor,this.#p=t.thickness||pe._defaultThickness,this.opacity=t.opacity||pe._defaultOpacity,this.#i=t.boxes||null,this.#y=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#v(t),this.#A()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#a=t.focusNode,this.#o=t.focusOffset,this.#b(),this.#A(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new dm(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new dm(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{firstPoint:i}=this.#l;this.#f=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height];const{lastPoint:r}=this.#s;this.#g=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#v({highlightOutlines:t,highlightId:e,clipPathId:i}){this.#l=t;const r=1.5;if(this.#s=t.getNewOutline(this.#p/2+r,.0025),e>=0)this.#d=e,this.#n=i,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#m=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:pe.#E(this.#l.box,(p-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#m,{bbox:pe.#E(this.#s.box,p),path:{d:this.#s.toSVGPath()}})}const[o,l,u,d]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=u,this.height=d;break;case 90:{const[p,b]=this.parentDimensions;this.x=l,this.y=1-o,this.width=u*b/p,this.height=d*p/b;break}case 180:this.x=1-o,this.y=1-l,this.width=u,this.height=d;break;case 270:{const[p,b]=this.parentDimensions;this.x=1-l,this.y=o,this.width=u*b/p,this.height=d*p/b;break}}const{firstPoint:f}=t;this.#f=[(f[0]-o)/u,(f[1]-l)/d];const{lastPoint:m}=this.#s;this.#g=[(m[0]-o)/u,(m[1]-l)/d]}static initialize(t,e){pt.initialize(t,e),pe._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Dt.HIGHLIGHT_COLOR:pe._defaultColor=e;break;case Dt.HIGHLIGHT_THICKNESS:pe._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(t,e){switch(t){case Dt.HIGHLIGHT_COLOR:this.#T(e);break;case Dt.HIGHLIGHT_THICKNESS:this.#S(e);break}}static get defaultPropertiesToUpdate(){return[[Dt.HIGHLIGHT_COLOR,pe._defaultColor],[Dt.HIGHLIGHT_THICKNESS,pe._defaultThickness]]}get propertiesToUpdate(){return[[Dt.HIGHLIGHT_COLOR,this.color||pe._defaultColor],[Dt.HIGHLIGHT_THICKNESS,this.#p||pe._defaultThickness],[Dt.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#r?.updateColor(this.color),super.onUpdatedColor()}#T(t){const e=(o,l)=>{this.color=o,this.opacity=l,this.onUpdatedColor()},i=this.color,r=this.opacity;this.addCommands({cmd:e.bind(this,t,pe._defaultOpacity),undo:e.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#S(t){const e=this.#p,i=r=>{this.#p=r,this.#x(r)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#r=new xn({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#M())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#M())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#_(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#A(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#_():t&&(this.#A(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#x(t){this.#h&&(this.#v({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#_(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#m),this.#m=null)}#A(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#m=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#h),this.#c&&(this.#c.style.clipPath=this.#n))}static#E([t,e,i,r],o){switch(o){case 90:return[1-e-r,t,r,i];case 180:return[1-t-i,1-e-r,i,r];case 270:return[e,1-t-i,r,i]}return[t,e,i,r]}rotate(t){const{drawLayer:e}=this.parent;let i;this.#h?(t=(t-this.rotation+360)%360,i=pe.#E(this.#l.box,t)):i=pe.#E([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:i,root:{"data-main-rotation":t}}),e.updateProperties(this.#m,{bbox:pe.#E(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(this.width,this.height),yA(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1}})}#R(t){pe._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#N(!0);break;case 1:case 3:this.#N(!1);break}}#N(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#a,this.#o)}select(){super.select(),this.#m&&this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#m&&(this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{selected:!1}}),this.#h||this.#N(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#m,{rootClass:{hidden:!t}}))}#M(){return this.#h?this.rotation:0}#B(){if(this.#h)return null;const[t,e]=this.pageDimensions,[i,r]=this.pageTranslation,o=this.#i,l=new Float32Array(o.length*8);let u=0;for(const{x:d,y:f,width:m,height:p}of o){const b=d*t+i,x=(1-f)*e+r;l[u]=l[u+4]=b,l[u+1]=l[u+3]=x,l[u+2]=l[u+6]=b+m*t,l[u+5]=l[u+7]=x-p*e,u+=8}return l}#j(t){return this.#l.serialize(t,this.#M())}static startHighlighting(t,e,{target:i,x:r,y:o}){const{x:l,y:u,width:d,height:f}=i.getBoundingClientRect(),m=new AbortController,p=t.combinedSignal(m),b=x=>{m.abort(),this.#F(t,x)};window.addEventListener("blur",b,{signal:p}),window.addEventListener("pointerup",b,{signal:p}),window.addEventListener("pointerdown",ae,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",An,{signal:p}),i.addEventListener("pointermove",this.#L.bind(this,t),{signal:p}),this._freeHighlight=new fm({x:r,y:o},[l,u,d,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#L(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#F(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,i){let r=null;if(t instanceof zA){const{data:{quadPoints:w,rect:A,rotation:T,id:E,color:_,opacity:N,popupRef:R,richText:D,contentsObj:L,creationDate:P,modificationDate:F},parent:{page:{pageNumber:H}}}=t;r=t={annotationType:At.HIGHLIGHT,color:Array.from(_),opacity:N,quadPoints:w,boxes:null,pageIndex:H-1,rect:A.slice(0),rotation:T,annotationElementId:E,id:E,deleted:!1,popupRef:R,richText:D,comment:L?.str||null,creationDate:P,modificationDate:F}}else if(t instanceof bp){const{data:{inkLists:w,rect:A,rotation:T,id:E,color:_,borderStyle:{rawWidth:N},popupRef:R,richText:D,contentsObj:L,creationDate:P,modificationDate:F},parent:{page:{pageNumber:H}}}=t;r=t={annotationType:At.HIGHLIGHT,color:Array.from(_),thickness:N,inkLists:w,boxes:null,pageIndex:H-1,rect:A.slice(0),rotation:T,annotationElementId:E,id:E,deleted:!1,popupRef:R,richText:D,comment:L?.str||null,creationDate:P,modificationDate:F}}const{color:o,quadPoints:l,inkLists:u,opacity:d}=t,f=await super.deserialize(t,e,i);f.color=it.makeHexColor(...o),f.opacity=d||1,u&&(f.#p=t.thickness),f._initialData=r,t.comment&&f.setCommentData(t);const[m,p]=f.pageDimensions,[b,x]=f.pageTranslation;if(l){const w=f.#i=[];for(let A=0;A<l.length;A+=8)w.push({x:(l[A]-b)/m,y:1-(l[A+1]-x)/p,width:(l[A+2]-l[A])/m,height:(l[A+1]-l[A+5])/p});f.#b(),f.#A(),f.rotate(f.rotation)}else if(u){f.#h=!0;const w=u[0],A={x:w[0]-b,y:p-(w[1]-x)},T=new fm(A,[0,0,m,p],1,f.#p/2,!0,.001);for(let N=0,R=w.length;N<R;N+=2)A.x=w[N]-b,A.y=p-(w[N+1]-x),T.add(A);const{id:E,clipPathId:_}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:T.toSVGPath()}},!0,!0);f.#v({highlightOutlines:T.getOutlines(),highlightId:E,clipPathId:_}),f.#A(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=pt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:e,opacity:this.opacity,thickness:this.#p,quadPoints:this.#B(),outlines:this.#j(i.rect)}),this.addComment(i),this.annotationElementId&&!this.#P(i)?null:(i.id=this.annotationElementId,i)}#P(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((i,r)=>i!==e[r])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class HA{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Kt("Not implemented")}}class bt extends pt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#r=null;static#s=NaN;static#a=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:i}){this.#t=t,this._drawingOptions||=i,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#u(t.box)}#d(t,e){const{id:i}=e.drawLayer.draw(bt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(t,e){const i=new Set(Object.keys(t));for(const[r,o]of Object.entries(e))i.has(r)?Object.assign(t[r],o):t[r]=o;return t}static getDefaultDrawingOptions(t){Kt("Not implemented")}static get typesMap(){Kt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,e),this._currentParent&&(bt.#i.updateProperty(i,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[i,r]of this.typesMap)t.push([i,e[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[i,r]of this.constructor.typesMap)t.push([i,e[r]]);return t}_updateProperty(t,e,i){const r=this._drawingOptions,o=r[e],l=u=>{r.updateProperty(e,u);const d=this.#t.updateProperty(e,u);d&&this.#u(d),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,i),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#m()),{bbox:this.#p()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#m()),{bbox:this.#p()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#p()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#m(),this.parentDimensions),{bbox:this.#p()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#h(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#h()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#h(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#g([t,e,i,r]){const{parentDimensions:[o,l],rotation:u}=this;switch(u){case 90:return[e,1-t,i*(l/o),r*(o/l)];case 180:return[1-t,1-e,i,r];case 270:return[1-e,t,i*(l/o),r*(o/l)];default:return[t,e,i,r]}}#m(){const{x:t,y:e,width:i,height:r,parentDimensions:[o,l],rotation:u}=this;switch(u){case 90:return[1-e,t,i*(o/l),r*(l/o)];case 180:return[1-t,1-e,i,r];case 270:return[e,1-t,i*(o/l),r*(l/o)];default:return[t,e,i,r]}}#u(t){[this.x,this.y,this.width,this.height]=this.#g(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#p(){const{x:t,y:e,width:i,height:r,rotation:o,parentRotation:l,parentDimensions:[u,d]}=this;switch((o*4+l)/90){case 1:return[1-e-r,t,r,i];case 2:return[1-t-i,1-e-r,i,r];case 3:return[e,1-t-i,r,i];case 4:return[t,e-i*(u/d),r*(d/u),i*(u/d)];case 5:return[1-e,t,i*(u/d),r*(d/u)];case 6:return[1-t-r*(d/u),1-e,r*(d/u),i*(u/d)];case 7:return[e-i*(u/d),1-t-r*(d/u),i*(u/d),r*(d/u)];case 8:return[t-i,e-r,i,r];case 9:return[1-e,t-i,r,i];case 10:return[1-t,1-e,i,r];case 11:return[e-r,1-t,r,i];case 12:return[t-r*(d/u),e,r*(d/u),i*(u/d)];case 13:return[1-e-i*(u/d),t-r*(d/u),i*(u/d),r*(d/u)];case 14:return[1-t,1-e-i*(u/d),r*(d/u),i*(u/d)];case 15:return[e,1-t,i*(u/d),r*(d/u)];default:return[t,e,i,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties({bbox:this.#p()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const i=super.render();i.classList.add("draw");const r=document.createElement("div");return i.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),i}static createDrawerInstance(t,e,i,r,o){Kt("Not implemented")}static startDrawing(t,e,i,r){const{target:o,offsetX:l,offsetY:u,pointerId:d,pointerType:f}=r;if(bt.#a&&bt.#a!==f)return;const{viewport:{rotation:m}}=t,{width:p,height:b}=o.getBoundingClientRect(),x=bt.#n=new AbortController,w=t.combinedSignal(x);if(bt.#s||=d,bt.#a??=f,window.addEventListener("pointerup",A=>{bt.#s===A.pointerId?this._endDraw(A):bt.#o?.delete(A.pointerId)},{signal:w}),window.addEventListener("pointercancel",A=>{bt.#s===A.pointerId?this._currentParent.endDrawingSession():bt.#o?.delete(A.pointerId)},{signal:w}),window.addEventListener("pointerdown",A=>{bt.#a===A.pointerType&&((bt.#o||=new Set).add(A.pointerId),bt.#i.isCancellable()&&(bt.#i.removeLastElement(),bt.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",An,{signal:w}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),o.addEventListener("touchmove",A=>{A.timeStamp===bt.#c&&ae(A)},{signal:w}),t.toggleDrawing(),e._editorUndoBar?.hide(),bt.#i){t.drawLayer.updateProperties(this._currentDrawId,bt.#i.startNew(l,u,p,b,m));return}e.updateUIForDefaultProperties(this),bt.#i=this.createDrawerInstance(l,u,p,b,m),bt.#r=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(bt.#r.toSVGProperties(),bt.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(bt.#c=-1,!bt.#i)return;const{offsetX:e,offsetY:i,pointerId:r}=t;if(bt.#s===r){if(bt.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,bt.#i.add(e,i)),bt.#c=t.timeStamp,ae(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,bt.#i=null,bt.#r=null,bt.#a=null,bt.#c=NaN),bt.#n&&(bt.#n.abort(),bt.#n=null,bt.#s=NaN,bt.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,bt.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=bt.#i,r=this._currentDrawId,o=i.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(r,i.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(r,i.removeLastElement())},mustExec:!1,type:Dt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Dt.DRAW_STEP),!bt.#i.isEmpty()){const{pageDimensions:[i,r],scale:o}=e,l=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:bt.#i.getOutlines(i*o,r*o,o,this._INNER_MARGIN),drawingOptions:bt.#r,mustBeCommitted:!t});return this._cleanup(!0),l}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,i,r,o,l){Kt("Not implemented")}static async deserialize(t,e,i){const{rawDims:{pageWidth:r,pageHeight:o,pageX:l,pageY:u}}=e.viewport,d=this.deserializeDraw(l,u,r,o,this._INNER_MARGIN,t),f=await super.deserialize(t,e,i);return f.createDrawingOptions(t),f.#l({drawOutlines:d}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,i]=this.pageTranslation,[r,o]=this.pageDimensions;return this.#t.serialize([e,i,r,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class FL{#t=new Float64Array(6);#e;#i;#n;#r;#s;#a="";#o=0;#c=new dl;#l;#d;constructor(t,e,i,r,o,l){this.#l=i,this.#d=r,this.#n=o,this.#r=l,[t,e]=this.#h(t,e);const u=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#i=[{line:u,points:this.#s}],this.#t.set(u,0)}updateProperty(t,e){t==="stroke-width"&&(this.#r=e)}#h(t,e){return nt._normalizePoint(t,e,this.#l,this.#d,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#h(t,e);const[i,r,o,l]=this.#t.subarray(2,6),u=t-o,d=e-l;return Math.hypot(this.#l*u,this.#d*d)<=2?null:(this.#s.push(t,e),isNaN(i)?(this.#t.set([o,l,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([i,r,o,l,t,e],0),this.#e.push(...nt.createBezierPoints(i,r,o,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,r,o){this.#l=i,this.#d=r,this.#n=o,[t,e]=this.#h(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const u=this.#i.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#i.push({line:l,points:this.#s}),this.#t.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#a="";for(let t=0,e=this.#i.length;t<e;t++){const{line:i,points:r}=this.#i[t];this.#e=i,this.#s=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#a}}}toSVGPath(){const t=nt.svgRound(this.#e[4]),e=nt.svgRound(this.#e[5]);if(this.#s.length===2)return this.#a=`${this.#a} M ${t} ${e} Z`,this.#a;if(this.#s.length<=6){const r=this.#a.lastIndexOf("M");this.#a=`${this.#a.slice(0,r)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const r=nt.svgRound(this.#e[10]),o=nt.svgRound(this.#e[11]);return this.#a=`${this.#a} L ${r} ${o}`,this.#o=12,this.#a}const i=[];this.#o===0&&(i.push(`M ${t} ${e}`),this.#o=6);for(let r=this.#o,o=this.#e.length;r<o;r+=6){const[l,u,d,f,m,p]=this.#e.slice(r,r+6).map(nt.svgRound);i.push(`C${l} ${u} ${d} ${f} ${m} ${p}`)}return this.#a+=i.join(" "),this.#o=this.#e.length,this.#a}getOutlines(t,e,i,r){const o=this.#i.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#c.build(this.#i,t,e,i,this.#n,this.#r,r),this.#t=null,this.#e=null,this.#i=null,this.#a=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class dl extends nt{#t;#e=0;#i;#n;#r;#s;#a;#o;#c;build(t,e,i,r,o,l,u){this.#r=e,this.#s=i,this.#a=r,this.#o=o,this.#c=l,this.#i=u??0,this.#n=t,this.#h()}get thickness(){return this.#c}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${nt.svgRound(e[4])} ${nt.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${nt.svgRound(e[10])} ${nt.svgRound(e[11])}`);continue}for(let i=6,r=e.length;i<r;i+=6){const[o,l,u,d,f,m]=e.subarray(i,i+6).map(nt.svgRound);t.push(`C${o} ${l} ${u} ${d} ${f} ${m}`)}}return t.join("")}serialize([t,e,i,r],o){const l=[],u=[],[d,f,m,p]=this.#d();let b,x,w,A,T,E,_,N,R;switch(this.#o){case 0:R=nt._rescale,b=t,x=e+r,w=i,A=-r,T=t+d*i,E=e+(1-f-p)*r,_=t+(d+m)*i,N=e+(1-f)*r;break;case 90:R=nt._rescaleAndSwap,b=t,x=e,w=i,A=r,T=t+f*i,E=e+d*r,_=t+(f+p)*i,N=e+(d+m)*r;break;case 180:R=nt._rescale,b=t+i,x=e,w=-i,A=r,T=t+(1-d-m)*i,E=e+f*r,_=t+(1-d)*i,N=e+(f+p)*r;break;case 270:R=nt._rescaleAndSwap,b=t+i,x=e+r,w=-i,A=-r,T=t+(1-f-p)*i,E=e+(1-d-m)*r,_=t+(1-f)*i,N=e+(1-d)*r;break}for(const{line:D,points:L}of this.#n)l.push(R(D,b,x,w,A,o?new Array(D.length):null)),u.push(R(L,b,x,w,A,o?new Array(L.length):null));return{lines:l,points:u,rect:[T,E,_,N]}}static deserialize(t,e,i,r,o,{paths:{lines:l,points:u},rotation:d,thickness:f}){const m=[];let p,b,x,w,A;switch(d){case 0:A=nt._rescale,p=-t/i,b=e/r+1,x=1/i,w=-1/r;break;case 90:A=nt._rescaleAndSwap,p=-e/r,b=-t/i,x=1/r,w=1/i;break;case 180:A=nt._rescale,p=t/i+1,b=-e/r,x=-1/i,w=1/r;break;case 270:A=nt._rescaleAndSwap,p=e/r+1,b=t/i+1,x=-1/r,w=-1/i;break}if(!l){l=[];for(const E of u){const _=E.length;if(_===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(_===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const N=new Float32Array(3*(_-2));l.push(N);let[R,D,L,P]=E.subarray(0,4);N.set([NaN,NaN,NaN,NaN,R,D],0);for(let F=4;F<_;F+=2){const H=E[F],Y=E[F+1];N.set(nt.createBezierPoints(R,D,L,P,H,Y),(F-2)*3),[R,D,L,P]=[L,P,H,Y]}}}for(let E=0,_=l.length;E<_;E++)m.push({line:A(l[E].map(N=>N??NaN),p,b,x,w),points:A(u[E].map(N=>N??NaN),p,b,x,w)});const T=new this.prototype.constructor;return T.build(m,i,r,1,d,f,o),T}#l(t=this.#c){const e=this.#i+t/2*this.#a;return this.#o%180===0?[e/this.#r,e/this.#s]:[e/this.#s,e/this.#r]}#d(){const[t,e,i,r]=this.#t,[o,l]=this.#l(0);return[t+o,e+l,i-2*o,r-2*l]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let u=4,d=r.length;u<d;u+=6)it.pointBoundingBox(r[u],r[u+1],t);continue}let o=r[4],l=r[5];for(let u=6,d=r.length;u<d;u+=6){const[f,m,p,b,x,w]=r.subarray(u,u+6);it.bezierBoundingBox(o,l,f,m,p,b,x,w,t),o=x,l=w}}const[e,i]=this.#l();t[0]=Ie(t[0]-e,0,1),t[1]=Ie(t[1]-i,0,1),t[2]=Ie(t[2]+e,0,1),t[3]=Ie(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,i]=this.#l();this.#c=t;const[r,o]=this.#l(),[l,u]=[r-e,o-i],d=this.#t;return d[0]-=l,d[1]-=u,d[2]+=2*l,d[3]+=2*u,d}updateParentDimensions([t,e],i){const[r,o]=this.#l();this.#r=t,this.#s=e,this.#a=i;const[l,u]=this.#l(),d=l-r,f=u-o,m=this.#t;return m[0]-=d,m[1]-=f,m[2]+=2*d,m[3]+=2*f,m}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(nt.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${nt.svgRound(t)} ${nt.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let i=0,r=0,o=0,l=0,u=0,d=0;switch(this.#e){case 90:r=e/t,o=-t/e,u=t;break;case 180:i=-1,l=-1,u=t,d=e;break;case 270:r=-e/t,o=t/e,d=e;break;default:return""}return`matrix(${i} ${r} ${o} ${l} ${nt.svgRound(u)} ${nt.svgRound(d)})`}getPathResizingSVGProperties([t,e,i,r]){const[o,l]=this.#l(),[u,d,f,m]=this.#t;if(Math.abs(f-o)<=nt.PRECISION||Math.abs(m-l)<=nt.PRECISION){const A=t+i/2-(u+f/2),T=e+r/2-(d+m/2);return{path:{"transform-origin":`${nt.svgRound(t)} ${nt.svgRound(e)}`,transform:`${this.rotationTransform} translate(${A} ${T})`}}}const p=(i-2*o)/(f-2*o),b=(r-2*l)/(m-2*l),x=f/i,w=m/r;return{path:{"transform-origin":`${nt.svgRound(u)} ${nt.svgRound(d)}`,transform:`${this.rotationTransform} scale(${x} ${w}) translate(${nt.svgRound(o)} ${nt.svgRound(l)}) scale(${p} ${b}) translate(${nt.svgRound(-o)} ${nt.svgRound(-l)})`}}}getPathResizedSVGProperties([t,e,i,r]){const[o,l]=this.#l(),u=this.#t,[d,f,m,p]=u;if(u[0]=t,u[1]=e,u[2]=i,u[3]=r,Math.abs(m-o)<=nt.PRECISION||Math.abs(p-l)<=nt.PRECISION){const T=t+i/2-(d+m/2),E=e+r/2-(f+p/2);for(const{line:_,points:N}of this.#n)nt._translate(_,T,E,_),nt._translate(N,T,E,N);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${nt.svgRound(t)} ${nt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const b=(i-2*o)/(m-2*o),x=(r-2*l)/(p-2*l),w=-b*(d+o)+t+o,A=-x*(f+l)+e+l;if(b!==1||x!==1||w!==0||A!==0)for(const{line:T,points:E}of this.#n)nt._rescale(T,w,A,b,x,T),nt._rescale(E,w,A,b,x,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${nt.svgRound(t)} ${nt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],i){const[r,o]=i,l=this.#t,u=t-l[0],d=e-l[1];if(this.#r===r&&this.#s===o)for(const{line:f,points:m}of this.#n)nt._translate(f,u,d,f),nt._translate(m,u,d,m);else{const f=this.#r/r,m=this.#s/o;this.#r=r,this.#s=o;for(const{line:p,points:b}of this.#n)nt._rescale(p,u,d,f,m,p),nt._rescale(b,u,d,f,m,b);l[2]*=f,l[3]*=m}return l[0]=t,l[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${nt.svgRound(t)} ${nt.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${nt.svgRound(t[0])} ${nt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Ru extends HA{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:pt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Ru(this._viewParameters);return t.updateAll(this),t}}class wp extends bt{static _type="ink";static _editorType=At.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){pt.initialize(t,e),this._defaultDrawingOptions=new Ru(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ct(this,"typesMap",new Map([[Dt.INK_THICKNESS,"stroke-width"],[Dt.INK_COLOR,"stroke"],[Dt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,i,r,o){return new FL(t,e,i,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,i,r,o,l){return dl.deserialize(t,e,i,r,o,l)}static async deserialize(t,e,i){let r=null;if(t instanceof bp){const{data:{inkLists:l,rect:u,rotation:d,id:f,color:m,opacity:p,borderStyle:{rawWidth:b},popupRef:x,richText:w,contentsObj:A,creationDate:T,modificationDate:E},parent:{page:{pageNumber:_}}}=t;r=t={annotationType:At.INK,color:Array.from(m),thickness:b,opacity:p,paths:{points:l},boxes:null,pageIndex:_-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:x,richText:w,comment:A?.str||null,creationDate:T,modificationDate:E}}const o=await super.deserialize(t,e,i);return o._initialData=r,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||=new Xo(this),[["colorPicker",this._colorPicker]]}get colorType(){return Dt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:i}=this;e.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:i}){this._drawingOptions=wp.getDefaultDrawingOptions({stroke:it.makeHexColor(...t),"stroke-width":e,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:r,"stroke-opacity":o,"stroke-width":l}}=this,u=Object.assign(super.serialize(t),{color:pt._colorManager.convert(r),opacity:o,thickness:l,paths:{lines:e,points:i}});return this.addComment(u),t?(u.isCopy=!0,u):this.annotationElementId&&!this.#t(u)?null:(u.id=this.annotationElementId,u)}#t(t){const{color:e,thickness:i,opacity:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,u)=>l!==e[u])||t.thickness!==i||t.opacity!==r||t.pageIndex!==o}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class mm extends dl{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Yc=8,Eo=3;class Ws{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,i,r){return i-=t,r-=e,i===0?r>0?0:4:i===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,i,r,o,l,u){const d=this.#e(i,r,o,l);for(let f=0;f<8;f++){const m=(-f+d-u+16)%8,p=this.#i[2*m],b=this.#i[2*m+1];if(t[(i+p)*e+(r+b)]!==0)return m}return-1}static#r(t,e,i,r,o,l,u){const d=this.#e(i,r,o,l);for(let f=0;f<8;f++){const m=(f+d+u+16)%8,p=this.#i[2*m],b=this.#i[2*m+1];if(t[(i+p)*e+(r+b)]!==0)return m}return-1}static#s(t,e,i,r){const o=t.length,l=new Int32Array(o);for(let m=0;m<o;m++)l[m]=t[m]<=r?1:0;for(let m=1;m<i-1;m++)l[m*e]=l[m*e+e-1]=0;for(let m=0;m<e;m++)l[m]=l[e*i-1-m]=0;let u=1,d;const f=[];for(let m=1;m<i-1;m++){d=1;for(let p=1;p<e-1;p++){const b=m*e+p,x=l[b];if(x===0)continue;let w=m,A=p;if(x===1&&l[b-1]===0)u+=1,A-=1;else if(x>=1&&l[b+1]===0)u+=1,A+=1,x>1&&(d=x);else{x!==1&&(d=Math.abs(x));continue}const T=[p,m],E=A===p+1,_={isHole:E,points:T,id:u,parent:0};f.push(_);let N;for(const J of f)if(J.id===d){N=J;break}N?N.isHole?_.parent=E?N.parent:d:_.parent=E?d:N.parent:_.parent=E?d:0;const R=this.#n(l,e,m,p,w,A,0);if(R===-1){l[b]=-u,l[b]!==1&&(d=Math.abs(l[b]));continue}let D=this.#i[2*R],L=this.#i[2*R+1];const P=m+D,F=p+L;w=P,A=F;let H=m,Y=p;for(;;){const J=this.#r(l,e,H,Y,w,A,1);D=this.#i[2*J],L=this.#i[2*J+1];const at=H+D,ft=Y+L;T.push(ft,at);const rt=H*e+Y;if(l[rt+1]===0?l[rt]=-u:l[rt]===1&&(l[rt]=u),at===m&&ft===p&&H===P&&Y===F){l[b]!==1&&(d=Math.abs(l[b]));break}else w=H,A=Y,H=at,Y=ft}}}return f}static#a(t,e,i,r){if(i-e<=4){for(let P=e;P<i-2;P+=2)r.push(t[P],t[P+1]);return}const o=t[e],l=t[e+1],u=t[i-4]-o,d=t[i-3]-l,f=Math.hypot(u,d),m=u/f,p=d/f,b=m*l-p*o,x=d/u,w=1/f,A=Math.atan(x),T=Math.cos(A),E=Math.sin(A),_=w*(Math.abs(T)+Math.abs(E)),N=w*(1-_+_**2),R=Math.max(Math.atan(Math.abs(E+T)*N),Math.atan(Math.abs(E-T)*N));let D=0,L=e;for(let P=e+2;P<i-2;P+=2){const F=Math.abs(b-m*t[P+1]+p*t[P]);F>D&&(L=P,D=F)}D>(f*R)**2?(this.#a(t,e,L+2,r),this.#a(t,L,i,r)):r.push(o,l)}static#o(t){const e=[],i=t.length;return this.#a(t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e}static#c(t,e,i,r,o,l){const u=new Float32Array(l**2),d=-2*r**2,f=l>>1;for(let A=0;A<l;A++){const T=(A-f)**2;for(let E=0;E<l;E++)u[A*l+E]=Math.exp((T+(E-f)**2)/d)}const m=new Float32Array(256),p=-2*o**2;for(let A=0;A<256;A++)m[A]=Math.exp(A**2/p);const b=t.length,x=new Uint8Array(b),w=new Uint32Array(256);for(let A=0;A<i;A++)for(let T=0;T<e;T++){const E=A*e+T,_=t[E];let N=0,R=0;for(let L=0;L<l;L++){const P=A+L-f;if(!(P<0||P>=i))for(let F=0;F<l;F++){const H=T+F-f;if(H<0||H>=e)continue;const Y=t[P*e+H],J=u[L*l+F]*m[Math.abs(Y-_)];N+=Y*J,R+=J}}const D=x[E]=Math.round(N/R);w[D]++}return[x,w]}static#l(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e}static#d(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let r=-1/0,o=1/0;for(let u=0,d=i.length;u<d;u++){const f=i[u]=t[u<<2];r=Math.max(r,f),o=Math.min(o,f)}const l=255/(r-o);for(let u=0,d=i.length;u<d;u++)i[u]=(i[u]-o)*l;return i}static#h(t){let e,i=-1/0,r=-1/0;const o=t.findIndex(d=>d!==0);let l=o,u=o;for(e=o;e<256;e++){const d=t[e];d>i&&(e-l>r&&(r=e-l,u=e-1),i=d,l=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:i,height:r}=t,{maxDim:o}=this.#t;let l=i,u=r;if(i>o||r>o){let b=i,x=r,w=Math.log2(Math.max(i,r)/o);const A=Math.floor(w);w=w===A?A-1:A;for(let E=0;E<w;E++){l=Math.ceil(b/2),u=Math.ceil(x/2);const _=new OffscreenCanvas(l,u);_.getContext("2d").drawImage(t,0,0,b,x,0,0,l,u),b=l,x=u,t!==e&&t.close(),t=_.transferToImageBitmap()}const T=Math.min(o/l,o/u);l=Math.round(l*T),u=Math.round(u*T)}const f=new OffscreenCanvas(l,u).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,l,u),f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,l,u);const m=f.getImageData(0,0,l,u).data;return[this.#d(m),l,u]}static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:r},o,l,u,d){let f=new OffscreenCanvas(1,1),m=f.getContext("2d",{alpha:!1});const p=200,b=m.font=`${i} ${r} ${p}px ${e}`,{actualBoundingBoxLeft:x,actualBoundingBoxRight:w,actualBoundingBoxAscent:A,actualBoundingBoxDescent:T,fontBoundingBoxAscent:E,fontBoundingBoxDescent:_,width:N}=m.measureText(t),R=1.5,D=Math.ceil(Math.max(Math.abs(x)+Math.abs(w)||0,N)*R),L=Math.ceil(Math.max(Math.abs(A)+Math.abs(T)||p,Math.abs(E)+Math.abs(_)||p)*R);f=new OffscreenCanvas(D,L),m=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),m.font=b,m.filter="grayscale(1)",m.fillStyle="white",m.fillRect(0,0,D,L),m.fillStyle="black",m.fillText(t,D*(R-1)/2,L*(3-R)/2);const P=this.#d(m.getImageData(0,0,D,L).data),F=this.#l(P),H=this.#h(F),Y=this.#s(P,D,L,H);return this.processDrawnLines({lines:{curves:Y,width:D,height:L},pageWidth:o,pageHeight:l,rotation:u,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,i,r,o){const[l,u,d]=this.#f(t),[f,m]=this.#c(l,u,d,Math.hypot(u,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),p=this.#h(m),b=this.#s(f,u,d,p);return this.processDrawnLines({lines:{curves:b,width:u,height:d},pageWidth:e,pageHeight:i,rotation:r,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:r,innerMargin:o,mustSmooth:l,areContours:u}){r%180!==0&&([e,i]=[i,e]);const{curves:d,width:f,height:m}=t,p=t.thickness??0,b=[],x=Math.min(e/f,i/m),w=x/e,A=x/i,T=[];for(const{points:_}of d){const N=l?this.#o(_):_;if(!N)continue;T.push(N);const R=N.length,D=new Float32Array(R),L=new Float32Array(3*(R===2?2:R-2));if(b.push({line:L,points:D}),R===2){D[0]=N[0]*w,D[1]=N[1]*A,L.set([NaN,NaN,NaN,NaN,D[0],D[1]],0);continue}let[P,F,H,Y]=N;P*=w,F*=A,H*=w,Y*=A,D.set([P,F,H,Y],0),L.set([NaN,NaN,NaN,NaN,P,F],0);for(let J=4;J<R;J+=2){const at=D[J]=N[J]*w,ft=D[J+1]=N[J+1]*A;L.set(nt.createBezierPoints(P,F,H,Y,at,ft),(J-2)*3),[P,F,H,Y]=[H,Y,at,ft]}}if(b.length===0)return null;const E=u?new mm:new dl;return E.build(b,e,i,1,r,u?0:p,o),{outline:E,newCurves:T,areContours:u,thickness:p,width:f,height:m}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:r,height:o}){let l=1/0,u=-1/0,d=0;for(const N of t){d+=N.length;for(let R=2,D=N.length;R<D;R++){const L=N[R]-N[R-2];l=Math.min(l,L),u=Math.max(u,L)}}let f;l>=-128&&u<=127?f=Int8Array:l>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const m=t.length,p=Yc+Eo*m,b=new Uint32Array(p);let x=0;b[x++]=p*Uint32Array.BYTES_PER_ELEMENT+(d-2*m)*f.BYTES_PER_ELEMENT,b[x++]=0,b[x++]=r,b[x++]=o,b[x++]=e?0:1,b[x++]=Math.max(0,Math.floor(i??0)),b[x++]=m,b[x++]=f.BYTES_PER_ELEMENT;for(const N of t)b[x++]=N.length-2,b[x++]=N[0],b[x++]=N[1];const w=new CompressionStream("deflate-raw"),A=w.writable.getWriter();await A.ready,A.write(b);const T=f.prototype.constructor;for(const N of t){const R=new T(N.length-2);for(let D=2,L=N.length;D<L;D++)R[D-2]=N[D]-N[D-2];A.write(R)}A.close();const E=await new Response(w.readable).arrayBuffer(),_=new Uint8Array(E);return uA(_)}static async decompressSignature(t){try{const e=ck(t),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),o=r.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let l=null,u=0;for await(const N of i)l||=new Uint8Array(new Uint32Array(N.buffer,0,4)[0]),l.set(N,u),u+=N.length;const d=new Uint32Array(l.buffer,0,l.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const m=d[2],p=d[3],b=d[4]===0,x=d[5],w=d[6],A=d[7],T=[],E=(Yc+Eo*w)*Uint32Array.BYTES_PER_ELEMENT;let _;switch(A){case Int8Array.BYTES_PER_ELEMENT:_=new Int8Array(l.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:_=new Int16Array(l.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:_=new Int32Array(l.buffer,E);break}u=0;for(let N=0;N<w;N++){const R=d[Eo*N+Yc],D=new Float32Array(R+2);T.push(D);for(let L=0;L<Eo-1;L++)D[L]=d[Eo*N+Yc+L+1];for(let L=0;L<R;L++)D[L+2]=D[L]+_[u++]}return{areContours:b,thickness:x,outlines:T,width:m,height:p}}catch(e){return St(`decompressSignature: ${e}`),null}}}class Ap extends HA{constructor(){super(),super.updateProperties({fill:pt._defaultLineColor,"stroke-width":0})}clone(){const t=new Ap;return t.updateAll(this),t}}class Sp extends Ru{constructor(t){super(t),super.updateProperties({stroke:pt._defaultLineColor,"stroke-width":1})}clone(){const t=new Sp(this._viewParameters);return t.updateAll(this),t}}class ri extends bt{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=At.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){pt.initialize(t,e),this._defaultDrawingOptions=new Ap,this._defaultDrawnSignatureOptions=new Sp(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ct(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:o,areContours:l,description:u,uuid:d,heightInPage:f}=this.#i,{rawDims:{pageWidth:m,pageHeight:p},rotation:b}=this.parent.viewport,x=Ws.processDrawnLines({lines:r,pageWidth:m,pageHeight:p,rotation:b,innerMargin:ri._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(x,f,u,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:i,width:r,height:o}=this.#i,l=Math.max(r,o),u=Ws.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:i,width:r,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,i,r){const{x:o,y:l}=this,{outline:u}=this.#i=t;this.#t=u instanceof mm,this.description=i;let d;this.#t?d=ri.getDefaultDrawingOptions():(d=ri._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:d});const[,f]=this.pageDimensions;let m=e/f;m=m>=1?.5:m,this.width*=m/this.height,this.width>=1&&(m*=.9/this.width,this.width=.9),this.height=m,this.setDims(),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:r}=this.parent.viewport;return Ws.process(t,e,i,r,ri._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:i,pageHeight:r},rotation:o}=this.parent.viewport;return Ws.extractContoursFromText(t,e,i,r,o,ri._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:r}=this.parent.viewport;return Ws.processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:r,innerMargin:ri._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=ri.getDefaultDrawingOptions():(this._drawingOptions=ri._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":r}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:r});return this.addComment(o),t?(o.paths={lines:e,points:i},o.uuid=this.#n,o.isCopy=!0):o.lines=e,this.#e&&(o.accessibilityData={type:"Figure",alt:this.#e}),o}static deserializeDraw(t,e,i,r,o,l){return l.areContours?mm.deserialize(t,e,i,r,o,l):dl.deserialize(t,e,i,r,o,l)}static async deserialize(t,e,i){const r=await super.deserialize(t,e,i);return r.#t=t.areContours,r.description=t.accessibilityData?.alt||"",r.#n=t.uuid,r}}class zL extends pt{#t=null;#e=null;#i=null;#n=null;#r=null;#s="";#a=null;#o=!1;#c=null;#l=!1;#d=!1;static _type="stamp";static _editorType=At.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#r=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){pt.initialize(t,e)}static isHandlingMimeForPasting(t){return pu.includes(t)}static paste(t,e){e.pasteEditor({mode:At.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#m()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#a){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:r,width:o,height:l,channels:r.length/(o*l)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#g(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(i=>this.#h(i,!0)).finally(()=>this.#f());return}if(this.#n){const i=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(i).then(r=>this.#h(r)).finally(()=>this.#f());return}if(this.#r){const i=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(i).then(r=>this.#h(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=pu.join(",");const e=this._uiManager._signal;this.#i=new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(r)}i()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#a?.remove(),this.#a=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#g();return}super.rebuild(),this.div!==null&&(this.#e&&this.#a===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#r||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#m():this.#g()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:i,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#e=i,r&&(this.#t=r),this.#o=!1,this.#m())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#p()},t)}#m(){const{div:t}=this;let{width:e,height:i}=this.#t;const[r,o]=this.pageDimensions,l=.75;if(this.width)e=this.width*r,i=this.height*o;else if(e>l*r||i>l*o){const d=Math.min(l*r/e,l*o/i);e*=d,i*=d}this._uiManager.enableWaiting(!1);const u=this.#a=document.createElement("canvas");u.setAttribute("role","img"),this.addContainer(u),this.width=e/r,this.height=i/o,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#p(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,i=!1){t||(t=224);const{width:r,height:o}=this.#t,l=new Qn;let u=this.#t,d=r,f=o,m=null;if(e){if(r>e||o>e){const L=Math.min(e/r,e/o);d=Math.floor(r*L),f=Math.floor(o*L)}m=document.createElement("canvas");const b=m.width=Math.ceil(d*l.sx),x=m.height=Math.ceil(f*l.sy);this.#l||(u=this.#u(b,x));const w=m.getContext("2d");w.filter=this._uiManager.hcmFilter;let A="white",T="#cfcfd8";this._uiManager.hcmFilter!=="none"?T="black":dk.isDarkMode&&(A="#8f8f9d",T="#42414d");const E=15,_=E*l.sx,N=E*l.sy,R=new OffscreenCanvas(_*2,N*2),D=R.getContext("2d");D.fillStyle=A,D.fillRect(0,0,_*2,N*2),D.fillStyle=T,D.fillRect(0,0,_,N),D.fillRect(_,N,_,N),w.fillStyle=w.createPattern(R,"repeat"),w.fillRect(0,0,b,x),w.drawImage(u,0,0,u.width,u.height,0,0,b,x)}let p=null;if(i){let b,x;if(l.symmetric&&u.width<t&&u.height<t)b=u.width,x=u.height;else if(u=this.#t,r>t||o>t){const T=Math.min(t/r,t/o);b=Math.floor(r*T),x=Math.floor(o*T),this.#l||(u=this.#u(b,x))}const A=new OffscreenCanvas(b,x).getContext("2d",{willReadFrequently:!0});A.drawImage(u,0,0,u.width,u.height,0,0,b,x),p={width:b,height:x,data:A.getImageData(0,0,b,x).data}}return{canvas:m,width:d,height:f,imageData:p}}#u(t,e){const{width:i,height:r}=this.#t;let o=i,l=r,u=this.#t;for(;o>2*t||l>2*e;){const d=o,f=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const m=new OffscreenCanvas(o,l);m.getContext("2d").drawImage(u,0,0,d,f,0,0,o,l),u=m.transferToImageBitmap()}return u}#p(){const[t,e]=this.parentDimensions,{width:i,height:r}=this,o=new Qn,l=Math.ceil(i*t*o.sx),u=Math.ceil(r*e*o.sy),d=this.#a;if(!d||d.width===l&&d.height===u)return;d.width=l,d.height=u;const f=this.#l?this.#t:this.#u(l,u),m=d.getContext("2d");m.filter=this._uiManager.hcmFilter,m.drawImage(f,0,0,f.width,f.height,0,0,l,u)}#y(t){if(t){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,i]=this.pageDimensions,r=Math.round(this.width*e*ia.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*ia.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(r,o);return l.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,o),l.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,i){let r=null,o=!1;if(t instanceof IA){const{data:{rect:A,rotation:T,id:E,structParent:_,popupRef:N,richText:R,contentsObj:D,creationDate:L,modificationDate:P},container:F,parent:{page:{pageNumber:H}},canvas:Y}=t;let J,at;Y?(delete t.canvas,{id:J,bitmap:at}=i.imageManager.getFromCanvas(F.id,Y),Y.remove()):(o=!0,t._hasNoCanvas=!0);const ft=(await e._structTree.getAriaAttributes(`${ap}${E}`))?.get("aria-label")||"";r=t={annotationType:At.STAMP,bitmapId:J,bitmap:at,pageIndex:H-1,rect:A.slice(0),rotation:T,annotationElementId:E,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:ft},isSvg:!1,structParent:_,popupRef:N,richText:R,comment:D?.str||null,creationDate:L,modificationDate:P}}const l=await super.deserialize(t,e,i),{rect:u,bitmap:d,bitmapUrl:f,bitmapId:m,isSvg:p,accessibilityData:b}=t;o?(i.addMissingCanvas(t.id,l),l.#o=!0):m&&i.imageManager.isValidId(m)?(l.#e=m,d&&(l.#t=d)):l.#n=f,l.#l=p;const[x,w]=l.pageDimensions;return l.width=(u[2]-u[0])/x,l.height=(u[3]-u[1])/w,b&&(l.altTextData=b),l._initialData=r,t.comment&&l.setCommentData(t),l.#d=!!r,l}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(i),t)return i.bitmapUrl=this.#y(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const u=this.#b(i);return u.isSame?null:(u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(e===null)return i;e.stamps||=new Map;const l=this.#l?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:l,serialized:i}),i.bitmap=this.#y(!1);else if(this.#l){const u=e.stamps.get(this.#e);l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=this.#y(!1))}return i}#b(t){const{pageIndex:e,accessibilityData:{altText:i}}=this._initialData,r=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class li{#t;#e=!1;#i=null;#n=null;#r=null;#s=new Map;#a=!1;#o=!1;#c=!1;#l=null;#d=null;#h=null;#f=null;#g=null;#m=-1;#u;static _initialized=!1;static#p=new Map([Ne,wp,zL,pe,ri].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:r,accessibilityManager:o,annotationLayer:l,drawLayer:u,textLayer:d,viewport:f,l10n:m}){const p=[...li.#p.values()];if(!li._initialized){li._initialized=!0;for(const b of p)b.initialize(m,t)}t.registerEditorTypes(p),this.#u=t,this.pageIndex=e,this.div=i,this.#t=o,this.#i=l,this.viewport=f,this.#h=d,this.drawLayer=u,this._structTree=r,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===At.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#x(),t){case At.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case At.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case At.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===At.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const i of li.#p.values())e.toggle(`${i._type}Editing`,t===i._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}get#y(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const t=new Set;for(const i of this.#y)i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#u.removeChangedExistingAnnotation(i),t.add(i.annotationElementId));const e=this.#i;if(e)for(const i of e.getEditableAnnotations()){if(i.hide(),this.#u.isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#g){this.#g=new AbortController;const i=this.#u.combinedSignal(this.#g);this.#h.div.addEventListener("pointerdown",r=>{const{clientX:l,clientY:u,timeStamp:d}=r,f=this.#m;if(d-f>500){this.#m=d;return}this.#m=-1;const{classList:m}=this.div;m.toggle("getElements",!0);const p=document.elementsFromPoint(l,u);if(m.toggle("getElements",!1),!this.div.contains(p[0]))return;let b;const x=new RegExp(`^${Ho}[0-9]+$`);for(const A of p)if(x.test(A.id)){b=A.id;break}if(!b)return;const w=this.#s.get(b);w?.annotationElementId===null&&(r.stopPropagation(),r.preventDefault(),w.dblclick(r))},{signal:i,capture:!0})}const t=this.#i;if(t){const i=new Map,r=new Map;for(const l of this.#y){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(t);continue}if(l.serialize()!==null){i.set(l.annotationElementId,l);continue}else r.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const o=t.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(this.#u.isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let d=r.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=i.get(u),d&&(this.#u.addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}this.#x(),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const i of li.#p.values())e.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#h.div.addEventListener("pointerdown",this.#b.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#h.div.classList.remove("highlighting"))}#b(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:i}=Re.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#u.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),pe.startHighlighting(this,this.#u.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t.annotationElementId),pt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#r&&(t._focusEventsAllowed=!1,this.#r=setTimeout(()=>{this.#r=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getEditorByUID(t){for(const e of this.#s.values())if(e.uid===t)return e;return null}getNextId(){return this.#u.getId()}get#v(){return li.#p.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#T(t){const e=this.#v;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:i,offsetY:r}=this.#S(),o=this.getNextId(),l=this.#T({parent:this,id:o,x:i,y:r,uiManager:this.#u,isCentered:!0,...e});l&&this.add(l)}async deserialize(t){return await li.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,i={}){const r=this.getNextId(),o=this.#T({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...i});return o&&this.add(o),o}get boundingClientRect(){return this.div.getBoundingClientRect()}#S(){const{x:t,y:e,width:i,height:r}=this.boundingClientRect,o=Math.max(0,t),l=Math.max(0,e),u=Math.min(window.innerWidth,t+i),d=Math.min(window.innerHeight,e+r),f=(o+u)/2-t,m=(l+d)/2-e,[p,b]=this.viewport.rotation%180===0?[f,m]:[m,f];return{offsetX:p,offsetY:b}}addNewEditor(t={}){this.createAndAddNewEditor(this.#S(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=Re.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#a||(this.#a=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const i=this.#u.getMode();if(i===At.STAMP||i===At.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===At.HIGHLIGHT&&this.enableTextSelection(),this.#a){this.#a=!1;return}const{isMac:e}=Re.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#a=!0,this.#v?.isDrawer){this.startDrawingSession(t);return}const i=this.#u.getActive();this.#e=!i||i.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#v.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#v.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#v.endDrawing(t)):null}findNewParent(t,e,i){const r=this.#u.findParent(e,i);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#r&&(clearTimeout(this.#r),this.#r=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#x(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Es(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#x();const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,Es(this.div,{rotation:i}),e!==i)for(const r of this.#s.values())r.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class Me{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Ct(this,"_svgFactory",new Yo)}static#r(t,[e,i,r,o]){const{style:l}=t;l.top=`${100*i}%`,l.left=`${100*e}%`,l.width=`${100*r}%`,l.height=`${100*o}%`}#s(){const t=Me._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#a(t,e){const i=Me._svgFactory.createElement("clipPath");t.append(i);const r=`clip_${e}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const o=Me._svgFactory.createElement("use");return i.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),r}#o(t,e){for(const[i,r]of Object.entries(e))r===null?t.removeAttribute(i):t.setAttribute(i,r)}draw(t,e=!1,i=!1){const r=Me.#n++,o=this.#s(),l=Me._svgFactory.createElement("defs");o.append(l);const u=Me._svgFactory.createElement("path");l.append(u);const d=`path_p${this.pageIndex}_${r}`;u.setAttribute("id",d),u.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(r,u);const f=i?this.#a(l,d):null,m=Me._svgFactory.createElement("use");return o.append(m),m.setAttribute("href",`#${d}`),this.updateProperties(o,t),this.#e.set(r,o),{id:r,clipPathId:`url(#${f})`}}drawOutline(t,e){const i=Me.#n++,r=this.#s(),o=Me._svgFactory.createElement("defs");r.append(o);const l=Me._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${i}`;l.setAttribute("id",u),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const p=Me._svgFactory.createElement("mask");o.append(p),d=`mask_p${this.pageIndex}_${i}`,p.setAttribute("id",d),p.setAttribute("maskUnits","objectBoundingBox");const b=Me._svgFactory.createElement("rect");p.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const x=Me._svgFactory.createElement("use");p.append(x),x.setAttribute("href",`#${u}`),x.setAttribute("stroke","none"),x.setAttribute("fill","black"),x.setAttribute("fill-rule","nonzero"),x.classList.add("mask")}const f=Me._svgFactory.createElement("use");r.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const m=f.cloneNode();return r.append(m),f.classList.add("mainOutline"),m.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(i,r),i}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:i,bbox:r,rootClass:o,path:l}=e,u=typeof t=="number"?this.#e.get(t):t;if(u){if(i&&this.#o(u,i),r&&Me.#r(u,r),o){const{classList:d}=u;for(const[f,m]of Object.entries(o))d.toggle(f,m)}if(l){const f=u.firstChild.firstChild;this.#o(f,l)}}}updateParent(t,e){if(e===this)return;const i=this.#e.get(t);i&&(e.#t.append(i),this.#e.delete(t),e.#e.set(t,i))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:dm};globalThis.pdfjsLib={AbortException:Ui,AnnotationEditorLayer:li,AnnotationEditorParamsType:Dt,AnnotationEditorType:At,AnnotationEditorUIManager:Vi,AnnotationLayer:xp,AnnotationMode:ci,AnnotationType:me,applyOpacity:pA,build:PA,ColorPicker:xn,createValidAbsoluteUrl:np,CSSConstants:mA,DOMSVGFactory:Yo,DrawLayer:Me,FeatureTest:Re,fetchData:br,findContrastColor:gA,getDocument:mp,getFilenameFromUrl:hA,getPdfFilenameFromUrl:dA,getRGB:xr,getUuid:sp,getXfaPageViewport:fA,GlobalWorkerOptions:bs,ImageKind:Po,InvalidPDFException:fu,isDataScheme:ll,isPdfFile:Nu,isValidExplicitDest:xA,MathClamp:Ie,noContextMenu:An,normalizeUnicode:cA,OPS:dr,OutputScale:Qn,PasswordResponses:oA,PDFDataRangeTransport:gp,PDFDateString:mu,PDFWorker:fr,PermissionFlag:rA,PixelsPerInch:ia,RenderingCancelledException:_u,renderRichText:op,ResponseException:qo,setLayerDimensions:Es,shadow:Ct,SignatureExtractor:Ws,stopEvent:ae,SupportedImageMimeTypes:pu,TextLayer:$o,TouchManager:ul,updateUrlHash:ip,Util:it,VerbosityLevel:al,version:yp,XfaLayer:rp};const IL=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Ui,AnnotationEditorLayer:li,AnnotationEditorParamsType:Dt,AnnotationEditorType:At,AnnotationEditorUIManager:Vi,AnnotationLayer:xp,AnnotationMode:ci,AnnotationType:me,CSSConstants:mA,ColorPicker:xn,DOMSVGFactory:Yo,DrawLayer:Me,FeatureTest:Re,GlobalWorkerOptions:bs,ImageKind:Po,InvalidPDFException:fu,MathClamp:Ie,OPS:dr,OutputScale:Qn,PDFDataRangeTransport:gp,PDFDateString:mu,PDFWorker:fr,PasswordResponses:oA,PermissionFlag:rA,PixelsPerInch:ia,RenderingCancelledException:_u,ResponseException:qo,SignatureExtractor:Ws,SupportedImageMimeTypes:pu,TextLayer:$o,TouchManager:ul,Util:it,VerbosityLevel:al,XfaLayer:rp,applyOpacity:pA,build:PA,createValidAbsoluteUrl:np,fetchData:br,findContrastColor:gA,getDocument:mp,getFilenameFromUrl:hA,getPdfFilenameFromUrl:dA,getRGB:xr,getUuid:sp,getXfaPageViewport:fA,isDataScheme:ll,isPdfFile:Nu,isValidExplicitDest:xA,noContextMenu:An,normalizeUnicode:cA,renderRichText:op,setLayerDimensions:Es,shadow:Ct,stopEvent:ae,updateUrlHash:ip,version:yp},Symbol.toStringTag,{value:"Module"}));function qA(a){var t,e,i="";if(typeof a=="string"||typeof a=="number")i+=a;else if(typeof a=="object")if(Array.isArray(a)){var r=a.length;for(t=0;t<r;t++)a[t]&&(e=qA(a[t]))&&(i&&(i+=" "),i+=e)}else for(e in a)a[e]&&(i&&(i+=" "),i+=e);return i}function Du(){for(var a,t,e=0,i="",r=arguments.length;e<r;e++)(a=arguments[e])&&(t=qA(a))&&(i&&(i+=" "),i+=t);return i}var Bx=Object.prototype.hasOwnProperty;function Fx(a,t,e){for(e of a.keys())if(or(e,t))return e}function or(a,t){var e,i,r;if(a===t)return!0;if(a&&t&&(e=a.constructor)===t.constructor){if(e===Date)return a.getTime()===t.getTime();if(e===RegExp)return a.toString()===t.toString();if(e===Array){if((i=a.length)===t.length)for(;i--&&or(a[i],t[i]););return i===-1}if(e===Set){if(a.size!==t.size)return!1;for(i of a)if(r=i,r&&typeof r=="object"&&(r=Fx(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(a.size!==t.size)return!1;for(i of a)if(r=i[0],r&&typeof r=="object"&&(r=Fx(t,r),!r)||!or(i[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)a=new Uint8Array(a),t=new Uint8Array(t);else if(e===DataView){if((i=a.byteLength)===t.byteLength)for(;i--&&a.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(a)){if((i=a.byteLength)===t.byteLength)for(;i--&&a[i]===t[i];);return i===-1}if(!e||typeof a=="object"){i=0;for(e in a)if(Bx.call(a,e)&&++i&&!Bx.call(t,e)||!(e in t)||!or(a[e],t[e]))return!1;return Object.keys(t).length===i}}return a!==a&&t!==t}function fl(a){let t=!1;return{promise:new Promise((i,r)=>{a.then(o=>!t&&i(o)).catch(o=>!t&&r(o))}),cancel(){t=!0}}}const UL=["onCopy","onCut","onPaste"],VL=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],HL=["onFocus","onBlur"],qL=["onInput","onInvalid","onReset","onSubmit"],GL=["onLoad","onError"],$L=["onKeyDown","onKeyPress","onKeyUp"],XL=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],YL=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],WL=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],KL=["onSelect"],QL=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],ZL=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],JL=["onScroll"],tP=["onWheel"],eP=["onAnimationStart","onAnimationEnd","onAnimationIteration"],nP=["onTransitionEnd"],iP=["onToggle"],sP=["onChange"],aP=[...UL,...VL,...HL,...qL,...GL,...$L,...XL,...YL,...WL,...KL,...QL,...ZL,...JL,...tP,...eP,...nP,...sP,...iP];function GA(a,t){const e={};for(const i of aP){const r=a[i];r&&(t?e[i]=(o=>r(o,t(i))):e[i]=r)}return e}var rP="Invariant failed";function Wt(a,t){if(!a)throw new Error(rP)}var jf,zx;function oP(){if(zx)return jf;zx=1;var a=function(){};return jf=a,jf}var lP=oP();const Ve=xE(lP),$A=M.createContext(null),cP="noopener noreferrer nofollow";class uP{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Wt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Wt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||cP,t.target=i?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{Wt(this.pdfDocument),Wt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Wt(Array.isArray(e));const i=e[0];new Promise(r=>{Wt(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(o=>{r(o)}).catch(()=>{Wt(!1)}):typeof i=="number"?r(i):Wt(!1)}).then(r=>{const o=r+1;Wt(this.pdfViewer),Wt(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:o})})})}goToPage(t){const e=t-1;Wt(this.pdfViewer),Wt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function lr({children:a,type:t}){return y.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:a})}const Ix={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function hP(a,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return a}}function mr(){return M.useReducer(hP,{value:void 0,error:void 0})}const ju=typeof window<"u",XA=ju&&window.location.protocol==="file:";function dP(a){return typeof a<"u"}function Xs(a){return dP(a)&&a!==null}function fP(a){return typeof a=="string"}function mP(a){return a instanceof ArrayBuffer}function pP(a){return Wt(ju),a instanceof Blob}function pm(a){return fP(a)&&/^data:/.test(a)}function Ux(a){Wt(pm(a));const[t="",e=""]=a.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function gP(){return ju&&window.devicePixelRatio||1}const YA="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Vx(){Ve(!XA,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${YA}`)}function yP(){Ve(!XA,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${YA}`)}function aa(a){a?.cancel&&a.cancel()}function gm(a,t){return Object.defineProperty(a,"width",{get(){return this.getViewport({scale:t}).width},configurable:!0}),Object.defineProperty(a,"height",{get(){return this.getViewport({scale:t}).height},configurable:!0}),Object.defineProperty(a,"originalWidth",{get(){return this.getViewport({scale:1}).width},configurable:!0}),Object.defineProperty(a,"originalHeight",{get(){return this.getViewport({scale:1}).height},configurable:!0}),a}function WA(a){return a.name==="AbortException"||a.name==="RenderingCancelledException"}function vP(a){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(a)})}const{PDFDataRangeTransport:bP}=IL,xP=(a,t)=>{switch(t){case Ix.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");a(e);break}case Ix.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");a(e);break}}};function Hx(a){return typeof a=="object"&&a!==null&&("data"in a||"range"in a||"url"in a)}const wP=M.forwardRef(function({children:t,className:e,error:i="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:o,file:l,inputRef:u,imageResourcesPath:d,loading:f="Loading PDF",noData:m="No PDF file specified.",onItemClick:p,onLoadError:b,onLoadProgress:x,onLoadSuccess:w,onPassword:A=xP,onSourceError:T,onSourceSuccess:E,options:_,renderMode:N,rotate:R,scale:D,...L},P){const[F,H]=mr(),{value:Y,error:J}=F,[at,ft]=mr(),{value:rt,error:vt}=at,B=M.useRef(new uP),V=M.useRef([]),Q=M.useRef(void 0),lt=M.useRef(void 0);l&&l!==Q.current&&Hx(l)&&(Ve(!or(l,Q.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Q.current=l),_&&_!==lt.current&&(Ve(!or(_,lt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),lt.current=_);const xt=M.useRef({scrollPageIntoView:Xt=>{const{dest:Lt,pageNumber:Zt,pageIndex:Te=Zt-1}=Xt;if(p){p({dest:Lt,pageIndex:Te,pageNumber:Zt});return}const ge=V.current[Te];if(ge){ge.scrollIntoView();return}Ve(!1,`An internal link leading to page ${Zt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});M.useImperativeHandle(P,()=>({linkService:B,pages:V,viewer:xt}),[]);function k(){E&&E()}function $(){J&&(Ve(!1,J.toString()),T&&T(J))}function Z(){H({type:"RESET"})}M.useEffect(Z,[l,H]);const et=M.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return pm(l)?{data:Ux(l)}:(Vx(),{url:l});if(l instanceof bP)return{range:l};if(mP(l))return{data:l};if(ju&&pP(l))return{data:await vP(l)};if(Wt(typeof l=="object"),Wt(Hx(l)),"url"in l&&typeof l.url=="string"){if(pm(l.url)){const{url:Xt,...Lt}=l;return{data:Ux(Xt),...Lt}}Vx()}return l},[l]);M.useEffect(()=>{const Xt=fl(et());return Xt.promise.then(Lt=>{H({type:"RESOLVE",value:Lt})}).catch(Lt=>{H({type:"REJECT",error:Lt})}),()=>{aa(Xt)}},[et,H]),M.useEffect(()=>{if(!(typeof Y>"u")){if(Y===!1){$();return}k()}},[Y]);function dt(){rt&&(w&&w(rt),V.current=new Array(rt.numPages),B.current.setDocument(rt))}function gt(){vt&&(Ve(!1,vt.toString()),b&&b(vt))}M.useEffect(function(){ft({type:"RESET"})},[ft,Y]),M.useEffect(function(){if(!Y)return;const Lt=_?{...Y,..._}:Y,Zt=mp(Lt);x&&(Zt.onProgress=x),A&&(Zt.onPassword=A);const Te=Zt;return Te.promise.then(ge=>{Te.destroyed||ft({type:"RESOLVE",value:ge})}).catch(ge=>{Te.destroyed||ft({type:"REJECT",error:ge})}),()=>{Te.destroy()}},[_,ft,Y]),M.useEffect(()=>{if(!(typeof rt>"u")){if(rt===!1){gt();return}dt()}},[rt]),M.useEffect(function(){B.current.setViewer(xt.current),B.current.setExternalLinkRel(r),B.current.setExternalLinkTarget(o)},[r,o]);const ut=M.useCallback((Xt,Lt)=>{V.current[Xt]=Lt},[]),$t=M.useCallback(Xt=>{delete V.current[Xt]},[]),Pt=M.useMemo(()=>({imageResourcesPath:d,linkService:B.current,onItemClick:p,pdf:rt,registerPage:ut,renderMode:N,rotate:R,scale:D,unregisterPage:$t}),[d,p,rt,ut,N,R,D,$t]),qe=M.useMemo(()=>GA(L,()=>rt),[L,rt]);function zt(){function Xt(Zt){return!!Zt?.pdf}if(!Xt(Pt))throw new Error("pdf is undefined");const Lt=typeof t=="function"?t(Pt):t;return y.jsx($A.Provider,{value:Pt,children:Lt})}function ln(){return l?rt==null?y.jsx(lr,{type:"loading",children:typeof f=="function"?f():f}):rt===!1?y.jsx(lr,{type:"error",children:typeof i=="function"?i():i}):zt():y.jsx(lr,{type:"no-data",children:typeof m=="function"?m():m})}return y.jsx("div",{className:Du("react-pdf__Document",e),ref:u,...qe,children:ln()})});function KA(){return M.useContext($A)}function QA(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];var e=a.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(o){for(var l=0,u=e;l<u.length;l++){var d=u[l];typeof d=="function"?d(o):d&&(d.current=o)}}}const ZA=M.createContext(null);function ku(){return M.useContext(ZA)}function AP(){const a=KA(),t=ku();Wt(t);const e={...a,...t},{filterAnnotations:i,imageResourcesPath:r,linkService:o,onGetAnnotationsError:l,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:f,page:m,pdf:p,renderForms:b,rotate:x,scale:w=1}=e;Wt(p),Wt(m),Wt(o);const[A,T]=mr(),{value:E,error:_}=A,N=M.useRef(null);Ve(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function R(){E&&u&&u(E)}function D(){_&&(Ve(!1,_.toString()),l&&l(_))}M.useEffect(function(){T({type:"RESET"})},[T,m]),M.useEffect(function(){if(!m)return;const Y=fl(m.getAnnotations()),J=Y;return Y.promise.then(at=>{T({type:"RESOLVE",value:at})}).catch(at=>{T({type:"REJECT",error:at})}),()=>{aa(J)}},[T,m]),M.useEffect(()=>{if(E!==void 0){if(E===!1){D();return}R()}},[E]);function L(){f&&f()}function P(H){Ve(!1,`${H}`),d&&d(H)}const F=M.useMemo(()=>m.getViewport({scale:w,rotation:x}),[m,x,w]);return M.useEffect(function(){if(!p||!m||!o||!E)return;const{current:Y}=N;if(!Y)return;const J=F.clone({dontFlip:!0}),at={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:p.annotationStorage,commentManager:null,div:Y,l10n:null,linkService:o,page:m,structTreeLayer:null,viewport:J},ft={annotations:i?i({annotations:E}):E,annotationStorage:p.annotationStorage,div:Y,imageResourcesPath:r,linkService:o,page:m,renderForms:b,viewport:J};Y.innerHTML="";try{new xp(at).render(ft),L()}catch(rt){P(rt)}return()=>{}},[E,i,r,o,m,p,b,F]),y.jsx("div",{className:Du("react-pdf__Page__annotations","annotationLayer"),ref:N})}const JA={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},SP=/^H(\d+)$/;function EP(a){return a in JA}function Lu(a){return"children"in a}function tS(a){return Lu(a)?a.children.length===1&&0 in a.children&&"id"in a.children[0]:!1}function TP(a){const t={};if(Lu(a)){const{role:e}=a,i=e.match(SP);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(EP(e)){const r=JA[e];r&&(t.role=r)}}return t}function eS(a){const t={};if(Lu(a)){if(a.alt!==void 0&&(t["aria-label"]=a.alt),a.lang!==void 0&&(t.lang=a.lang),tS(a)){const[e]=a.children;if(e){const i=eS(e);return{...t,...i}}}}else"id"in a&&(t["aria-owns"]=a.id);return t}function CP(a){return a?{...TP(a),...eS(a)}:null}function nS({className:a,node:t}){const e=M.useMemo(()=>CP(t),[t]),i=M.useMemo(()=>!Lu(t)||tS(t)?null:t.children.map((r,o)=>y.jsx(nS,{node:r},o)),[t]);return y.jsx("span",{className:a,...e,children:i})}function _P(){const a=ku();Wt(a);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=a,[i,r]=mr(),{value:o,error:l}=i,{customTextRenderer:u,page:d}=a;function f(){o&&e&&e(o)}function m(){l&&(Ve(!1,l.toString()),t&&t(l))}return M.useEffect(function(){r({type:"RESET"})},[r,d]),M.useEffect(function(){if(u||!d)return;const b=fl(d.getStructTree()),x=b;return b.promise.then(w=>{r({type:"RESOLVE",value:w})}).catch(w=>{r({type:"REJECT",error:w})}),()=>aa(x)},[u,d,r]),M.useEffect(()=>{if(o!==void 0){if(o===!1){m();return}f()}},[o]),o?y.jsx(nS,{className:"react-pdf__Page__structTree structTree",node:o}):null}const qx=ci;function NP(a){const t=ku();Wt(t);const e={...t,...a},{_className:i,canvasBackground:r,devicePixelRatio:o=gP(),onRenderError:l,onRenderSuccess:u,page:d,renderForms:f,renderTextLayer:m,rotate:p,scale:b}=e,{canvasRef:x}=a;Wt(d);const w=M.useRef(null);function A(){d&&u&&u(gm(d,b))}function T(R){WA(R)||(Ve(!1,R.toString()),l&&l(R))}const E=M.useMemo(()=>d.getViewport({scale:b*o,rotation:p}),[o,d,p,b]),_=M.useMemo(()=>d.getViewport({scale:b,rotation:p}),[d,p,b]);M.useEffect(function(){if(!d)return;d.cleanup();const{current:D}=w;if(!D)return;D.width=E.width,D.height=E.height,D.style.width=`${Math.floor(_.width)}px`,D.style.height=`${Math.floor(_.height)}px`,D.style.visibility="hidden";const L={annotationMode:f?qx.ENABLE_FORMS:qx.ENABLE,canvas:D,canvasContext:D.getContext("2d",{alpha:!1}),viewport:E};r&&(L.background=r);const P=d.render(L),F=P;return P.promise.then(()=>{D.style.visibility="",A()}).catch(T),()=>aa(F)},[r,d,f,E,_]);const N=M.useCallback(()=>{const{current:R}=w;R&&(R.width=0,R.height=0)},[]);return M.useEffect(()=>N,[N]),y.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:QA(x,w),style:{display:"block",userSelect:"none"},children:m?y.jsx(_P,{}):null})}function MP(a){return"str"in a}function RP(){const a=ku();Wt(a);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:l,pageIndex:u,pageNumber:d,rotate:f,scale:m}=a;Wt(l);const[p,b]=mr(),{value:x,error:w}=p,A=M.useRef(null);Ve(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function T(){x&&i&&i(x)}function E(){w&&(Ve(!1,w.toString()),e&&e(w))}M.useEffect(function(){b({type:"RESET"})},[l,b]),M.useEffect(function(){if(!l)return;const F=fl(l.getTextContent()),H=F;return F.promise.then(Y=>{b({type:"RESOLVE",value:Y})}).catch(Y=>{b({type:"REJECT",error:Y})}),()=>aa(H)},[l,b]),M.useEffect(()=>{if(x!==void 0){if(x===!1){E();return}T()}},[x]);const _=M.useCallback(()=>{o&&o()},[o]),N=M.useCallback(P=>{WA(P)||(Ve(!1,P.toString()),r&&r(P))},[r]);function R(){const P=A.current;P&&P.classList.add("selecting")}function D(){const P=A.current;P&&P.classList.remove("selecting")}const L=M.useMemo(()=>l.getViewport({scale:m,rotation:f}),[l,f,m]);return M.useLayoutEffect(function(){if(!l||!x)return;const{current:F}=A;if(!F)return;F.innerHTML="";const H=l.streamTextContent({includeMarkedContent:!0}),Y={container:F,textContentSource:H,viewport:L},J=new $o(Y),at=J;return J.render().then(()=>{const ft=document.createElement("div");ft.className="endOfContent",F.append(ft);const rt=F.querySelectorAll('[role="presentation"]');if(t){let vt=0;x.items.forEach((B,V)=>{if(!MP(B))return;const Q=rt[vt];if(!Q)return;const lt=t({pageIndex:u,pageNumber:d,itemIndex:V,...B});Q.innerHTML=lt,vt+=B.str&&B.hasEOL?2:1})}_()}).catch(N),()=>aa(at)},[t,N,_,l,u,d,x,L]),y.jsx("div",{className:Du("react-pdf__Page__textContent","textLayer"),onMouseUp:D,onMouseDown:R,ref:A})}const Gx=1;function DP(a){const e={...KA(),...a},{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:l,children:u,className:d,customRenderer:f,customTextRenderer:m,devicePixelRatio:p,error:b="Failed to load the page.",filterAnnotations:x,height:w,inputRef:A,loading:T="Loading page",noData:E="No page specified.",onGetAnnotationsError:_,onGetAnnotationsSuccess:N,onGetStructTreeError:R,onGetStructTreeSuccess:D,onGetTextError:L,onGetTextSuccess:P,onLoadError:F,onLoadSuccess:H,onRenderAnnotationLayerError:Y,onRenderAnnotationLayerSuccess:J,onRenderError:at,onRenderSuccess:ft,onRenderTextLayerError:rt,onRenderTextLayerSuccess:vt,pageIndex:B,pageNumber:V,pdf:Q,registerPage:lt,renderAnnotationLayer:xt=!0,renderForms:k=!1,renderMode:$="canvas",renderTextLayer:Z=!0,rotate:et,scale:dt=Gx,unregisterPage:gt,width:ut,...$t}=e,[Pt,qe]=mr(),{value:zt,error:ln}=Pt,Xt=M.useRef(null);Wt(Q);const Lt=Xs(V)?V-1:B??null,Zt=V??(Xs(B)?B+1:null),Te=et??(zt?zt.rotate:null),ge=M.useMemo(()=>{if(!zt)return null;let cn=1;const Hi=dt??Gx;if(ut||w){const Hn=zt.getViewport({scale:1,rotation:Te});ut?cn=ut/Hn.width:w&&(cn=w/Hn.height)}return Hi*cn},[w,zt,Te,dt,ut]);M.useEffect(function(){return()=>{Xs(Lt)&&r&&gt&&gt(Lt)}},[r,Q,Lt,gt]);function ml(){if(H){if(!zt||!ge)return;H(gm(zt,ge))}if(r&&lt){if(!Xs(Lt)||!Xt.current)return;lt(Lt,Xt.current)}}function wr(){ln&&(Ve(!1,ln.toString()),F&&F(ln))}M.useEffect(function(){qe({type:"RESET"})},[qe,Q,Lt]),M.useEffect(function(){if(!Q||!Zt)return;const Hi=fl(Q.getPage(Zt)),Hn=Hi;return Hi.promise.then(Sr=>{qe({type:"RESOLVE",value:Sr})}).catch(Sr=>{qe({type:"REJECT",error:Sr})}),()=>aa(Hn)},[qe,Q,Zt]),M.useEffect(()=>{if(zt!==void 0){if(zt===!1){wr();return}ml()}},[zt,ge]);const _s=M.useMemo(()=>Xs(Lt)&&Zt&&Xs(Te)&&Xs(ge)?{_className:i,canvasBackground:o,customTextRenderer:m,devicePixelRatio:p,filterAnnotations:x,onGetAnnotationsError:_,onGetAnnotationsSuccess:N,onGetStructTreeError:R,onGetStructTreeSuccess:D,onGetTextError:L,onGetTextSuccess:P,onRenderAnnotationLayerError:Y,onRenderAnnotationLayerSuccess:J,onRenderError:at,onRenderSuccess:ft,onRenderTextLayerError:rt,onRenderTextLayerSuccess:vt,page:zt,pageIndex:Lt,pageNumber:Zt,renderForms:k,renderTextLayer:Z,rotate:Te,scale:ge}:null,[i,o,m,p,x,_,N,R,D,L,P,Y,J,at,ft,rt,vt,zt,Lt,Zt,k,Z,Te,ge]),Ar=M.useMemo(()=>GA($t,()=>zt&&(ge?gm(zt,ge):void 0)),[$t,zt,ge]),ca=`${Lt}@${ge}/${Te}`;function Pu(){switch($){case"custom":return Wt(f),y.jsx(f,{},`${ca}_custom`);case"none":return null;default:return y.jsx(NP,{canvasRef:l},`${ca}_canvas`)}}function Ge(){return Z?y.jsx(RP,{},`${ca}_text`):null}function Ou(){return xt?y.jsx(AP,{},`${ca}_annotations`):null}function pl(){function cn(Hn){return!!Hn?.page}if(!cn(_s))throw new Error("page is undefined");const Hi=typeof u=="function"?u(_s):u;return y.jsxs(ZA.Provider,{value:_s,children:[Pu(),Ge(),Ou(),Hi]})}function gl(){return Zt?Q===null||zt===void 0||zt===null?y.jsx(lr,{type:"loading",children:typeof T=="function"?T():T}):Q===!1||zt===!1?y.jsx(lr,{type:"error",children:typeof b=="function"?b():b}):pl():y.jsx(lr,{type:"no-data",children:typeof E=="function"?E():E})}return y.jsx("div",{className:Du(i,d),"data-page-number":Zt,ref:QA(A,Xt),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${ge}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Ar,children:gl()})}yP();bs.workerSrc="pdf.worker.mjs";bs.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${yp}/pdf.worker.min.js`;function jP({article:a,onClose:t}){console.log("PDF URL:",a.pdfUrl);const[e,i]=M.useState(0),[r,o]=M.useState(1),[l,u]=M.useState(1.2),[d,f]=M.useState(!0);M.useEffect(()=>{const A=E=>(E.preventDefault(),!1),T=E=>{if((E.ctrlKey||E.metaKey)&&["p","s","c"].includes(E.key.toLowerCase()))return E.preventDefault(),E.stopPropagation(),alert("This action is restricted for this document."),!1};return document.addEventListener("contextmenu",A,!0),document.addEventListener("keydown",T,!0),document.addEventListener("dragstart",A,!0),document.addEventListener("selectstart",A,!0),document.addEventListener("copy",A,!0),document.addEventListener("cut",A,!0),()=>{document.removeEventListener("contextmenu",A,!0),document.removeEventListener("keydown",T,!0),document.removeEventListener("dragstart",A,!0),document.removeEventListener("selectstart",A,!0),document.removeEventListener("copy",A,!0),document.removeEventListener("cut",A,!0)}},[]);const m=M.useCallback(({numPages:A})=>{i(A),f(!1)},[]),p=()=>u(A=>Math.min(A+.2,3)),b=()=>u(A=>Math.max(A-.2,.5)),x=()=>o(A=>Math.min(A+1,e)),w=()=>o(A=>Math.max(A-1,1));return y.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 flex flex-col",onContextMenu:A=>A.preventDefault(),children:[y.jsx("div",{className:"absolute inset-0 pointer-events-none z-10 opacity-5",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='500' height='500'%3E%3Ctext x='50%25' y='50%25' font-size='40' fill='white' text-anchor='middle' transform='rotate(-45 250 250)'%3EConfidential - Aman Sah%3C/text%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}}),y.jsxs("div",{className:"h-16 glass-card border-b border-border/50 flex items-center justify-between px-4 relative z-20 shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:t,className:"w-10 h-10 rounded-lg neu-button flex items-center justify-center hover:scale-105 transition-transform",children:y.jsx(Ss,{className:"w-5 h-5"})}),y.jsxs("div",{className:"hidden sm:block",children:[y.jsx("h3",{className:"font-semibold text-sm truncate max-w-[300px]",children:a.title}),y.jsxs("p",{className:"text-xs text-muted-foreground",children:["By ",a.author,"  ",a.date]})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"hidden sm:flex items-center gap-1 glass-card p-1",children:[y.jsx("button",{onClick:b,className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center",children:y.jsx(sl,{className:"w-4 h-4"})}),y.jsxs("span",{className:"text-sm w-16 text-center",children:[Math.round(l*100),"%"]}),y.jsx("button",{onClick:p,className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center",children:y.jsx(il,{className:"w-4 h-4"})})]}),y.jsxs("div",{className:"flex items-center gap-1 glass-card p-1",children:[y.jsx("button",{onClick:w,disabled:r<=1,className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center disabled:opacity-50",children:y.jsx(Eu,{className:"w-4 h-4"})}),y.jsxs("span",{className:"text-sm px-2 min-w-[60px] text-center",children:[r," / ",e]}),y.jsx("button",{onClick:x,disabled:r>=e,className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center disabled:opacity-50",children:y.jsx(Ii,{className:"w-4 h-4"})})]}),y.jsxs("span",{className:"hidden md:flex items-center gap-1 text-xs text-red-400 bg-red-500/10 px-2 py-1 rounded",children:[y.jsx(fi,{className:"w-3 h-3"}),"Protected"]})]})]}),y.jsxs("div",{className:"flex-1 overflow-auto bg-[#1a1a1a] relative z-20 flex items-start justify-center p-4",style:{userSelect:"none"},children:[d&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:y.jsxs("div",{className:"glass-card p-6 rounded-xl",children:[y.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-2"}),y.jsx("p",{children:"Loading document..."})]})}),y.jsx(wP,{file:a.pdfUrl,onLoadSuccess:m,loading:null,error:y.jsxs("div",{className:"text-white text-center p-8 glass-card rounded-xl",children:[y.jsx("p",{className:"text-red-400 mb-2",children:"Failed to load PDF"}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"Please try again later"})]}),children:y.jsx(DP,{pageNumber:r,scale:l,renderTextLayer:!1,renderAnnotationLayer:!1,className:"shadow-2xl",loading:y.jsx("div",{className:"w-[600px] h-[800px] glass-card flex items-center justify-center",children:y.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"})})})})]}),y.jsxs("div",{className:"h-12 glass-card border-t border-border/50 flex items-center justify-center gap-4 text-xs text-muted-foreground relative z-20 shrink-0",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(fi,{className:"w-3 h-3 text-red-400"}),"View Only Mode"]}),y.jsx("span",{children:""}),y.jsx("span",{children:"Downloading, printing, and copying are disabled"}),y.jsx("span",{children:""}),y.jsxs("span",{children:[" 2024 ",a.author]})]})]})}const kP=[{id:1,title:"Quantum Entanglement in Modern Physics",author:"Dr. Alex Chen",date:"2024-01-15",tags:["Quantum Physics","Research"],views:1250,pdfUrl:Jj,description:"An in-depth exploration of quantum entanglement and its applications in quantum computing."},{id:2,title:"Dark Matter Detection Methods",author:"Dr. Alex Chen",date:"2024-01-10",tags:["Astrophysics","Dark Matter"],views:980,pdfUrl:"/sample.pdf",description:"A comprehensive review of current techniques used to detect dark matter particles."},{id:3,title:"Machine Learning in Particle Physics",author:"Dr. Alex Chen",date:"2024-01-05",tags:["AI","Particle Physics"],views:1500,pdfUrl:"/sample.pdf",description:"How machine learning algorithms are revolutionizing data analysis at CERN."},{id:4,title:"The Future of Nuclear Fusion",author:"Dr. Alex Chen",date:"2023-12-28",tags:["Nuclear Physics","Energy"],views:2100,pdfUrl:"/sample.pdf",description:"Examining recent breakthroughs in nuclear fusion research and their implications."},{id:5,title:"Gravitational Waves: A New Window",author:"Dr. Alex Chen",date:"2023-12-20",tags:["Astrophysics","Gravitational Waves"],views:1800,pdfUrl:"/sample.pdf",description:"Understanding how gravitational wave detection has opened new frontiers in astronomy."}];function LP(){const[a,t]=M.useState(""),[e,i]=M.useState(null),[r,o]=M.useState(100),[l,u]=M.useState(1);M.useRef(null);const d=kP.filter(f=>f.title.toLowerCase().includes(a.toLowerCase())||f.tags.some(m=>m.toLowerCase().includes(a.toLowerCase())));return y.jsxs("div",{className:"min-h-screen",children:[y.jsx(In,{}),y.jsx("section",{className:"relative pt-32 pb-20",children:y.jsxs("div",{className:"section-container",children:[y.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[y.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:y.jsx("span",{className:"gradient-text",children:"Articles"})}),y.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Browse through my collection of research articles and scientific publications."})]}),y.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-xl mx-auto mb-10",children:y.jsxs("div",{className:"relative",children:[y.jsx(As,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),y.jsx("input",{type:"text",placeholder:"Search articles...",value:a,onChange:f=>t(f.target.value),className:"w-full pl-12 pr-4 py-4 glass-input"})]})}),y.jsx("div",{className:"grid grid-cols-1 gap-6",children:d.map((f,m)=>y.jsx(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*m},onClick:()=>i(f),className:"glass-card p-6 cursor-pointer group hover:scale-[1.01] transition-transform",children:y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[y.jsx("div",{className:"w-14 h-14 rounded-xl glass-button flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:y.jsx(Bi,{className:"w-7 h-7 text-primary"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-primary transition-colors",children:f.title}),y.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:f.description}),y.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[y.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[y.jsx(hi,{className:"w-4 h-4"}),f.date]}),y.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[y.jsx(nl,{className:"w-4 h-4"}),f.views," views"]}),y.jsx("div",{className:"flex gap-2",children:f.tags.map(p=>y.jsxs("span",{className:"tag-glass text-xs",children:[y.jsx(hr,{className:"w-3 h-3 inline mr-1"}),p]},p))})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm text-muted-foreground",children:"Click to view"}),y.jsx(Ii,{className:"w-5 h-5 text-primary"})]})]})},f.id))}),d.length===0&&y.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[y.jsx("div",{className:"w-20 h-20 rounded-full glass-card flex items-center justify-center mx-auto mb-6",children:y.jsx(Bi,{className:"w-10 h-10 text-muted-foreground"})}),y.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No articles found"}),y.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search query."})]})]})}),e&&y.jsx(jP,{article:e,onClose:()=>i(null)}),y.jsx(Un,{})]})}const PP=[{id:1,title:"Annual Research Report 2023",author:"Dr. Alex Chen",date:"2023-12-31",tags:["Annual","Research"],views:3200,pdfUrl:"/sample.pdf",description:"Comprehensive overview of research activities and findings throughout 2023.",type:"Annual Report"},{id:2,title:"CERN Experiment Analysis Report",author:"Dr. Alex Chen",date:"2023-11-15",tags:["CERN","Particle Physics"],views:2100,pdfUrl:"/sample.pdf",description:"Detailed analysis of particle collision data from the LHC experiments.",type:"Technical Report"},{id:3,title:"Quantum Computing Feasibility Study",author:"Dr. Alex Chen",date:"2023-10-20",tags:["Quantum","Computing"],views:1850,pdfUrl:"/sample.pdf",description:"Assessment of quantum computing applications in scientific research.",type:"Feasibility Study"},{id:4,title:"Dark Matter Detection Progress Report",author:"Dr. Alex Chen",date:"2023-09-30",tags:["Dark Matter","Research"],views:1600,pdfUrl:"/sample.pdf",description:"Quarterly progress report on dark matter detection experiments.",type:"Progress Report"},{id:5,title:"Nuclear Fusion Safety Assessment",author:"Dr. Alex Chen",date:"2023-08-15",tags:["Nuclear","Safety"],views:2400,pdfUrl:"/sample.pdf",description:"Comprehensive safety evaluation of nuclear fusion reactor designs.",type:"Safety Report"}];function OP(){const[a,t]=M.useState(""),[e,i]=M.useState(null),[r,o]=M.useState(100),[l,u]=M.useState(1),d=M.useRef(null),f=PP.filter(x=>x.title.toLowerCase().includes(a.toLowerCase())||x.tags.some(w=>w.toLowerCase().includes(a.toLowerCase()))),m=()=>{o(x=>Math.min(x+25,200))},p=()=>{o(x=>Math.max(x-25,50))},b=x=>{(x.ctrlKey||x.metaKey)&&(x.preventDefault(),x.deltaY<0?m():p())};return y.jsxs("div",{className:"min-h-screen",children:[y.jsx(In,{}),y.jsx("section",{className:"relative pt-32 pb-20",children:y.jsxs("div",{className:"section-container",children:[y.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[y.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:y.jsx("span",{className:"gradient-text",children:"Reports"})}),y.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Access technical reports, feasibility studies, and research documentation."})]}),y.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-xl mx-auto mb-10",children:y.jsxs("div",{className:"relative",children:[y.jsx(As,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),y.jsx("input",{type:"text",placeholder:"Search reports...",value:a,onChange:x=>t(x.target.value),className:"w-full pl-12 pr-4 py-4 glass-input"})]})}),y.jsx("div",{className:"grid grid-cols-1 gap-6",children:f.map((x,w)=>y.jsx(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*w},onClick:()=>i(x),className:"glass-card p-6 cursor-pointer group hover:scale-[1.01] transition-transform",children:y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[y.jsx("div",{className:"w-14 h-14 rounded-xl glass-button flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:y.jsx(ex,{className:"w-7 h-7 text-primary"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"flex items-center gap-2 mb-2",children:y.jsx("span",{className:"tag-glass text-xs",children:x.type})}),y.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-primary transition-colors",children:x.title}),y.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:x.description}),y.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[y.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[y.jsx(hi,{className:"w-4 h-4"}),x.date]}),y.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[y.jsx(nl,{className:"w-4 h-4"}),x.views," views"]}),y.jsx("div",{className:"flex gap-2",children:x.tags.map(A=>y.jsxs("span",{className:"tag-glass text-xs",children:[y.jsx(hr,{className:"w-3 h-3 inline mr-1"}),A]},A))})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm text-muted-foreground",children:"Click to view"}),y.jsx(Ii,{className:"w-5 h-5 text-primary"})]})]})},x.id))}),f.length===0&&y.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[y.jsx("div",{className:"w-20 h-20 rounded-full glass-card flex items-center justify-center mx-auto mb-6",children:y.jsx(ex,{className:"w-10 h-10 text-muted-foreground"})}),y.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No reports found"}),y.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search query."})]})]})}),e&&y.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-sm",children:[y.jsxs("div",{className:"h-16 glass-card border-b border-border/50 flex items-center justify-between px-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>i(null),className:"w-10 h-10 rounded-lg neu-button flex items-center justify-center",children:y.jsx(Ss,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-sm truncate max-w-[200px] sm:max-w-md",children:e.title}),y.jsxs("p",{className:"text-xs text-muted-foreground",children:["Page ",l,"  ",r,"%"]})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"hidden sm:flex items-center gap-1 glass-card p-1",children:[y.jsx("button",{onClick:p,className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center",children:y.jsx(sl,{className:"w-4 h-4"})}),y.jsxs("span",{className:"text-sm w-14 text-center",children:[r,"%"]}),y.jsx("button",{onClick:m,className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center",children:y.jsx(il,{className:"w-4 h-4"})})]}),y.jsxs("div",{className:"hidden md:flex items-center gap-1 glass-card p-1",children:[y.jsx("button",{onClick:()=>u(x=>Math.max(1,x-1)),className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center",children:y.jsx(Eu,{className:"w-4 h-4"})}),y.jsx("span",{className:"text-sm px-2",children:l}),y.jsx("button",{onClick:()=>u(x=>x+1),className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center",children:y.jsx(Ii,{className:"w-4 h-4"})})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("button",{className:"w-10 h-10 rounded-lg glass-card flex items-center justify-center opacity-50 cursor-not-allowed",title:"Download disabled",children:y.jsx(fi,{className:"w-4 h-4"})}),y.jsx("button",{className:"w-10 h-10 rounded-lg glass-card flex items-center justify-center opacity-50 cursor-not-allowed",title:"Print disabled",children:y.jsx(fi,{className:"w-4 h-4"})})]})]})]}),y.jsx("div",{ref:d,onWheel:b,className:"h-[calc(100vh-64px)] overflow-auto bg-[#1a1a1a] flex items-center justify-center p-8",children:y.jsx("div",{className:"bg-white shadow-2xl transition-transform duration-200",style:{transform:`scale(${r/100})`,transformOrigin:"center top",width:"210mm",minHeight:"297mm",padding:"20mm"},children:y.jsxs("div",{className:"text-black",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("span",{className:"text-sm text-gray-500 uppercase tracking-wider",children:e.type}),y.jsx("h1",{className:"text-3xl font-bold mt-2",children:e.title}),y.jsxs("p",{className:"text-gray-600 mt-2",children:["Prepared by ",e.author,"  ",e.date]})]}),y.jsxs("div",{className:"prose max-w-none",children:[y.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"Executive Summary"}),y.jsx("p",{className:"mb-4",children:e.description}),y.jsx("p",{className:"mb-4",children:"This report presents a comprehensive analysis of the subject matter, including detailed findings, methodologies, and recommendations for future work."}),y.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"Introduction"}),y.jsx("p",{className:"mb-4",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}),y.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"Methodology"}),y.jsx("p",{className:"mb-4",children:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),y.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"Findings"}),y.jsx("p",{className:"mb-4",children:"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo."}),y.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"Conclusions"}),y.jsx("p",{className:"mb-4",children:"Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt."}),y.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"Recommendations"}),y.jsx("p",{className:"mb-4",children:"Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem."})]}),y.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-300 text-center text-gray-500 text-sm",children:[y.jsxs("p",{children:[" 2024 ",e.author,". All rights reserved."]}),y.jsx("p",{className:"mt-2",children:"CONFIDENTIAL - This document is protected and cannot be downloaded or printed."})]})]})})}),y.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 glass-card px-4 py-2 text-sm text-muted-foreground",children:"Use Ctrl + Scroll to zoom  Scroll to navigate"})]}),y.jsx(Un,{})]})}const BP=[{id:1,title:"Quantum Field Theory Applications in Condensed Matter",author:"Dr. Alex Chen",date:"2024-01-20",tags:["Quantum Field Theory","Condensed Matter"],views:890,pdfUrl:"/sample.pdf",description:"Published in Journal of Theoretical Physics, exploring QFT applications.",volume:"Vol. 45, Issue 3"},{id:2,title:"Novel Approaches to Dark Matter Detection",author:"Dr. Alex Chen",date:"2023-12-15",tags:["Dark Matter","Experimental Physics"],views:1200,pdfUrl:"/sample.pdf",description:"Peer-reviewed article on innovative dark matter detection techniques.",volume:"Vol. 28, Issue 7"},{id:3,title:"Machine Learning for Particle Identification",author:"Dr. Alex Chen",date:"2023-11-10",tags:["Machine Learning","Particle Physics"],views:1500,pdfUrl:"/sample.pdf",description:"Application of neural networks in particle physics experiments.",volume:"Vol. 33, Issue 12"},{id:4,title:"Gravitational Wave Signal Processing",author:"Dr. Alex Chen",date:"2023-10-05",tags:["Gravitational Waves","Signal Processing"],views:980,pdfUrl:"/sample.pdf",description:"Advanced signal processing techniques for LIGO data analysis.",volume:"Vol. 19, Issue 4"},{id:5,title:"Topological Insulators: A Review",author:"Dr. Alex Chen",date:"2023-09-01",tags:["Condensed Matter","Topology"],views:2100,pdfUrl:"/sample.pdf",description:"Comprehensive review of topological insulator materials and properties.",volume:"Vol. 52, Issue 8"}];function FP(){const[a,t]=M.useState(""),[e,i]=M.useState(null),[r,o]=M.useState(100),[l,u]=M.useState(1),d=M.useRef(null),f=BP.filter(x=>x.title.toLowerCase().includes(a.toLowerCase())||x.tags.some(w=>w.toLowerCase().includes(a.toLowerCase()))),m=()=>{o(x=>Math.min(x+25,200))},p=()=>{o(x=>Math.max(x-25,50))},b=x=>{(x.ctrlKey||x.metaKey)&&(x.preventDefault(),x.deltaY<0?m():p())};return y.jsxs("div",{className:"min-h-screen",children:[y.jsx(In,{}),y.jsx("section",{className:"relative pt-32 pb-20",children:y.jsxs("div",{className:"section-container",children:[y.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[y.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:y.jsx("span",{className:"gradient-text",children:"Journals"})}),y.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Peer-reviewed journal publications and academic research papers."})]}),y.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-xl mx-auto mb-10",children:y.jsxs("div",{className:"relative",children:[y.jsx(As,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),y.jsx("input",{type:"text",placeholder:"Search journals...",value:a,onChange:x=>t(x.target.value),className:"w-full pl-12 pr-4 py-4 glass-input"})]})}),y.jsx("div",{className:"grid grid-cols-1 gap-6",children:f.map((x,w)=>y.jsx(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*w},onClick:()=>i(x),className:"glass-card p-6 cursor-pointer group hover:scale-[1.01] transition-transform",children:y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[y.jsx("div",{className:"w-14 h-14 rounded-xl glass-button flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:y.jsx(hu,{className:"w-7 h-7 text-primary"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"flex items-center gap-2 mb-2",children:y.jsx("span",{className:"tag-glass text-xs",children:x.volume})}),y.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-primary transition-colors",children:x.title}),y.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:x.description}),y.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[y.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[y.jsx(hi,{className:"w-4 h-4"}),x.date]}),y.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[y.jsx(nl,{className:"w-4 h-4"}),x.views," views"]}),y.jsx("div",{className:"flex gap-2",children:x.tags.map(A=>y.jsxs("span",{className:"tag-glass text-xs",children:[y.jsx(hr,{className:"w-3 h-3 inline mr-1"}),A]},A))})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm text-muted-foreground",children:"Click to view"}),y.jsx(Ii,{className:"w-5 h-5 text-primary"})]})]})},x.id))}),f.length===0&&y.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[y.jsx("div",{className:"w-20 h-20 rounded-full glass-card flex items-center justify-center mx-auto mb-6",children:y.jsx(hu,{className:"w-10 h-10 text-muted-foreground"})}),y.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No journals found"}),y.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search query."})]})]})}),e&&y.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-sm",children:[y.jsxs("div",{className:"h-16 glass-card border-b border-border/50 flex items-center justify-between px-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>i(null),className:"w-10 h-10 rounded-lg neu-button flex items-center justify-center",children:y.jsx(Ss,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-sm truncate max-w-[200px] sm:max-w-md",children:e.title}),y.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.volume,"  Page ",l,"  ",r,"%"]})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"hidden sm:flex items-center gap-1 glass-card p-1",children:[y.jsx("button",{onClick:p,className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center",children:y.jsx(sl,{className:"w-4 h-4"})}),y.jsxs("span",{className:"text-sm w-14 text-center",children:[r,"%"]}),y.jsx("button",{onClick:m,className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center",children:y.jsx(il,{className:"w-4 h-4"})})]}),y.jsxs("div",{className:"hidden md:flex items-center gap-1 glass-card p-1",children:[y.jsx("button",{onClick:()=>u(x=>Math.max(1,x-1)),className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center",children:y.jsx(Eu,{className:"w-4 h-4"})}),y.jsx("span",{className:"text-sm px-2",children:l}),y.jsx("button",{onClick:()=>u(x=>x+1),className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center",children:y.jsx(Ii,{className:"w-4 h-4"})})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("button",{className:"w-10 h-10 rounded-lg glass-card flex items-center justify-center opacity-50 cursor-not-allowed",title:"Download disabled",children:y.jsx(fi,{className:"w-4 h-4"})}),y.jsx("button",{className:"w-10 h-10 rounded-lg glass-card flex items-center justify-center opacity-50 cursor-not-allowed",title:"Print disabled",children:y.jsx(fi,{className:"w-4 h-4"})})]})]})]}),y.jsx("div",{ref:d,onWheel:b,className:"h-[calc(100vh-64px)] overflow-auto bg-[#1a1a1a] flex items-center justify-center p-8",children:y.jsx("div",{className:"bg-white shadow-2xl transition-transform duration-200",style:{transform:`scale(${r/100})`,transformOrigin:"center top",width:"210mm",minHeight:"297mm",padding:"20mm"},children:y.jsxs("div",{className:"text-black",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("p",{className:"text-sm text-gray-500 uppercase tracking-wider",children:e.volume}),y.jsx("h1",{className:"text-2xl font-bold mt-4",children:e.title}),y.jsx("p",{className:"text-gray-600 mt-4",children:y.jsx("strong",{children:e.author})}),y.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Published: ",e.date]})]}),y.jsxs("div",{className:"prose max-w-none",children:[y.jsx("h2",{className:"text-lg font-bold mt-8 mb-4",children:"Abstract"}),y.jsxs("p",{className:"mb-4 text-sm",children:[e.description," This paper presents a comprehensive analysis of the subject matter, including theoretical frameworks, experimental methods, and significant findings that contribute to the field."]}),y.jsx("h2",{className:"text-lg font-bold mt-8 mb-4",children:"1. Introduction"}),y.jsx("p",{className:"mb-4 text-sm",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}),y.jsx("p",{className:"mb-4 text-sm",children:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),y.jsx("h2",{className:"text-lg font-bold mt-8 mb-4",children:"2. Theoretical Framework"}),y.jsx("p",{className:"mb-4 text-sm",children:"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo."}),y.jsx("h2",{className:"text-lg font-bold mt-8 mb-4",children:"3. Methodology"}),y.jsx("p",{className:"mb-4 text-sm",children:"Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt."}),y.jsx("h2",{className:"text-lg font-bold mt-8 mb-4",children:"4. Results and Discussion"}),y.jsx("p",{className:"mb-4 text-sm",children:"Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem."}),y.jsx("h2",{className:"text-lg font-bold mt-8 mb-4",children:"5. Conclusion"}),y.jsx("p",{className:"mb-4 text-sm",children:"Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur?"}),y.jsx("h2",{className:"text-lg font-bold mt-8 mb-4",children:"References"}),y.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-2",children:[y.jsx("li",{children:"Smith, J. et al. (2023). Advanced Physics Review, 45(2), 123-145."}),y.jsx("li",{children:"Johnson, A. (2022). Quantum Mechanics Today, 12(4), 67-89."}),y.jsx("li",{children:"Brown, M. (2023). Scientific American, 328(1), 34-41."}),y.jsx("li",{children:"Davis, R. & Wilson, K. (2022). Nature Physics, 18, 567-573."})]})]}),y.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-300 text-center text-gray-500 text-xs",children:[y.jsxs("p",{children:[" 2024 ",e.author,". All rights reserved."]}),y.jsx("p",{className:"mt-2",children:"This is a peer-reviewed publication. Unauthorized distribution is prohibited."})]})]})})}),y.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 glass-card px-4 py-2 text-sm text-muted-foreground",children:"Use Ctrl + Scroll to zoom  Scroll to navigate"})]}),y.jsx(Un,{})]})}const zP=[{id:1,title:"Quantum Simulator Web Application",author:"Dr. Alex Chen",date:"2024-01-15",tags:["Quantum Computing","Web Development","React"],views:3200,pdfUrl:"/sample.pdf",description:"Interactive web-based quantum circuit simulator for educational purposes.",status:"Completed",githubUrl:"https://github.com",demoUrl:"https://demo.com"},{id:2,title:"Particle Physics Data Analysis Tool",author:"Dr. Alex Chen",date:"2023-12-01",tags:["Particle Physics","Python","Data Science"],views:2100,pdfUrl:"/sample.pdf",description:"Python-based toolkit for analyzing CERN LHC experiment data.",status:"In Progress",githubUrl:"https://github.com"},{id:3,title:"Gravitational Wave Visualization",author:"Dr. Alex Chen",date:"2023-10-15",tags:["Astrophysics","Visualization","Three.js"],views:2800,pdfUrl:"/sample.pdf",description:"3D visualization of gravitational wave data from LIGO.",status:"Completed",githubUrl:"https://github.com",demoUrl:"https://demo.com"},{id:4,title:"Dark Matter Detection Dashboard",author:"Dr. Alex Chen",date:"2023-09-01",tags:["Dark Matter","Dashboard","D3.js"],views:1900,pdfUrl:"/sample.pdf",description:"Real-time monitoring dashboard for dark matter detection experiments.",status:"In Progress",githubUrl:"https://github.com"},{id:5,title:"Nuclear Reaction Calculator",author:"Dr. Alex Chen",date:"2023-07-20",tags:["Nuclear Physics","Calculator","TypeScript"],views:3500,pdfUrl:"/sample.pdf",description:"Web-based calculator for nuclear reaction equations and decay chains.",status:"Completed",githubUrl:"https://github.com",demoUrl:"https://demo.com"}];function IP(){const[a,t]=M.useState(""),[e,i]=M.useState(null),[r,o]=M.useState(100),[l,u]=M.useState(1),d=M.useRef(null),f=zP.filter(w=>w.title.toLowerCase().includes(a.toLowerCase())||w.tags.some(A=>A.toLowerCase().includes(a.toLowerCase()))),m=()=>{o(w=>Math.min(w+25,200))},p=()=>{o(w=>Math.max(w-25,50))},b=w=>{(w.ctrlKey||w.metaKey)&&(w.preventDefault(),w.deltaY<0?m():p())},x=w=>{switch(w){case"Completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"In Progress":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return y.jsxs("div",{className:"min-h-screen",children:[y.jsx(In,{}),y.jsx("section",{className:"relative pt-32 pb-20",children:y.jsxs("div",{className:"section-container",children:[y.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[y.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:y.jsx("span",{className:"gradient-text",children:"Projects"})}),y.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Explore my portfolio of physics-related software projects and applications."})]}),y.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-xl mx-auto mb-10",children:y.jsxs("div",{className:"relative",children:[y.jsx(As,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),y.jsx("input",{type:"text",placeholder:"Search projects...",value:a,onChange:w=>t(w.target.value),className:"w-full pl-12 pr-4 py-4 glass-input"})]})}),y.jsx("div",{className:"grid grid-cols-1 gap-6",children:f.map((w,A)=>y.jsx(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*A},className:"glass-card p-6 cursor-pointer group hover:scale-[1.01] transition-transform",children:y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[y.jsx("div",{className:"w-14 h-14 rounded-xl glass-button flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:y.jsx(ix,{className:"w-7 h-7 text-primary"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"flex items-center gap-2 mb-2",children:y.jsx("span",{className:`tag-glass text-xs ${x(w.status)}`,children:w.status})}),y.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-primary transition-colors",children:w.title}),y.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:w.description}),y.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[y.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[y.jsx(hi,{className:"w-4 h-4"}),w.date]}),y.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[y.jsx(nl,{className:"w-4 h-4"}),w.views," views"]}),y.jsx("div",{className:"flex gap-2",children:w.tags.map(T=>y.jsxs("span",{className:"tag-glass text-xs",children:[y.jsx(hr,{className:"w-3 h-3 inline mr-1"}),T]},T))})]}),y.jsxs("div",{className:"flex gap-2 mt-3",children:[w.githubUrl&&y.jsxs("a",{href:w.githubUrl,target:"_blank",rel:"noopener noreferrer",onClick:T=>T.stopPropagation(),className:"flex items-center gap-1 text-xs glass-card px-3 py-1.5 hover:bg-white/5 transition-colors",children:[y.jsx(Jw,{className:"w-3 h-3"}),"GitHub"]}),w.demoUrl&&y.jsxs("a",{href:w.demoUrl,target:"_blank",rel:"noopener noreferrer",onClick:T=>T.stopPropagation(),className:"flex items-center gap-1 text-xs glass-card px-3 py-1.5 hover:bg-white/5 transition-colors",children:[y.jsx(Qw,{className:"w-3 h-3"}),"Demo"]})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm text-muted-foreground",children:"Click to view docs"}),y.jsx(Ii,{className:"w-5 h-5 text-primary"})]})]})},w.id))}),f.length===0&&y.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[y.jsx("div",{className:"w-20 h-20 rounded-full glass-card flex items-center justify-center mx-auto mb-6",children:y.jsx(ix,{className:"w-10 h-10 text-muted-foreground"})}),y.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No projects found"}),y.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search query."})]})]})}),e&&y.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-sm",children:[y.jsxs("div",{className:"h-16 glass-card border-b border-border/50 flex items-center justify-between px-4",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>i(null),className:"w-10 h-10 rounded-lg neu-button flex items-center justify-center",children:y.jsx(Ss,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-semibold text-sm truncate max-w-[200px] sm:max-w-md",children:[e.title," - Documentation"]}),y.jsxs("p",{className:"text-xs text-muted-foreground",children:["Page ",l,"  ",r,"%"]})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"hidden sm:flex items-center gap-1 glass-card p-1",children:[y.jsx("button",{onClick:p,className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center",children:y.jsx(sl,{className:"w-4 h-4"})}),y.jsxs("span",{className:"text-sm w-14 text-center",children:[r,"%"]}),y.jsx("button",{onClick:m,className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center",children:y.jsx(il,{className:"w-4 h-4"})})]}),y.jsxs("div",{className:"hidden md:flex items-center gap-1 glass-card p-1",children:[y.jsx("button",{onClick:()=>u(w=>Math.max(1,w-1)),className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center",children:y.jsx(Eu,{className:"w-4 h-4"})}),y.jsx("span",{className:"text-sm px-2",children:l}),y.jsx("button",{onClick:()=>u(w=>w+1),className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center",children:y.jsx(Ii,{className:"w-4 h-4"})})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("button",{className:"w-10 h-10 rounded-lg glass-card flex items-center justify-center opacity-50 cursor-not-allowed",title:"Download disabled",children:y.jsx(fi,{className:"w-4 h-4"})}),y.jsx("button",{className:"w-10 h-10 rounded-lg glass-card flex items-center justify-center opacity-50 cursor-not-allowed",title:"Print disabled",children:y.jsx(fi,{className:"w-4 h-4"})})]})]})]}),y.jsx("div",{ref:d,onWheel:b,className:"h-[calc(100vh-64px)] overflow-auto bg-[#1a1a1a] flex items-center justify-center p-8",children:y.jsx("div",{className:"bg-white shadow-2xl transition-transform duration-200",style:{transform:`scale(${r/100})`,transformOrigin:"center top",width:"210mm",minHeight:"297mm",padding:"20mm"},children:y.jsxs("div",{className:"text-black",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium mb-4 ${x(e.status)}`,children:e.status}),y.jsx("h1",{className:"text-3xl font-bold",children:e.title}),y.jsx("p",{className:"text-gray-600 mt-4",children:"Project Documentation"}),y.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["By ",e.author,"  ",e.date]})]}),y.jsxs("div",{className:"prose max-w-none",children:[y.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"Project Overview"}),y.jsx("p",{className:"mb-4",children:e.description}),y.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"Features"}),y.jsxs("ul",{className:"list-disc list-inside mb-4 space-y-2",children:[y.jsx("li",{children:"Interactive user interface with real-time data visualization"}),y.jsx("li",{children:"Advanced algorithms for accurate calculations and predictions"}),y.jsx("li",{children:"Cross-platform compatibility and responsive design"}),y.jsx("li",{children:"Comprehensive documentation and user guides"}),y.jsx("li",{children:"Open-source codebase for community contributions"})]}),y.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"Technologies Used"}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags.map(w=>y.jsx("span",{className:"px-3 py-1 bg-gray-100 rounded-full text-sm",children:w},w))}),y.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"Installation"}),y.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm mb-4 overflow-x-auto",children:y.jsxs("code",{children:["git clone https://github.com/username/",e.title.toLowerCase().replace(/\s+/g,"-"),"\\\\n cd ",e.title.toLowerCase().replace(/\s+/g,"-"),"\\\\n npm install\\\\n npm start"]})}),y.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"Usage"}),y.jsx("p",{className:"mb-4",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}),y.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"API Documentation"}),y.jsx("p",{className:"mb-4",children:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),y.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"Contributing"}),y.jsx("p",{className:"mb-4",children:"We welcome contributions! Please read our contributing guidelines and submit pull requests to help improve this project."}),y.jsx("h2",{className:"text-xl font-bold mt-8 mb-4",children:"License"}),y.jsx("p",{className:"mb-4",children:"This project is licensed under the MIT License - see the LICENSE file for details."})]}),y.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-300 text-center text-gray-500 text-sm",children:[y.jsxs("p",{children:[" 2024 ",e.author,". All rights reserved."]}),y.jsx("p",{className:"mt-2",children:"This documentation is protected and cannot be downloaded or printed."})]})]})})}),y.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 glass-card px-4 py-2 text-sm text-muted-foreground",children:"Use Ctrl + Scroll to zoom  Scroll to navigate"})]}),y.jsx(Un,{})]})}const $x={"quantum-mechanics":{title:"Quantum Mechanics",subtitle:"The Foundation of Modern Physics",content:["Quantum mechanics is a fundamental theory in physics that provides a description of the physical properties of nature at the scale of atoms and subatomic particles. It is the foundation of all quantum physics including quantum chemistry, quantum field theory, quantum technology, and quantum information science.","The mathematical formulations of quantum mechanics are abstract. A mathematical function, the wave function, provides information about the probability amplitude of position, momentum, and other physical properties of a particle. Mathematical manipulations of the wave function involve the mathematics of Hilbert spaces, linear operators, and generalized probability theory.","One of the most revolutionary aspects of quantum mechanics is the concept of wave-particle duality. This principle states that all matter exhibits both wave-like and particle-like properties. A classic example is the double-slit experiment, where particles such as electrons create an interference pattern characteristic of waves when not observed, but act like individual particles when measured.","The uncertainty principle, formulated by Werner Heisenberg in 1927, states that the more precisely the position of a particle is determined, the less precisely its momentum can be known, and vice versa. This is not due to limitations in measurement technology but is a fundamental property of quantum systems.",'Quantum entanglement is another fascinating phenomenon where pairs or groups of particles interact in such a way that the quantum state of each particle cannot be described independently of the others, even when separated by large distances. This "spooky action at a distance," as Einstein called it, has been experimentally verified and forms the basis for quantum computing and quantum cryptography.',"The Schrdinger equation is the fundamental equation of quantum mechanics, analogous to Newton's second law in classical mechanics. It describes how the quantum state of a physical system changes over time. Solutions to this equation provide the wave functions that contain all the information about a quantum system.","Quantum mechanics has led to many technological innovations, including lasers, transistors, electron microscopes, and MRI machines. The emerging field of quantum computing promises to revolutionize computation by exploiting quantum superposition and entanglement to perform calculations exponentially faster than classical computers for certain problems."],keyPoints:["Wave-particle duality: Matter exhibits both wave and particle properties","Heisenberg Uncertainty Principle: Cannot simultaneously know position and momentum precisely","Quantum Superposition: Particles can exist in multiple states simultaneously","Quantum Entanglement: Particles remain connected regardless of distance","Wave Function: Contains all information about a quantum system","Schrdinger Equation: Governs the time evolution of quantum systems"],formulas:[{name:"Schrdinger Equation",formula:"i(/t) = "},{name:"Heisenberg Uncertainty",formula:"x  p  /2"},{name:"Wave Function Probability",formula:"P = ||"},{name:"Energy Eigenvalue",formula:" = E"}],applications:["Quantum Computing","Lasers and Optics","Semiconductor Electronics","Medical Imaging (MRI)","Quantum Cryptography","Electron Microscopy"]},relativity:{title:"Theory of Relativity",subtitle:"Einstein's Revolutionary Framework",content:["The theory of relativity, developed by Albert Einstein in the early 20th century, revolutionized our understanding of space, time, and gravity. It consists of two major components: Special Relativity (1905) and General Relativity (1915).","Special Relativity is based on two fundamental postulates: (1) The laws of physics are identical in all inertial reference frames, and (2) The speed of light in a vacuum is constant for all observers, regardless of their relative motion. These seemingly simple principles lead to profound consequences.","One of the most famous results of Special Relativity is the equivalence of mass and energy, expressed by the equation E = mc. This principle explains the enormous energy released in nuclear reactions and powers the sun through nuclear fusion.","Time dilation and length contraction are other counterintuitive consequences of Special Relativity. Moving clocks run slower relative to stationary observers, and moving objects appear shorter in the direction of motion. These effects become significant only at speeds approaching the speed of light.","General Relativity extends these principles to include gravity. Einstein proposed that massive objects curve the fabric of spacetime, and this curvature is what we perceive as gravity. Planets orbit the sun not because of a mysterious force acting at a distance, but because they are following the curvature of spacetime created by the sun's mass.","General Relativity has been confirmed by numerous experiments and observations, including the bending of starlight by massive objects (gravitational lensing), the precession of Mercury's orbit, and the existence of gravitational wavesripples in spacetime caused by accelerating massive objects, which were directly detected in 2015.","Black holes are perhaps the most exotic prediction of General Relativity. These are regions of spacetime where gravity is so strong that nothing, not even light, can escape. The recent imaging of black holes by the Event Horizon Telescope provides stunning confirmation of Einstein's theory."],keyPoints:["Speed of light is constant for all observers","Mass and energy are equivalent (E = mc)","Time dilation: Moving clocks run slower","Length contraction: Moving objects appear shorter","Gravity is the curvature of spacetime","Black holes are regions of infinite spacetime curvature"],formulas:[{name:"Mass-Energy Equivalence",formula:"E = mc"},{name:"Time Dilation",formula:"t' = t/(1-v/c)"},{name:"Length Contraction",formula:"L' = L(1-v/c)"},{name:"Relativistic Momentum",formula:"p = mv"}],applications:["GPS Satellite Corrections","Particle Accelerators","Nuclear Energy","Astrophysics","Gravitational Wave Detection","Cosmology"]},thermodynamics:{title:"Thermodynamics",subtitle:"The Science of Energy and Heat",content:["Thermodynamics is the branch of physics that deals with heat, work, temperature, and their relation to energy, radiation, and physical properties of matter. The behavior of these quantities is governed by the four laws of thermodynamics.","The Zeroth Law of Thermodynamics establishes the concept of temperature. It states that if two systems are each in thermal equilibrium with a third system, then they are in thermal equilibrium with each other. This law allows us to define temperature scales and thermometers.","The First Law of Thermodynamics is essentially the law of conservation of energy applied to thermodynamic systems. It states that the change in internal energy of a system equals the heat added to the system minus the work done by the system. This law prohibits the creation of perpetual motion machines of the first kind.","The Second Law of Thermodynamics introduces the concept of entropy and the arrow of time. It states that the total entropy of an isolated system can never decrease over time. This law explains why certain processes are irreversible and why heat flows from hot to cold objects.","The Third Law of Thermodynamics states that the entropy of a perfect crystal at absolute zero is exactly equal to zero. This law implies that it is impossible to reach absolute zero temperature in a finite number of steps.","Thermodynamics has wide-ranging applications in engineering, chemistry, biology, and economics. It governs the design of heat engines, refrigerators, and power plants. It also plays a crucial role in understanding chemical reactions, biological processes, and even information theory.","The concept of entropy has profound implications beyond physics. In information theory, entropy measures the amount of uncertainty or information in a message. In ecology, it relates to the flow of energy through ecosystems. The second law of thermodynamics essentially tells us that the universe tends toward disorder."],keyPoints:["Zeroth Law: Defines temperature and thermal equilibrium","First Law: Conservation of energy in thermodynamic systems","Second Law: Entropy of isolated systems never decreases","Third Law: Absolute zero entropy is zero","Heat flows spontaneously from hot to cold objects","Perpetual motion machines are impossible"],formulas:[{name:"First Law",formula:"U = Q - W"},{name:"Entropy Change",formula:"S = Q/T"},{name:"Ideal Gas Law",formula:"PV = nRT"},{name:"Efficiency",formula:" = 1 - Tc/Th"}],applications:["Heat Engines","Refrigeration","Power Plants","Chemical Engineering","Climate Science","Biological Systems"]},electromagnetism:{title:"Electromagnetism",subtitle:"The Unified Theory of Electricity and Magnetism",content:["Electromagnetism is one of the four fundamental forces of nature, describing the interactions between electrically charged particles. It encompasses both electricity and magnetism, which were unified into a single theory by James Clerk Maxwell in the 19th century.","Electric fields are created by electric charges and exert forces on other charges. The strength of the electric field decreases with the square of the distance from the charge. Like charges repel each other, while opposite charges attract.","Magnetic fields are produced by moving electric charges (electric currents) and magnetic dipoles. The Earth itself has a magnetic field, which is why compasses work. Magnetic field lines form closed loops, and the field is strongest near the magnetic poles.","Maxwell's equations are the foundation of classical electromagnetism. These four equations describe how electric and magnetic fields are generated and altered by each other and by charges and currents. They predict the existence of electromagnetic waves, which include light, radio waves, X-rays, and gamma rays.","Electromagnetic induction, discovered by Michael Faraday, is the production of an electromotive force across an electrical conductor in a changing magnetic field. This principle is the basis for electric generators, transformers, and inductors.","Electromagnetic waves are oscillating electric and magnetic fields that propagate through space at the speed of light. The electromagnetic spectrum ranges from low-energy radio waves to high-energy gamma rays, with visible light occupying only a small portion of this spectrum.","Quantum electrodynamics (QED) is the quantum theory of electromagnetism. It describes how light and matter interact and is one of the most precisely tested theories in physics. QED explains phenomena such as the photoelectric effect and the Lamb shift."],keyPoints:["Electric charges create electric fields","Moving charges create magnetic fields","Maxwell's equations unify electricity and magnetism","Electromagnetic waves travel at the speed of light","Electromagnetic induction generates current from changing magnetic fields","The electromagnetic spectrum includes all types of EM radiation"],formulas:[{name:"Coulomb's Law",formula:"F = k(qq)/r"},{name:"Ohm's Law",formula:"V = IR"},{name:"Faraday's Law",formula:" = -d/dt"},{name:"Wave Speed",formula:"c = f"}],applications:["Electric Power Generation","Telecommunications","Medical Imaging","Electronics","Magnetic Levitation","Wireless Charging"]},"particle-physics":{title:"Particle Physics",subtitle:"The Study of Fundamental Particles",content:["Particle physics, also known as high-energy physics, is the study of the fundamental constituents of matter and radiation, and the interactions between them. It seeks to answer the most fundamental questions about the nature of the universe.","The Standard Model of particle physics is the theory that describes three of the four known fundamental forces (electromagnetic, weak, and strong interactions) and classifies all known elementary particles. It is one of the most successful scientific theories ever developed.","Matter is composed of fermions, which include quarks and leptons. Quarks combine to form hadrons such as protons and neutrons. There are six types (flavors) of quarks: up, down, charm, strange, top, and bottom. Leptons include electrons, muons, tau particles, and their associated neutrinos.","Force carriers are bosons that mediate the fundamental forces. Photons carry the electromagnetic force, W and Z bosons carry the weak force, and gluons carry the strong force. The Higgs boson, discovered in 2012 at CERN, is responsible for giving other particles mass through the Higgs mechanism.","Particle accelerators, such as the Large Hadron Collider (LHC) at CERN, are essential tools for particle physics research. By accelerating particles to near the speed of light and colliding them, physicists can recreate conditions that existed moments after the Big Bang and discover new particles.","The strong nuclear force, carried by gluons, binds quarks together inside protons and neutrons. It is called strong because it is much stronger than the electromagnetic force at short distances. The weak nuclear force is responsible for radioactive decay and nuclear fusion.","Despite its success, the Standard Model is incomplete. It does not include gravity, does not explain dark matter or dark energy, and does not account for the matter-antimatter asymmetry in the universe. Physicists continue to search for new physics beyond the Standard Model."],keyPoints:["Standard Model describes fundamental particles and forces","Quarks combine to form protons and neutrons","Force carriers are bosons (photons, gluons, W/Z bosons)","Higgs boson gives particles mass","Particle accelerators recreate Big Bang conditions","The Standard Model is incomplete (no gravity, dark matter)"],formulas:[{name:"Mass-Energy",formula:"E = (pc) + (mc)"},{name:"Decay Rate",formula:"N = Ne^(-t)"},{name:"Cross Section",formula:" = N/(nt)"},{name:"Momentum",formula:"p = mv"}],applications:["Medical Imaging (PET scans)","Cancer Treatment","Materials Science","Archaeological Dating","Nuclear Energy","Fundamental Research"]},"wave-mechanics":{title:"Wave Mechanics",subtitle:"Understanding Wave Phenomena",content:["Wave mechanics is the study of wave phenomena and their mathematical description. Waves are disturbances that propagate through space and time, transferring energy without permanently displacing the medium through which they travel.","Mechanical waves require a medium to travel through. Sound waves, water waves, and seismic waves are all examples of mechanical waves. The particles of the medium oscillate around their equilibrium positions as the wave passes, but they do not travel with the wave.","Electromagnetic waves, including light, radio waves, and X-rays, do not require a medium. They consist of oscillating electric and magnetic fields that propagate through space at the speed of light. All electromagnetic waves travel at the same speed in a vacuum, regardless of their frequency.","Wave interference occurs when two or more waves meet. Constructive interference happens when waves are in phase, resulting in a larger amplitude. Destructive interference occurs when waves are out of phase, potentially canceling each other out. Interference is a characteristic property of waves.","Diffraction is the bending of waves around obstacles or through apertures. The amount of diffraction depends on the wavelength of the wave relative to the size of the obstacle or aperture. This phenomenon explains why we can hear sounds around corners and why light creates patterns when passing through narrow slits.","Standing waves are formed when two waves of the same frequency and amplitude travel in opposite directions and interfere with each other. They appear to stand still, with points of maximum amplitude (antinodes) and zero amplitude (nodes). Standing waves are important in musical instruments and quantum mechanics.","The wave-particle duality, a fundamental concept in quantum mechanics, states that all matter exhibits both wave-like and particle-like properties. Electrons, which were traditionally thought of as particles, can produce interference patterns characteristic of waves. This duality is described mathematically by the de Broglie wavelength."],keyPoints:["Waves transfer energy without transferring matter","Mechanical waves need a medium; electromagnetic waves do not","Interference can be constructive or destructive","Diffraction is the bending of waves around obstacles","Standing waves have nodes and antinodes","Matter exhibits wave-particle duality"],formulas:[{name:"Wave Speed",formula:"v = f"},{name:"De Broglie Wavelength",formula:" = h/p"},{name:"Frequency-Period",formula:"f = 1/T"},{name:"Wave Energy",formula:"E = hf"}],applications:["Musical Instruments","Sonar and Radar","Medical Ultrasound","Telecommunications","Seismology","Quantum Mechanics"]},"nuclear-physics":{title:"Nuclear Physics",subtitle:"The Study of Atomic Nuclei",content:["Nuclear physics is the field of physics that studies atomic nuclei and their constituents and interactions. It seeks to understand the fundamental forces that bind protons and neutrons together and the processes by which nuclei transform.","The atomic nucleus consists of protons and neutrons, collectively called nucleons. The number of protons determines the element, while the total number of nucleons determines the isotope. The strong nuclear force overcomes the electromagnetic repulsion between protons to hold the nucleus together.","Radioactivity is the spontaneous decay of unstable atomic nuclei. There are three main types of radioactive decay: alpha decay (emission of helium nuclei), beta decay (emission of electrons or positrons), and gamma decay (emission of high-energy photons). Each type has different penetrating power and biological effects.","Nuclear fission is the splitting of a heavy nucleus into two or more lighter nuclei, releasing a large amount of energy. This process powers nuclear reactors and atomic bombs. Nuclear fusion, the combining of light nuclei to form heavier ones, powers the sun and stars and is the goal of ongoing research for clean energy.","Half-life is the time required for half of the radioactive atoms in a sample to decay. This concept is used in radioactive dating to determine the age of archaeological artifacts and geological formations. Carbon-14 dating, for example, can determine the age of organic materials up to about 50,000 years old.","Nuclear medicine uses radioactive isotopes for diagnosis and treatment. PET scans use positron-emitting isotopes to create images of metabolic processes in the body. Radiation therapy uses targeted radiation to destroy cancer cells while minimizing damage to healthy tissue.","Particle accelerators are essential tools for nuclear physics research. They can create new isotopes, study the properties of nuclear matter under extreme conditions, and probe the fundamental structure of nucleons. Facilities like CERN and RHIC push the boundaries of our understanding of nuclear matter."],keyPoints:["Nucleus contains protons and neutrons held by strong force","Radioactivity is spontaneous nuclear decay","Fission splits heavy nuclei; fusion combines light nuclei","Half-life is the time for half of nuclei to decay","Nuclear medicine uses isotopes for diagnosis and treatment","Particle accelerators create and study exotic nuclei"],formulas:[{name:"Decay Law",formula:"N = Ne^(-t)"},{name:"Half-Life",formula:"t/ = ln(2)/"},{name:"Mass-Energy",formula:"E = mc"},{name:"Binding Energy",formula:"B = [Zm + Nm - M]c"}],applications:["Nuclear Power","Medical Imaging","Cancer Treatment","Archaeological Dating","Food Preservation","Scientific Research"]},"computational-physics":{title:"Computational Physics",subtitle:"Solving Physics Problems with Computers",content:["Computational physics is the study and implementation of numerical analysis to solve problems in physics. It bridges theoretical physics and experimental physics, using computational methods to study systems that are too complex for analytical solutions or too expensive or dangerous to study experimentally.","Numerical methods are at the heart of computational physics. These include techniques for solving differential equations, performing integrations, finding roots of equations, and optimizing functions. Common methods include the finite difference method, finite element method, and Monte Carlo simulations.","Molecular dynamics simulations track the motion of individual atoms and molecules over time, using Newton's equations of motion. These simulations can model the behavior of materials at the atomic scale, study protein folding, and understand chemical reactions.","Monte Carlo methods use random sampling to solve problems. They are particularly useful for simulating systems with many degrees of freedom, such as statistical mechanical systems, and for calculating high-dimensional integrals. The Metropolis algorithm is a widely used Monte Carlo method.","Quantum mechanical simulations solve the Schrdinger equation for electrons in atoms and molecules. Density functional theory (DFT) is a popular method that reduces the complexity of the many-electron problem. These calculations are essential for understanding chemical bonding and material properties.","High-performance computing (HPC) is essential for many computational physics problems. Supercomputers with thousands of processors can perform simulations that would be impossible on desktop computers. Parallel programming techniques, such as MPI and OpenMP, are used to distribute calculations across multiple processors.","Visualization is a crucial aspect of computational physics. Complex simulation results are often best understood through visual representations. Scientific visualization tools can create 2D plots, 3D renderings, and animations that reveal patterns and insights hidden in raw data."],keyPoints:["Numerical methods solve complex physics problems","Molecular dynamics simulates atomic motion","Monte Carlo methods use random sampling","Quantum simulations solve electronic structure problems","High-performance computing enables large-scale simulations","Visualization reveals patterns in simulation data"],formulas:[{name:"Euler Method",formula:"y = y + hf(x,y)"},{name:"Verlet Algorithm",formula:"r(t+t) = 2r(t) - r(t-t) + a(t)t"},{name:"DFT Energy",formula:"E[] = T[] + V[] + Ec[]"},{name:"Monte Carlo",formula:"A  (1/N)A(x)"}],applications:["Climate Modeling","Materials Design","Drug Discovery","Astrophysical Simulations","Engineering Analysis","Financial Modeling"]},astrophysics:{title:"Astrophysics",subtitle:"The Physics of the Universe",content:["Astrophysics is the branch of astronomy that employs the principles of physics and chemistry to explain the nature of celestial objects and the physical processes that govern their behavior. It seeks to understand the origin and evolution of the universe and everything in it.","Stars are massive, luminous spheres of plasma held together by gravity. They generate energy through nuclear fusion in their cores, converting hydrogen into helium. The balance between gravitational contraction and radiation pressure determines a star's structure and evolution.","Stellar evolution describes how stars change over time. A star's life cycle depends primarily on its mass. Low-mass stars like our Sun end their lives as white dwarfs, while massive stars explode as supernovae, leaving behind neutron stars or black holes.","Black holes are regions of spacetime where gravity is so strong that nothing, not even light, can escape. They form when massive stars collapse at the end of their lives. The event horizon marks the boundary beyond which escape is impossible. Supermassive black holes, millions to billions of times the mass of the Sun, reside at the centers of most galaxies.","Galaxies are vast collections of stars, gas, dust, and dark matter bound together by gravity. Our Milky Way is a barred spiral galaxy containing hundreds of billions of stars. Galaxies come in various shapes and sizes, including ellipticals, spirals, and irregulars.","Cosmology is the study of the universe as a whole. The Big Bang theory describes the origin of the universe approximately 13.8 billion years ago. Evidence for the Big Bang includes the expansion of the universe, the cosmic microwave background radiation, and the abundance of light elements.","Dark matter and dark energy are two mysterious components that dominate the universe. Dark matter, which does not emit light but exerts gravitational force, makes up about 27% of the universe. Dark energy, which drives the accelerating expansion of the universe, accounts for about 68%. Ordinary matter makes up only about 5%."],keyPoints:["Stars generate energy through nuclear fusion","Stellar evolution depends on mass","Black holes have escape velocities exceeding light speed","Galaxies contain billions of stars","The universe began with the Big Bang","Dark matter and dark energy dominate the universe"],formulas:[{name:"Stellar Luminosity",formula:"L = 4RT"},{name:"Schwarzschild Radius",formula:"r = 2GM/c"},{name:"Hubble's Law",formula:"v = Hd"},{name:"Redshift",formula:"z = ( - )/"}],applications:["Space Exploration","Satellite Technology","Navigation Systems","Climate Studies","Fundamental Physics","Public Education"]}};function UP(){const{topicId:a}=mT(),t=a?$x[a]:null;return t?y.jsxs("div",{className:"min-h-screen",children:[y.jsx(In,{}),y.jsx("section",{className:"relative pt-32 pb-20",children:y.jsxs("div",{className:"section-container",children:[y.jsx(tt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4},className:"mb-8",children:y.jsxs(Ue,{to:"/physics",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-primary transition-colors",children:[y.jsx(eD,{className:"w-4 h-4"}),"Back to Physics"]})}),y.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-12",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl glass-button flex items-center justify-center",children:y.jsx(Lo,{className:"w-6 h-6 text-primary"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl sm:text-5xl font-bold",children:t.title}),y.jsx("p",{className:"text-muted-foreground",children:t.subtitle})]})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 glass-card text-sm hover:bg-white/5 transition-colors",children:[y.jsx(pj,{className:"w-4 h-4"}),"Share"]}),y.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 glass-card text-sm hover:bg-white/5 transition-colors",children:[y.jsx(lD,{className:"w-4 h-4"}),"Save"]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"lg:col-span-2",children:[y.jsxs("div",{className:"glass-card p-8",children:[y.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center gap-2",children:[y.jsx(hu,{className:"w-5 h-5 text-primary"}),"Overview"]}),y.jsx("div",{className:"space-y-6",children:t.content.map((e,i)=>y.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e},i))})]}),y.jsxs("div",{className:"glass-card p-8 mt-6",children:[y.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Key Points"}),y.jsx("ul",{className:"space-y-3",children:t.keyPoints.map((e,i)=>y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-primary mt-2 flex-shrink-0"}),y.jsx("span",{className:"text-muted-foreground",children:e})]},i))})]}),y.jsxs("div",{className:"glass-card p-8 mt-6",children:[y.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center gap-2",children:[y.jsx(Kw,{className:"w-5 h-5 text-primary"}),"Key Formulas"]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.formulas.map((e,i)=>y.jsxs("div",{className:"glass-card p-4",children:[y.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:e.name}),y.jsx("p",{className:"text-lg font-mono text-primary",children:e.formula})]},i))})]})]}),y.jsxs(tt.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"lg:col-span-1",children:[y.jsxs("div",{className:"glass-card p-6 mb-6",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Applications"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:t.applications.map((e,i)=>y.jsx("span",{className:"tag-glass",children:e},i))})]}),y.jsxs("div",{className:"glass-card p-6",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Related Topics"}),y.jsx("div",{className:"space-y-3",children:Object.entries($x).filter(([e])=>e!==a).slice(0,4).map(([e,i])=>y.jsxs(Ue,{to:`/physics/${e}`,className:"block p-3 glass-card hover:bg-white/5 transition-colors",children:[y.jsx("p",{className:"font-medium text-sm",children:i.title}),y.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.subtitle})]},e))})]})]})]})]})}),y.jsx(Un,{})]}):y.jsxs("div",{className:"min-h-screen",children:[y.jsx(In,{}),y.jsxs("div",{className:"pt-32 pb-20 text-center",children:[y.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Topic Not Found"}),y.jsx("p",{className:"text-muted-foreground mb-6",children:"The physics topic you're looking for doesn't exist."}),y.jsx(Ue,{to:"/physics",className:"glass-button px-6 py-3",children:"Back to Physics"})]}),y.jsx(Un,{})]})}function VP(){return y.jsx(cC,{children:y.jsx(JT,{children:y.jsx(vs,{mode:"wait",children:y.jsxs(MT,{children:[y.jsx(Pn,{path:"/",element:y.jsx(Pj,{})}),y.jsx(Pn,{path:"/about",element:y.jsx(Vj,{})}),y.jsx(Pn,{path:"/gallery",element:y.jsx(qj,{})}),y.jsx(Pn,{path:"/physics",element:y.jsx(Xj,{})}),y.jsx(Pn,{path:"/physics/:topicId",element:y.jsx(UP,{})}),y.jsx(Pn,{path:"/news",element:y.jsx(Wj,{})}),y.jsx(Pn,{path:"/downloads",element:y.jsx(Zj,{})}),y.jsx(Pn,{path:"/documents/article",element:y.jsx(LP,{})}),y.jsx(Pn,{path:"/documents/report",element:y.jsx(OP,{})}),y.jsx(Pn,{path:"/documents/journal",element:y.jsx(FP,{})}),y.jsx(Pn,{path:"/documents/project",element:y.jsx(IP,{})})]})})})})}RE.createRoot(document.getElementById("root")).render(y.jsx(M.StrictMode,{children:y.jsx(VP,{})}));
//# sourceMappingURL=index-6D7AymEZ.js.map
