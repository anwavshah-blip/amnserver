var vv=a=>{throw TypeError(a)};var Xd=(a,t,e)=>t.has(a)||vv("Cannot "+e);var ne=(a,t,e)=>(Xd(a,t,"read from private field"),e?e.call(a):t.get(a)),ni=(a,t,e)=>t.has(a)?vv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,e),an=(a,t,e,i)=>(Xd(a,t,"write to private field"),i?i.call(a,e):t.set(a,e),e),ii=(a,t,e)=>(Xd(a,t,"access private method"),e);var bv=(a,t,e,i)=>({set _(r){an(a,t,r,e)},get _(){return ne(a,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function wE(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Yd={exports:{}},go={};var xv;function AE(){if(xv)return go;xv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:a,type:i,key:c,ref:r!==void 0?r:null,props:o}}return go.Fragment=t,go.jsx=e,go.jsxs=e,go}var wv;function SE(){return wv||(wv=1,Yd.exports=AE()),Yd.exports}var v=SE(),Wd={exports:{}},wt={};var Av;function EE(){if(Av)return wt;Av=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,T={};function E(L,$,Z){this.props=L,this.context=$,this.refs=T,this.updater=Z||S}E.prototype.isReactComponent={},E.prototype.setState=function(L,$){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,$,"setState")},E.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function C(){}C.prototype=E.prototype;function M(L,$,Z){this.props=L,this.context=$,this.refs=T,this.updater=Z||S}var R=M.prototype=new C;R.constructor=M,w(R,E.prototype),R.isPureReactComponent=!0;var D=Array.isArray;function P(){}var j={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function H(L,$,Z){var et=Z.ref;return{$$typeof:a,type:L,key:$,ref:et!==void 0?et:null,props:Z}}function Y(L,$){return H(L.type,$,L.props)}function J(L){return typeof L=="object"&&L!==null&&L.$$typeof===a}function at(L){var $={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Z){return $[Z]})}var ft=/\/+/g;function rt(L,$){return typeof L=="object"&&L!==null&&L.key!=null?at(""+L.key):$.toString(36)}function vt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(P,P):(L.status="pending",L.then(function($){L.status==="pending"&&(L.status="fulfilled",L.value=$)},function($){L.status==="pending"&&(L.status="rejected",L.reason=$)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function B(L,$,Z,et,dt){var gt=typeof L;(gt==="undefined"||gt==="boolean")&&(L=null);var ht=!1;if(L===null)ht=!0;else switch(gt){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(L.$$typeof){case a:case t:ht=!0;break;case m:return ht=L._init,B(ht(L._payload),$,Z,et,dt)}}if(ht)return dt=dt(L),ht=et===""?"."+rt(L,0):et,D(dt)?(Z="",ht!=null&&(Z=ht.replace(ft,"$&/")+"/"),B(dt,$,Z,"",function(Ge){return Ge})):dt!=null&&(J(dt)&&(dt=Y(dt,Z+(dt.key==null||L&&L.key===dt.key?"":(""+dt.key).replace(ft,"$&/")+"/")+ht)),$.push(dt)),1;ht=0;var $t=et===""?".":et+":";if(D(L))for(var jt=0;jt<L.length;jt++)et=L[jt],gt=$t+rt(et,jt),ht+=B(et,$,Z,gt,dt);else if(jt=x(L),typeof jt=="function")for(L=jt.call(L),jt=0;!(et=L.next()).done;)et=et.value,gt=$t+rt(et,jt++),ht+=B(et,$,Z,gt,dt);else if(gt==="object"){if(typeof L.then=="function")return B(vt(L),$,Z,et,dt);throw $=String(L),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ht}function V(L,$,Z){if(L==null)return L;var et=[],dt=0;return B(L,et,"","",function(gt){return $.call(Z,gt,dt++)}),et}function Q(L){if(L._status===-1){var $=L._result;$=$(),$.then(function(Z){(L._status===0||L._status===-1)&&(L._status=1,L._result=Z)},function(Z){(L._status===0||L._status===-1)&&(L._status=2,L._result=Z)}),L._status===-1&&(L._status=0,L._result=$)}if(L._status===1)return L._result.default;throw L._result}var lt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},xt={map:V,forEach:function(L,$,Z){V(L,function(){$.apply(this,arguments)},Z)},count:function(L){var $=0;return V(L,function(){$++}),$},toArray:function(L){return V(L,function($){return $})||[]},only:function(L){if(!J(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return wt.Activity=p,wt.Children=xt,wt.Component=E,wt.Fragment=e,wt.Profiler=r,wt.PureComponent=M,wt.StrictMode=i,wt.Suspense=d,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,wt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return j.H.useMemoCache(L)}},wt.cache=function(L){return function(){return L.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(L,$,Z){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var et=w({},L.props),dt=L.key;if($!=null)for(gt in $.key!==void 0&&(dt=""+$.key),$)!F.call($,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&$.ref===void 0||(et[gt]=$[gt]);var gt=arguments.length-2;if(gt===1)et.children=Z;else if(1<gt){for(var ht=Array(gt),$t=0;$t<gt;$t++)ht[$t]=arguments[$t+2];et.children=ht}return H(L.type,dt,et)},wt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},wt.createElement=function(L,$,Z){var et,dt={},gt=null;if($!=null)for(et in $.key!==void 0&&(gt=""+$.key),$)F.call($,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(dt[et]=$[et]);var ht=arguments.length-2;if(ht===1)dt.children=Z;else if(1<ht){for(var $t=Array(ht),jt=0;jt<ht;jt++)$t[jt]=arguments[jt+2];dt.children=$t}if(L&&L.defaultProps)for(et in ht=L.defaultProps,ht)dt[et]===void 0&&(dt[et]=ht[et]);return H(L,gt,dt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(L){return{$$typeof:u,render:L}},wt.isValidElement=J,wt.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:Q}},wt.memo=function(L,$){return{$$typeof:f,type:L,compare:$===void 0?null:$}},wt.startTransition=function(L){var $=j.T,Z={};j.T=Z;try{var et=L(),dt=j.S;dt!==null&&dt(Z,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(P,lt)}catch(gt){lt(gt)}finally{$!==null&&Z.types!==null&&($.types=Z.types),j.T=$}},wt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},wt.use=function(L){return j.H.use(L)},wt.useActionState=function(L,$,Z){return j.H.useActionState(L,$,Z)},wt.useCallback=function(L,$){return j.H.useCallback(L,$)},wt.useContext=function(L){return j.H.useContext(L)},wt.useDebugValue=function(){},wt.useDeferredValue=function(L,$){return j.H.useDeferredValue(L,$)},wt.useEffect=function(L,$){return j.H.useEffect(L,$)},wt.useEffectEvent=function(L){return j.H.useEffectEvent(L)},wt.useId=function(){return j.H.useId()},wt.useImperativeHandle=function(L,$,Z){return j.H.useImperativeHandle(L,$,Z)},wt.useInsertionEffect=function(L,$){return j.H.useInsertionEffect(L,$)},wt.useLayoutEffect=function(L,$){return j.H.useLayoutEffect(L,$)},wt.useMemo=function(L,$){return j.H.useMemo(L,$)},wt.useOptimistic=function(L,$){return j.H.useOptimistic(L,$)},wt.useReducer=function(L,$,Z){return j.H.useReducer(L,$,Z)},wt.useRef=function(L){return j.H.useRef(L)},wt.useState=function(L){return j.H.useState(L)},wt.useSyncExternalStore=function(L,$,Z){return j.H.useSyncExternalStore(L,$,Z)},wt.useTransition=function(){return j.H.useTransition()},wt.version="19.2.3",wt}var Sv;function ym(){return Sv||(Sv=1,Wd.exports=EE()),Wd.exports}var N=ym(),Kd={exports:{}},yo={},Qd={exports:{}},Zd={};var Ev;function TE(){return Ev||(Ev=1,(function(a){function t(B,V){var Q=B.length;B.push(V);t:for(;0<Q;){var lt=Q-1>>>1,xt=B[lt];if(0<r(xt,V))B[lt]=V,B[Q]=xt,Q=lt;else break t}}function e(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var V=B[0],Q=B.pop();if(Q!==V){B[0]=Q;t:for(var lt=0,xt=B.length,L=xt>>>1;lt<L;){var $=2*(lt+1)-1,Z=B[$],et=$+1,dt=B[et];if(0>r(Z,Q))et<xt&&0>r(dt,Z)?(B[lt]=dt,B[et]=Q,lt=et):(B[lt]=Z,B[$]=Q,lt=$);else if(et<xt&&0>r(dt,Q))B[lt]=dt,B[et]=Q,lt=et;else break t}}return V}function r(B,V){var Q=B.sortIndex-V.sortIndex;return Q!==0?Q:B.id-V.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();a.unstable_now=function(){return c.now()-u}}var d=[],f=[],m=1,p=null,b=3,x=!1,S=!1,w=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function R(B){for(var V=e(f);V!==null;){if(V.callback===null)i(f);else if(V.startTime<=B)i(f),V.sortIndex=V.expirationTime,t(d,V);else break;V=e(f)}}function D(B){if(w=!1,R(B),!S)if(e(d)!==null)S=!0,P||(P=!0,at());else{var V=e(f);V!==null&&vt(D,V.startTime-B)}}var P=!1,j=-1,F=5,H=-1;function Y(){return T?!0:!(a.unstable_now()-H<F)}function J(){if(T=!1,P){var B=a.unstable_now();H=B;var V=!0;try{t:{S=!1,w&&(w=!1,C(j),j=-1),x=!0;var Q=b;try{e:{for(R(B),p=e(d);p!==null&&!(p.expirationTime>B&&Y());){var lt=p.callback;if(typeof lt=="function"){p.callback=null,b=p.priorityLevel;var xt=lt(p.expirationTime<=B);if(B=a.unstable_now(),typeof xt=="function"){p.callback=xt,R(B),V=!0;break e}p===e(d)&&i(d),R(B)}else i(d);p=e(d)}if(p!==null)V=!0;else{var L=e(f);L!==null&&vt(D,L.startTime-B),V=!1}}break t}finally{p=null,b=Q,x=!1}V=void 0}}finally{V?at():P=!1}}}var at;if(typeof M=="function")at=function(){M(J)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,rt=ft.port2;ft.port1.onmessage=J,at=function(){rt.postMessage(null)}}else at=function(){E(J,0)};function vt(B,V){j=E(function(){B(a.unstable_now())},V)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(B){B.callback=null},a.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(B){switch(b){case 1:case 2:case 3:var V=3;break;default:V=b}var Q=b;b=V;try{return B()}finally{b=Q}},a.unstable_requestPaint=function(){T=!0},a.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=b;b=B;try{return V()}finally{b=Q}},a.unstable_scheduleCallback=function(B,V,Q){var lt=a.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?lt+Q:lt):Q=lt,B){case 1:var xt=-1;break;case 2:xt=250;break;case 5:xt=1073741823;break;case 4:xt=1e4;break;default:xt=5e3}return xt=Q+xt,B={id:m++,callback:V,priorityLevel:B,startTime:Q,expirationTime:xt,sortIndex:-1},Q>lt?(B.sortIndex=Q,t(f,B),e(d)===null&&B===e(f)&&(w?(C(j),j=-1):w=!0,vt(D,Q-lt))):(B.sortIndex=xt,t(d,B),S||x||(S=!0,P||(P=!0,at()))),B},a.unstable_shouldYield=Y,a.unstable_wrapCallback=function(B){var V=b;return function(){var Q=b;b=V;try{return B.apply(this,arguments)}finally{b=Q}}}})(Zd)),Zd}var Tv;function CE(){return Tv||(Tv=1,Qd.exports=TE()),Qd.exports}var Jd={exports:{}},ze={};var Cv;function _E(){if(Cv)return ze;Cv=1;var a=ym();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ze.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,m)},ze.flushSync=function(d){var f=c.T,m=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=f,i.p=m,i.d.f()}},ze.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},ze.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},ze.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=u(m,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:x}):m==="script"&&i.d.X(d,{crossOrigin:p,integrity:b,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ze.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=u(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},ze.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=u(m,f.crossOrigin);i.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ze.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=u(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},ze.requestFormReset=function(d){i.d.r(d)},ze.unstable_batchedUpdates=function(d,f){return d(f)},ze.useFormState=function(d,f,m){return c.H.useFormState(d,f,m)},ze.useFormStatus=function(){return c.H.useHostTransitionStatus()},ze.version="19.2.3",ze}var _v;function ME(){if(_v)return Jd.exports;_v=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Jd.exports=_E(),Jd.exports}var Mv;function NE(){if(Mv)return yo;Mv=1;var a=CE(),t=ym(),e=ME();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function u(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(o(n)!==n)throw Error(i(188))}function f(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(i(188));return s!==n?null:n}for(var l=n,h=s;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return d(g),n;if(y===h)return d(g),s;y=y.sibling}throw Error(i(188))}if(l.return!==h.return)l=g,h=y;else{for(var A=!1,_=g.child;_;){if(_===l){A=!0,l=g,h=y;break}if(_===h){A=!0,h=g,l=y;break}_=_.sibling}if(!A){for(_=y.child;_;){if(_===l){A=!0,l=y,h=g;break}if(_===h){A=!0,h=y,l=g;break}_=_.sibling}if(!A)throw Error(i(189))}}if(l.alternate!==h)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:s}function m(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=m(n),s!==null)return s;n=n.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),M=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function at(n){return n===null||typeof n!="object"?null:(n=J&&n[J]||n["@@iterator"],typeof n=="function"?n:null)}var ft=Symbol.for("react.client.reference");function rt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ft?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case w:return"Fragment";case E:return"Profiler";case T:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case H:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case M:return n.displayName||"Context";case C:return(n._context.displayName||"Context")+".Consumer";case R:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case j:return s=n.displayName||null,s!==null?s:rt(n.type)||"Memo";case F:s=n._payload,n=n._init;try{return rt(n(s))}catch{}}return null}var vt=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},lt=[],xt=-1;function L(n){return{current:n}}function $(n){0>xt||(n.current=lt[xt],lt[xt]=null,xt--)}function Z(n,s){xt++,lt[xt]=n.current,n.current=s}var et=L(null),dt=L(null),gt=L(null),ht=L(null);function $t(n,s){switch(Z(gt,s),Z(dt,n),Z(et,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?U0(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=U0(s),n=V0(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$(et),Z(et,n)}function jt(){$(et),$(dt),$(gt)}function Ge(n){n.memoizedState!==null&&Z(ht,n);var s=et.current,l=V0(s,n.type);s!==l&&(Z(dt,n),Z(et,l))}function zt(n){dt.current===n&&($(et),$(dt)),ht.current===n&&($(ht),ho._currentValue=Q)}var ln,Xt;function Pt(n){if(ln===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ln=s&&s[1]||"",Xt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ln+n+Xt}var Zt=!1;function Te(n,s){if(!n||Zt)return"";Zt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var G=q}Reflect.construct(n,[],K)}else{try{K.call()}catch(q){G=q}n.call(K.prototype)}}else{try{throw Error()}catch(q){G=q}(K=n())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&G&&typeof q.stack=="string")return[q.stack,G.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),A=y[0],_=y[1];if(A&&_){var k=A.split(`
`),U=_.split(`
`);for(g=h=0;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;for(;g<U.length&&!U[g].includes("DetermineComponentFrameRoot");)g++;if(h===k.length||g===U.length)for(h=k.length-1,g=U.length-1;1<=h&&0<=g&&k[h]!==U[g];)g--;for(;1<=h&&0<=g;h--,g--)if(k[h]!==U[g]){if(h!==1||g!==1)do if(h--,g--,0>g||k[h]!==U[g]){var X=`
`+k[h].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=h&&0<=g);break}}}finally{Zt=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Pt(l):""}function ge(n,s){switch(n.tag){case 26:case 27:case 5:return Pt(n.type);case 16:return Pt("Lazy");case 13:return n.child!==s&&s!==null?Pt("Suspense Fallback"):Pt("Suspense");case 19:return Pt("SuspenseList");case 0:case 15:return Te(n.type,!1);case 11:return Te(n.type.render,!1);case 1:return Te(n.type,!0);case 31:return Pt("Activity");default:return""}}function fl(n){try{var s="",l=null;do s+=ge(n,l),l=n,n=n.return;while(n);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var xr=Object.prototype.hasOwnProperty,Es=a.unstable_scheduleCallback,wr=a.unstable_cancelCallback,oa=a.unstable_shouldYield,Lu=a.unstable_requestPaint,qe=a.unstable_now,Pu=a.unstable_getCurrentPriorityLevel,ml=a.unstable_ImmediatePriority,pl=a.unstable_UserBlockingPriority,cn=a.unstable_NormalPriority,Vi=a.unstable_LowPriority,Hn=a.unstable_IdlePriority,Ar=a.log,sS=a.unstable_setDisableYieldValue,Sr=null,un=null;function Hi(n){if(typeof Ar=="function"&&sS(n),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(Sr,n)}catch{}}var hn=Math.clz32?Math.clz32:oS,aS=Math.log,rS=Math.LN2;function oS(n){return n>>>=0,n===0?32:31-(aS(n)/rS|0)|0}var gl=256,yl=262144,vl=4194304;function Ts(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function bl(n,s,l){var h=n.pendingLanes;if(h===0)return 0;var g=0,y=n.suspendedLanes,A=n.pingedLanes;n=n.warmLanes;var _=h&134217727;return _!==0?(h=_&~y,h!==0?g=Ts(h):(A&=_,A!==0?g=Ts(A):l||(l=_&~n,l!==0&&(g=Ts(l))))):(_=h&~y,_!==0?g=Ts(_):A!==0?g=Ts(A):l||(l=h&~n,l!==0&&(g=Ts(l)))),g===0?0:s!==0&&s!==g&&(s&y)===0&&(y=g&-g,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:g}function Er(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function lS(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ap(){var n=vl;return vl<<=1,(vl&62914560)===0&&(vl=4194304),n}function ju(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function Tr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function cS(n,s,l,h,g,y){var A=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var _=n.entanglements,k=n.expirationTimes,U=n.hiddenUpdates;for(l=A&~l;0<l;){var X=31-hn(l),K=1<<X;_[X]=0,k[X]=-1;var G=U[X];if(G!==null)for(U[X]=null,X=0;X<G.length;X++){var q=G[X];q!==null&&(q.lane&=-536870913)}l&=~K}h!==0&&Sp(n,h,0),y!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=y&~(A&~s))}function Sp(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var h=31-hn(s);n.entangledLanes|=s,n.entanglements[h]=n.entanglements[h]|1073741824|l&261930}function Ep(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var h=31-hn(l),g=1<<h;g&s|n[h]&s&&(n[h]|=s),l&=~g}}function Tp(n,s){var l=s&-s;return l=(l&42)!==0?1:Ou(l),(l&(n.suspendedLanes|s))!==0?0:l}function Ou(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Bu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Cp(){var n=V.p;return n!==0?n:(n=window.event,n===void 0?32:hv(n.type))}function _p(n,s){var l=V.p;try{return V.p=n,s()}finally{V.p=l}}var Gi=Math.random().toString(36).slice(2),De="__reactFiber$"+Gi,Qe="__reactProps$"+Gi,la="__reactContainer$"+Gi,Fu="__reactEvents$"+Gi,uS="__reactListeners$"+Gi,hS="__reactHandles$"+Gi,Mp="__reactResources$"+Gi,Cr="__reactMarker$"+Gi;function zu(n){delete n[De],delete n[Qe],delete n[Fu],delete n[uS],delete n[hS]}function ca(n){var s=n[De];if(s)return s;for(var l=n.parentNode;l;){if(s=l[la]||l[De]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=W0(n);n!==null;){if(l=n[De])return l;n=W0(n)}return s}n=l,l=n.parentNode}return null}function ua(n){if(n=n[De]||n[la]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function _r(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function ha(n){var s=n[Mp];return s||(s=n[Mp]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ce(n){n[Cr]=!0}var Np=new Set,Rp={};function Cs(n,s){da(n,s),da(n+"Capture",s)}function da(n,s){for(Rp[n]=s,n=0;n<s.length;n++)Np.add(s[n])}var dS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dp={},kp={};function fS(n){return xr.call(kp,n)?!0:xr.call(Dp,n)?!1:dS.test(n)?kp[n]=!0:(Dp[n]=!0,!1)}function xl(n,s,l){if(fS(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function wl(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function mi(n,s,l,h){if(h===null)n.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+h)}}function Sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Lp(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function mS(n,s,l){var h=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,y=h.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(A){l=""+A,y.call(this,A)}}),Object.defineProperty(n,s,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Iu(n){if(!n._valueTracker){var s=Lp(n)?"checked":"value";n._valueTracker=mS(n,s,""+n[s])}}function Pp(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return n&&(h=Lp(n)?n.checked?"true":"false":n.value),n=h,n!==l?(s.setValue(n),!0):!1}function Al(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var pS=/[\n"\\]/g;function En(n){return n.replace(pS,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Uu(n,s,l,h,g,y,A,_){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),s!=null?A==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Sn(s)):n.value!==""+Sn(s)&&(n.value=""+Sn(s)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),s!=null?Vu(n,A,Sn(s)):l!=null?Vu(n,A,Sn(l)):h!=null&&n.removeAttribute("value"),g==null&&y!=null&&(n.defaultChecked=!!y),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.name=""+Sn(_):n.removeAttribute("name")}function jp(n,s,l,h,g,y,A,_){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){Iu(n);return}l=l!=null?""+Sn(l):"",s=s!=null?""+Sn(s):l,_||s===n.value||(n.value=s),n.defaultValue=s}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,n.checked=_?n.checked:!!h,n.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A),Iu(n)}function Vu(n,s,l){s==="number"&&Al(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function fa(n,s,l,h){if(n=n.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=s.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&h&&(n[l].defaultSelected=!0)}else{for(l=""+Sn(l),s=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,h&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function Op(n,s,l){if(s!=null&&(s=""+Sn(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+Sn(l):""}function Bp(n,s,l,h){if(s==null){if(h!=null){if(l!=null)throw Error(i(92));if(vt(h)){if(1<h.length)throw Error(i(93));h=h[0]}l=h}l==null&&(l=""),s=l}l=Sn(s),n.defaultValue=l,h=n.textContent,h===l&&h!==""&&h!==null&&(n.value=h),Iu(n)}function ma(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var gS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fp(n,s,l){var h=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":h?n.setProperty(s,l):typeof l!="number"||l===0||gS.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function zp(n,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?n.setProperty(h,""):h==="float"?n.cssFloat="":n[h]="");for(var g in s)h=s[g],s.hasOwnProperty(g)&&l[g]!==h&&Fp(n,g,h)}else for(var y in s)s.hasOwnProperty(y)&&Fp(n,y,s[y])}function Hu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sl(n){return vS.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function pi(){}var Gu=null;function qu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var pa=null,ga=null;function Ip(n){var s=ua(n);if(s&&(n=s.stateNode)){var l=n[Qe]||null;t:switch(n=s.stateNode,s.type){case"input":if(Uu(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+En(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==n&&h.form===n.form){var g=h[Qe]||null;if(!g)throw Error(i(90));Uu(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)h=l[s],h.form===n.form&&Pp(h)}break t;case"textarea":Op(n,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&fa(n,!!l.multiple,s,!1)}}}var $u=!1;function Up(n,s,l){if($u)return n(s,l);$u=!0;try{var h=n(s);return h}finally{if($u=!1,(pa!==null||ga!==null)&&(uc(),pa&&(s=pa,n=ga,ga=pa=null,Ip(s),n)))for(s=0;s<n.length;s++)Ip(n[s])}}function Mr(n,s){var l=n.stateNode;if(l===null)return null;var h=l[Qe]||null;if(h===null)return null;l=h[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break t;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xu=!1;if(gi)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){Xu=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{Xu=!1}var qi=null,Yu=null,El=null;function Vp(){if(El)return El;var n,s=Yu,l=s.length,h,g="value"in qi?qi.value:qi.textContent,y=g.length;for(n=0;n<l&&s[n]===g[n];n++);var A=l-n;for(h=1;h<=A&&s[l-h]===g[y-h];h++);return El=g.slice(n,1<h?1-h:void 0)}function Tl(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Cl(){return!0}function Hp(){return!1}function Ze(n){function s(l,h,g,y,A){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(l=n[_],this[_]=l?l(y):y[_]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Cl:Hp,this.isPropagationStopped=Hp,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),s}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=Ze(_s),Rr=p({},_s,{view:0,detail:0}),bS=Ze(Rr),Wu,Ku,Dr,Ml=p({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Dr&&(Dr&&n.type==="mousemove"?(Wu=n.screenX-Dr.screenX,Ku=n.screenY-Dr.screenY):Ku=Wu=0,Dr=n),Wu)},movementY:function(n){return"movementY"in n?n.movementY:Ku}}),Gp=Ze(Ml),xS=p({},Ml,{dataTransfer:0}),wS=Ze(xS),AS=p({},Rr,{relatedTarget:0}),Qu=Ze(AS),SS=p({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),ES=Ze(SS),TS=p({},_s,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),CS=Ze(TS),_S=p({},_s,{data:0}),qp=Ze(_S),MS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DS(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=RS[n])?!!s[n]:!1}function Zu(){return DS}var kS=p({},Rr,{key:function(n){if(n.key){var s=MS[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Tl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?NS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zu,charCode:function(n){return n.type==="keypress"?Tl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Tl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),LS=Ze(kS),PS=p({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$p=Ze(PS),jS=p({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zu}),OS=Ze(jS),BS=p({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),FS=Ze(BS),zS=p({},Ml,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),IS=Ze(zS),US=p({},_s,{newState:0,oldState:0}),VS=Ze(US),HS=[9,13,27,32],Ju=gi&&"CompositionEvent"in window,kr=null;gi&&"documentMode"in document&&(kr=document.documentMode);var GS=gi&&"TextEvent"in window&&!kr,Xp=gi&&(!Ju||kr&&8<kr&&11>=kr),Yp=" ",Wp=!1;function Kp(n,s){switch(n){case"keyup":return HS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ya=!1;function qS(n,s){switch(n){case"compositionend":return Qp(s);case"keypress":return s.which!==32?null:(Wp=!0,Yp);case"textInput":return n=s.data,n===Yp&&Wp?null:n;default:return null}}function $S(n,s){if(ya)return n==="compositionend"||!Ju&&Kp(n,s)?(n=Vp(),El=Yu=qi=null,ya=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Xp&&s.locale!=="ko"?null:s.data;default:return null}}var XS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zp(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!XS[n.type]:s==="textarea"}function Jp(n,s,l,h){pa?ga?ga.push(h):ga=[h]:pa=h,s=yc(s,"onChange"),0<s.length&&(l=new _l("onChange","change",null,l,h),n.push({event:l,listeners:s}))}var Lr=null,Pr=null;function YS(n){j0(n,0)}function Nl(n){var s=_r(n);if(Pp(s))return n}function tg(n,s){if(n==="change")return s}var eg=!1;if(gi){var th;if(gi){var eh="oninput"in document;if(!eh){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),eh=typeof ng.oninput=="function"}th=eh}else th=!1;eg=th&&(!document.documentMode||9<document.documentMode)}function ig(){Lr&&(Lr.detachEvent("onpropertychange",sg),Pr=Lr=null)}function sg(n){if(n.propertyName==="value"&&Nl(Pr)){var s=[];Jp(s,Pr,n,qu(n)),Up(YS,s)}}function WS(n,s,l){n==="focusin"?(ig(),Lr=s,Pr=l,Lr.attachEvent("onpropertychange",sg)):n==="focusout"&&ig()}function KS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Nl(Pr)}function QS(n,s){if(n==="click")return Nl(s)}function ZS(n,s){if(n==="input"||n==="change")return Nl(s)}function JS(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var dn=typeof Object.is=="function"?Object.is:JS;function jr(n,s){if(dn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!xr.call(s,g)||!dn(n[g],s[g]))return!1}return!0}function ag(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function rg(n,s){var l=ag(n);n=0;for(var h;l;){if(l.nodeType===3){if(h=n+l.textContent.length,n<=s&&h>=s)return{node:l,offset:s-n};n=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=ag(l)}}function og(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?og(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function lg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Al(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=Al(n.document)}return s}function nh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var t2=gi&&"documentMode"in document&&11>=document.documentMode,va=null,ih=null,Or=null,sh=!1;function cg(n,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;sh||va==null||va!==Al(h)||(h=va,"selectionStart"in h&&nh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Or&&jr(Or,h)||(Or=h,h=yc(ih,"onSelect"),0<h.length&&(s=new _l("onSelect","select",null,s,l),n.push({event:s,listeners:h}),s.target=va)))}function Ms(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var ba={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},ah={},ug={};gi&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Ns(n){if(ah[n])return ah[n];if(!ba[n])return n;var s=ba[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in ug)return ah[n]=s[l];return n}var hg=Ns("animationend"),dg=Ns("animationiteration"),fg=Ns("animationstart"),e2=Ns("transitionrun"),n2=Ns("transitionstart"),i2=Ns("transitioncancel"),mg=Ns("transitionend"),pg=new Map,rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rh.push("scrollEnd");function Gn(n,s){pg.set(n,s),Cs(s,[n])}var Rl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Tn=[],xa=0,oh=0;function Dl(){for(var n=xa,s=oh=xa=0;s<n;){var l=Tn[s];Tn[s++]=null;var h=Tn[s];Tn[s++]=null;var g=Tn[s];Tn[s++]=null;var y=Tn[s];if(Tn[s++]=null,h!==null&&g!==null){var A=h.pending;A===null?g.next=g:(g.next=A.next,A.next=g),h.pending=g}y!==0&&gg(l,g,y)}}function kl(n,s,l,h){Tn[xa++]=n,Tn[xa++]=s,Tn[xa++]=l,Tn[xa++]=h,oh|=h,n.lanes|=h,n=n.alternate,n!==null&&(n.lanes|=h)}function lh(n,s,l,h){return kl(n,s,l,h),Ll(n)}function Rs(n,s){return kl(n,null,null,s),Ll(n)}function gg(n,s,l){n.lanes|=l;var h=n.alternate;h!==null&&(h.lanes|=l);for(var g=!1,y=n.return;y!==null;)y.childLanes|=l,h=y.alternate,h!==null&&(h.childLanes|=l),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(g=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,g&&s!==null&&(g=31-hn(l),n=y.hiddenUpdates,h=n[g],h===null?n[g]=[s]:h.push(s),s.lane=l|536870912),y):null}function Ll(n){if(50<so)throw so=0,yd=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var wa={};function s2(n,s,l,h){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(n,s,l,h){return new s2(n,s,l,h)}function ch(n){return n=n.prototype,!(!n||!n.isReactComponent)}function yi(n,s){var l=n.alternate;return l===null?(l=fn(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function yg(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Pl(n,s,l,h,g,y){var A=0;if(h=n,typeof n=="function")ch(n)&&(A=1);else if(typeof n=="string")A=cE(n,l,et.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case H:return n=fn(31,l,s,g),n.elementType=H,n.lanes=y,n;case w:return Ds(l.children,g,y,s);case T:A=8,g|=24;break;case E:return n=fn(12,l,s,g|2),n.elementType=E,n.lanes=y,n;case D:return n=fn(13,l,s,g),n.elementType=D,n.lanes=y,n;case P:return n=fn(19,l,s,g),n.elementType=P,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case M:A=10;break t;case C:A=9;break t;case R:A=11;break t;case j:A=14;break t;case F:A=16,h=null;break t}A=29,l=Error(i(130,n===null?"null":typeof n,"")),h=null}return s=fn(A,l,s,g),s.elementType=n,s.type=h,s.lanes=y,s}function Ds(n,s,l,h){return n=fn(7,n,h,s),n.lanes=l,n}function uh(n,s,l){return n=fn(6,n,null,s),n.lanes=l,n}function vg(n){var s=fn(18,null,null,0);return s.stateNode=n,s}function hh(n,s,l){return s=fn(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var bg=new WeakMap;function Cn(n,s){if(typeof n=="object"&&n!==null){var l=bg.get(n);return l!==void 0?l:(s={value:n,source:s,stack:fl(s)},bg.set(n,s),s)}return{value:n,source:s,stack:fl(s)}}var Aa=[],Sa=0,jl=null,Br=0,_n=[],Mn=0,$i=null,Zn=1,Jn="";function vi(n,s){Aa[Sa++]=Br,Aa[Sa++]=jl,jl=n,Br=s}function xg(n,s,l){_n[Mn++]=Zn,_n[Mn++]=Jn,_n[Mn++]=$i,$i=n;var h=Zn;n=Jn;var g=32-hn(h)-1;h&=~(1<<g),l+=1;var y=32-hn(s)+g;if(30<y){var A=g-g%5;y=(h&(1<<A)-1).toString(32),h>>=A,g-=A,Zn=1<<32-hn(s)+g|l<<g|h,Jn=y+n}else Zn=1<<y|l<<g|h,Jn=n}function dh(n){n.return!==null&&(vi(n,1),xg(n,1,0))}function fh(n){for(;n===jl;)jl=Aa[--Sa],Aa[Sa]=null,Br=Aa[--Sa],Aa[Sa]=null;for(;n===$i;)$i=_n[--Mn],_n[Mn]=null,Jn=_n[--Mn],_n[Mn]=null,Zn=_n[--Mn],_n[Mn]=null}function wg(n,s){_n[Mn++]=Zn,_n[Mn++]=Jn,_n[Mn++]=$i,Zn=s.id,Jn=s.overflow,$i=n}var ke=null,Jt=null,kt=!1,Xi=null,Nn=!1,mh=Error(i(519));function Yi(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fr(Cn(s,n)),mh}function Ag(n){var s=n.stateNode,l=n.type,h=n.memoizedProps;switch(s[De]=n,s[Qe]=h,l){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(l=0;l<ro.length;l++)Mt(ro[l],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),jp(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),Bp(s,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||h.suppressHydrationWarning===!0||z0(s.textContent,l)?(h.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),h.onScroll!=null&&Mt("scroll",s),h.onScrollEnd!=null&&Mt("scrollend",s),h.onClick!=null&&(s.onclick=pi),s=!0):s=!1,s||Yi(n,!0)}function Sg(n){for(ke=n.return;ke;)switch(ke.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:ke=ke.return}}function Ea(n){if(n!==ke)return!1;if(!kt)return Sg(n),kt=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||kd(n.type,n.memoizedProps)),l=!l),l&&Jt&&Yi(n),Sg(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Jt=Y0(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Jt=Y0(n)}else s===27?(s=Jt,ls(n.type)?(n=Bd,Bd=null,Jt=n):Jt=s):Jt=ke?Dn(n.stateNode.nextSibling):null;return!0}function ks(){Jt=ke=null,kt=!1}function ph(){var n=Xi;return n!==null&&(nn===null?nn=n:nn.push.apply(nn,n),Xi=null),n}function Fr(n){Xi===null?Xi=[n]:Xi.push(n)}var gh=L(null),Ls=null,bi=null;function Wi(n,s,l){Z(gh,s._currentValue),s._currentValue=l}function xi(n){n._currentValue=gh.current,$(gh)}function yh(n,s,l){for(;n!==null;){var h=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),n===l)break;n=n.return}}function vh(n,s,l,h){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var y=g.dependencies;if(y!==null){var A=g.child;y=y.firstContext;t:for(;y!==null;){var _=y;y=g;for(var k=0;k<s.length;k++)if(_.context===s[k]){y.lanes|=l,_=y.alternate,_!==null&&(_.lanes|=l),yh(y.return,l,n),h||(A=null);break t}y=_.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(i(341));A.lanes|=l,y=A.alternate,y!==null&&(y.lanes|=l),yh(A,l,n),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===n){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function Ta(n,s,l,h){n=null;for(var g=s,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var _=g.type;dn(g.pendingProps.value,A.value)||(n!==null?n.push(_):n=[_])}}else if(g===ht.current){if(A=g.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(ho):n=[ho])}g=g.return}n!==null&&vh(s,n,l,h),s.flags|=262144}function Ol(n){for(n=n.firstContext;n!==null;){if(!dn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ps(n){Ls=n,bi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Le(n){return Eg(Ls,n)}function Bl(n,s){return Ls===null&&Ps(n),Eg(n,s)}function Eg(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},bi===null){if(n===null)throw Error(i(308));bi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else bi=bi.next=s;return l}var a2=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,h){n.push(h)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},r2=a.unstable_scheduleCallback,o2=a.unstable_NormalPriority,ye={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bh(){return{controller:new a2,data:new Map,refCount:0}}function zr(n){n.refCount--,n.refCount===0&&r2(o2,function(){n.controller.abort()})}var Ir=null,xh=0,Ca=0,_a=null;function l2(n,s){if(Ir===null){var l=Ir=[];xh=0,Ca=Sd(),_a={status:"pending",value:void 0,then:function(h){l.push(h)}}}return xh++,s.then(Tg,Tg),s}function Tg(){if(--xh===0&&Ir!==null){_a!==null&&(_a.status="fulfilled");var n=Ir;Ir=null,Ca=0,_a=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function c2(n,s){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){h.status="fulfilled",h.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var Cg=B.S;B.S=function(n,s){c0=qe(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&l2(n,s),Cg!==null&&Cg(n,s)};var js=L(null);function wh(){var n=js.current;return n!==null?n:Yt.pooledCache}function Fl(n,s){s===null?Z(js,js.current):Z(js,s.pool)}function _g(){var n=wh();return n===null?null:{parent:ye._currentValue,pool:n}}var Ma=Error(i(460)),Ah=Error(i(474)),zl=Error(i(542)),Il={then:function(){}};function Mg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ng(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(pi,pi),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Dg(n),n;default:if(typeof s.status=="string")s.then(pi,pi);else{if(n=Yt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(h){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=h}},function(h){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Dg(n),n}throw Bs=s,Ma}}function Os(n){try{var s=n._init;return s(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Bs=l,Ma):l}}var Bs=null;function Rg(){if(Bs===null)throw Error(i(459));var n=Bs;return Bs=null,n}function Dg(n){if(n===Ma||n===zl)throw Error(i(483))}var Na=null,Ur=0;function Ul(n){var s=Ur;return Ur+=1,Na===null&&(Na=[]),Ng(Na,n,s)}function Vr(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Vl(n,s){throw s.$$typeof===b?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function kg(n){function s(z,O){if(n){var I=z.deletions;I===null?(z.deletions=[O],z.flags|=16):I.push(O)}}function l(z,O){if(!n)return null;for(;O!==null;)s(z,O),O=O.sibling;return null}function h(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function g(z,O){return z=yi(z,O),z.index=0,z.sibling=null,z}function y(z,O,I){return z.index=I,n?(I=z.alternate,I!==null?(I=I.index,I<O?(z.flags|=67108866,O):I):(z.flags|=67108866,O)):(z.flags|=1048576,O)}function A(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function _(z,O,I,W){return O===null||O.tag!==6?(O=uh(I,z.mode,W),O.return=z,O):(O=g(O,I),O.return=z,O)}function k(z,O,I,W){var mt=I.type;return mt===w?X(z,O,I.props.children,W,I.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===F&&Os(mt)===O.type)?(O=g(O,I.props),Vr(O,I),O.return=z,O):(O=Pl(I.type,I.key,I.props,null,z.mode,W),Vr(O,I),O.return=z,O)}function U(z,O,I,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==I.containerInfo||O.stateNode.implementation!==I.implementation?(O=hh(I,z.mode,W),O.return=z,O):(O=g(O,I.children||[]),O.return=z,O)}function X(z,O,I,W,mt){return O===null||O.tag!==7?(O=Ds(I,z.mode,W,mt),O.return=z,O):(O=g(O,I),O.return=z,O)}function K(z,O,I){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=uh(""+O,z.mode,I),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case x:return I=Pl(O.type,O.key,O.props,null,z.mode,I),Vr(I,O),I.return=z,I;case S:return O=hh(O,z.mode,I),O.return=z,O;case F:return O=Os(O),K(z,O,I)}if(vt(O)||at(O))return O=Ds(O,z.mode,I,null),O.return=z,O;if(typeof O.then=="function")return K(z,Ul(O),I);if(O.$$typeof===M)return K(z,Bl(z,O),I);Vl(z,O)}return null}function G(z,O,I,W){var mt=O!==null?O.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return mt!==null?null:_(z,O,""+I,W);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case x:return I.key===mt?k(z,O,I,W):null;case S:return I.key===mt?U(z,O,I,W):null;case F:return I=Os(I),G(z,O,I,W)}if(vt(I)||at(I))return mt!==null?null:X(z,O,I,W,null);if(typeof I.then=="function")return G(z,O,Ul(I),W);if(I.$$typeof===M)return G(z,O,Bl(z,I),W);Vl(z,I)}return null}function q(z,O,I,W,mt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(I)||null,_(O,z,""+W,mt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return z=z.get(W.key===null?I:W.key)||null,k(O,z,W,mt);case S:return z=z.get(W.key===null?I:W.key)||null,U(O,z,W,mt);case F:return W=Os(W),q(z,O,I,W,mt)}if(vt(W)||at(W))return z=z.get(I)||null,X(O,z,W,mt,null);if(typeof W.then=="function")return q(z,O,I,Ul(W),mt);if(W.$$typeof===M)return q(z,O,I,Bl(O,W),mt);Vl(O,W)}return null}function st(z,O,I,W){for(var mt=null,Ot=null,ct=O,Tt=O=0,Rt=null;ct!==null&&Tt<I.length;Tt++){ct.index>Tt?(Rt=ct,ct=null):Rt=ct.sibling;var Bt=G(z,ct,I[Tt],W);if(Bt===null){ct===null&&(ct=Rt);break}n&&ct&&Bt.alternate===null&&s(z,ct),O=y(Bt,O,Tt),Ot===null?mt=Bt:Ot.sibling=Bt,Ot=Bt,ct=Rt}if(Tt===I.length)return l(z,ct),kt&&vi(z,Tt),mt;if(ct===null){for(;Tt<I.length;Tt++)ct=K(z,I[Tt],W),ct!==null&&(O=y(ct,O,Tt),Ot===null?mt=ct:Ot.sibling=ct,Ot=ct);return kt&&vi(z,Tt),mt}for(ct=h(ct);Tt<I.length;Tt++)Rt=q(ct,z,Tt,I[Tt],W),Rt!==null&&(n&&Rt.alternate!==null&&ct.delete(Rt.key===null?Tt:Rt.key),O=y(Rt,O,Tt),Ot===null?mt=Rt:Ot.sibling=Rt,Ot=Rt);return n&&ct.forEach(function(fs){return s(z,fs)}),kt&&vi(z,Tt),mt}function yt(z,O,I,W){if(I==null)throw Error(i(151));for(var mt=null,Ot=null,ct=O,Tt=O=0,Rt=null,Bt=I.next();ct!==null&&!Bt.done;Tt++,Bt=I.next()){ct.index>Tt?(Rt=ct,ct=null):Rt=ct.sibling;var fs=G(z,ct,Bt.value,W);if(fs===null){ct===null&&(ct=Rt);break}n&&ct&&fs.alternate===null&&s(z,ct),O=y(fs,O,Tt),Ot===null?mt=fs:Ot.sibling=fs,Ot=fs,ct=Rt}if(Bt.done)return l(z,ct),kt&&vi(z,Tt),mt;if(ct===null){for(;!Bt.done;Tt++,Bt=I.next())Bt=K(z,Bt.value,W),Bt!==null&&(O=y(Bt,O,Tt),Ot===null?mt=Bt:Ot.sibling=Bt,Ot=Bt);return kt&&vi(z,Tt),mt}for(ct=h(ct);!Bt.done;Tt++,Bt=I.next())Bt=q(ct,z,Tt,Bt.value,W),Bt!==null&&(n&&Bt.alternate!==null&&ct.delete(Bt.key===null?Tt:Bt.key),O=y(Bt,O,Tt),Ot===null?mt=Bt:Ot.sibling=Bt,Ot=Bt);return n&&ct.forEach(function(xE){return s(z,xE)}),kt&&vi(z,Tt),mt}function Gt(z,O,I,W){if(typeof I=="object"&&I!==null&&I.type===w&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case x:t:{for(var mt=I.key;O!==null;){if(O.key===mt){if(mt=I.type,mt===w){if(O.tag===7){l(z,O.sibling),W=g(O,I.props.children),W.return=z,z=W;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===F&&Os(mt)===O.type){l(z,O.sibling),W=g(O,I.props),Vr(W,I),W.return=z,z=W;break t}l(z,O);break}else s(z,O);O=O.sibling}I.type===w?(W=Ds(I.props.children,z.mode,W,I.key),W.return=z,z=W):(W=Pl(I.type,I.key,I.props,null,z.mode,W),Vr(W,I),W.return=z,z=W)}return A(z);case S:t:{for(mt=I.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===I.containerInfo&&O.stateNode.implementation===I.implementation){l(z,O.sibling),W=g(O,I.children||[]),W.return=z,z=W;break t}else{l(z,O);break}else s(z,O);O=O.sibling}W=hh(I,z.mode,W),W.return=z,z=W}return A(z);case F:return I=Os(I),Gt(z,O,I,W)}if(vt(I))return st(z,O,I,W);if(at(I)){if(mt=at(I),typeof mt!="function")throw Error(i(150));return I=mt.call(I),yt(z,O,I,W)}if(typeof I.then=="function")return Gt(z,O,Ul(I),W);if(I.$$typeof===M)return Gt(z,O,Bl(z,I),W);Vl(z,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,O!==null&&O.tag===6?(l(z,O.sibling),W=g(O,I),W.return=z,z=W):(l(z,O),W=uh(I,z.mode,W),W.return=z,z=W),A(z)):l(z,O)}return function(z,O,I,W){try{Ur=0;var mt=Gt(z,O,I,W);return Na=null,mt}catch(ct){if(ct===Ma||ct===zl)throw ct;var Ot=fn(29,ct,null,z.mode);return Ot.lanes=W,Ot.return=z,Ot}}}var Fs=kg(!0),Lg=kg(!1),Ki=!1;function Sh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eh(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Qi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Zi(n,s,l){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Ft&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,s=Ll(n),gg(n,null,l),s}return kl(n,h,s,l),Ll(n)}function Hr(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var h=s.lanes;h&=n.pendingLanes,l|=h,s.lanes=l,Ep(n,l)}}function Th(n,s){var l=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=A:y=y.next=A,l=l.next}while(l!==null);y===null?g=y=s:y=y.next=s}else g=y=s;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var Ch=!1;function Gr(){if(Ch){var n=_a;if(n!==null)throw n}}function qr(n,s,l,h){Ch=!1;var g=n.updateQueue;Ki=!1;var y=g.firstBaseUpdate,A=g.lastBaseUpdate,_=g.shared.pending;if(_!==null){g.shared.pending=null;var k=_,U=k.next;k.next=null,A===null?y=U:A.next=U,A=k;var X=n.alternate;X!==null&&(X=X.updateQueue,_=X.lastBaseUpdate,_!==A&&(_===null?X.firstBaseUpdate=U:_.next=U,X.lastBaseUpdate=k))}if(y!==null){var K=g.baseState;A=0,X=U=k=null,_=y;do{var G=_.lane&-536870913,q=G!==_.lane;if(q?(Nt&G)===G:(h&G)===G){G!==0&&G===Ca&&(Ch=!0),X!==null&&(X=X.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});t:{var st=n,yt=_;G=s;var Gt=l;switch(yt.tag){case 1:if(st=yt.payload,typeof st=="function"){K=st.call(Gt,K,G);break t}K=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=yt.payload,G=typeof st=="function"?st.call(Gt,K,G):st,G==null)break t;K=p({},K,G);break t;case 2:Ki=!0}}G=_.callback,G!==null&&(n.flags|=64,q&&(n.flags|=8192),q=g.callbacks,q===null?g.callbacks=[G]:q.push(G))}else q={lane:G,tag:_.tag,payload:_.payload,callback:_.callback,next:null},X===null?(U=X=q,k=K):X=X.next=q,A|=G;if(_=_.next,_===null){if(_=g.shared.pending,_===null)break;q=_,_=q.next,q.next=null,g.lastBaseUpdate=q,g.shared.pending=null}}while(!0);X===null&&(k=K),g.baseState=k,g.firstBaseUpdate=U,g.lastBaseUpdate=X,y===null&&(g.shared.lanes=0),is|=A,n.lanes=A,n.memoizedState=K}}function Pg(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function jg(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Pg(l[n],s)}var Ra=L(null),Hl=L(0);function Og(n,s){n=Ni,Z(Hl,n),Z(Ra,s),Ni=n|s.baseLanes}function _h(){Z(Hl,Ni),Z(Ra,Ra.current)}function Mh(){Ni=Hl.current,$(Ra),$(Hl)}var mn=L(null),Rn=null;function Ji(n){var s=n.alternate;Z(de,de.current&1),Z(mn,n),Rn===null&&(s===null||Ra.current!==null||s.memoizedState!==null)&&(Rn=n)}function Nh(n){Z(de,de.current),Z(mn,n),Rn===null&&(Rn=n)}function Bg(n){n.tag===22?(Z(de,de.current),Z(mn,n),Rn===null&&(Rn=n)):ts()}function ts(){Z(de,de.current),Z(mn,mn.current)}function pn(n){$(mn),Rn===n&&(Rn=null),$(de)}var de=L(0);function Gl(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||jd(l)||Od(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var wi=0,Et=null,Vt=null,ve=null,ql=!1,Da=!1,zs=!1,$l=0,$r=0,ka=null,u2=0;function ce(){throw Error(i(321))}function Rh(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!dn(n[l],s[l]))return!1;return!0}function Dh(n,s,l,h,g,y){return wi=y,Et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=n===null||n.memoizedState===null?xy:$h,zs=!1,y=l(h,g),zs=!1,Da&&(y=zg(s,l,h,g)),Fg(n),y}function Fg(n){B.H=Wr;var s=Vt!==null&&Vt.next!==null;if(wi=0,ve=Vt=Et=null,ql=!1,$r=0,ka=null,s)throw Error(i(300));n===null||be||(n=n.dependencies,n!==null&&Ol(n)&&(be=!0))}function zg(n,s,l,h){Et=n;var g=0;do{if(Da&&(ka=null),$r=0,Da=!1,25<=g)throw Error(i(301));if(g+=1,ve=Vt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=wy,y=s(l,h)}while(Da);return y}function h2(){var n=B.H,s=n.useState()[0];return s=typeof s.then=="function"?Xr(s):s,n=n.useState()[0],(Vt!==null?Vt.memoizedState:null)!==n&&(Et.flags|=1024),s}function kh(){var n=$l!==0;return $l=0,n}function Lh(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function Ph(n){if(ql){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ql=!1}wi=0,ve=Vt=Et=null,Da=!1,$r=$l=0,ka=null}function $e(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?Et.memoizedState=ve=n:ve=ve.next=n,ve}function fe(){if(Vt===null){var n=Et.alternate;n=n!==null?n.memoizedState:null}else n=Vt.next;var s=ve===null?Et.memoizedState:ve.next;if(s!==null)ve=s,Vt=n;else{if(n===null)throw Et.alternate===null?Error(i(467)):Error(i(310));Vt=n,n={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},ve===null?Et.memoizedState=ve=n:ve=ve.next=n}return ve}function Xl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xr(n){var s=$r;return $r+=1,ka===null&&(ka=[]),n=Ng(ka,n,s),s=Et,(ve===null?s.memoizedState:ve.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?xy:$h),n}function Yl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Xr(n);if(n.$$typeof===M)return Le(n)}throw Error(i(438,String(n)))}function jh(n){var s=null,l=Et.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var h=Et.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Xl(),Et.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),h=0;h<n;h++)l[h]=Y;return s.index++,l}function Ai(n,s){return typeof s=="function"?s(n):s}function Wl(n){var s=fe();return Oh(s,Vt,n)}function Oh(n,s,l){var h=n.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=l;var g=n.baseQueue,y=h.pending;if(y!==null){if(g!==null){var A=g.next;g.next=y.next,y.next=A}s.baseQueue=g=y,h.pending=null}if(y=n.baseState,g===null)n.memoizedState=y;else{s=g.next;var _=A=null,k=null,U=s,X=!1;do{var K=U.lane&-536870913;if(K!==U.lane?(Nt&K)===K:(wi&K)===K){var G=U.revertLane;if(G===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),K===Ca&&(X=!0);else if((wi&G)===G){U=U.next,G===Ca&&(X=!0);continue}else K={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},k===null?(_=k=K,A=y):k=k.next=K,Et.lanes|=G,is|=G;K=U.action,zs&&l(y,K),y=U.hasEagerState?U.eagerState:l(y,K)}else G={lane:K,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},k===null?(_=k=G,A=y):k=k.next=G,Et.lanes|=K,is|=K;U=U.next}while(U!==null&&U!==s);if(k===null?A=y:k.next=_,!dn(y,n.memoizedState)&&(be=!0,X&&(l=_a,l!==null)))throw l;n.memoizedState=y,n.baseState=A,n.baseQueue=k,h.lastRenderedState=y}return g===null&&(h.lanes=0),[n.memoizedState,h.dispatch]}function Bh(n){var s=fe(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var h=l.dispatch,g=l.pending,y=s.memoizedState;if(g!==null){l.pending=null;var A=g=g.next;do y=n(y,A.action),A=A.next;while(A!==g);dn(y,s.memoizedState)||(be=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function Ig(n,s,l){var h=Et,g=fe(),y=kt;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=s();var A=!dn((Vt||g).memoizedState,l);if(A&&(g.memoizedState=l,be=!0),g=g.queue,Ih(Hg.bind(null,h,g,n),[n]),g.getSnapshot!==s||A||ve!==null&&ve.memoizedState.tag&1){if(h.flags|=2048,La(9,{destroy:void 0},Vg.bind(null,h,g,l,s),null),Yt===null)throw Error(i(349));y||(wi&127)!==0||Ug(h,s,l)}return l}function Ug(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=Et.updateQueue,s===null?(s=Xl(),Et.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function Vg(n,s,l,h){s.value=l,s.getSnapshot=h,Gg(s)&&qg(n)}function Hg(n,s,l){return l(function(){Gg(s)&&qg(n)})}function Gg(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!dn(n,l)}catch{return!0}}function qg(n){var s=Rs(n,2);s!==null&&sn(s,n,2)}function Fh(n){var s=$e();if(typeof n=="function"){var l=n;if(n=l(),zs){Hi(!0);try{l()}finally{Hi(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:n},s}function $g(n,s,l,h){return n.baseState=l,Oh(n,Vt,typeof h=="function"?h:Ai)}function d2(n,s,l,h,g){if(Zl(n))throw Error(i(485));if(n=s.action,n!==null){var y={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};B.T!==null?l(!0):y.isTransition=!1,h(y),l=s.pending,l===null?(y.next=s.pending=y,Xg(s,y)):(y.next=l.next,s.pending=l.next=y)}}function Xg(n,s){var l=s.action,h=s.payload,g=n.state;if(s.isTransition){var y=B.T,A={};B.T=A;try{var _=l(g,h),k=B.S;k!==null&&k(A,_),Yg(n,s,_)}catch(U){zh(n,s,U)}finally{y!==null&&A.types!==null&&(y.types=A.types),B.T=y}}else try{y=l(g,h),Yg(n,s,y)}catch(U){zh(n,s,U)}}function Yg(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Wg(n,s,h)},function(h){return zh(n,s,h)}):Wg(n,s,l)}function Wg(n,s,l){s.status="fulfilled",s.value=l,Kg(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,Xg(n,l)))}function zh(n,s,l){var h=n.pending;if(n.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=l,Kg(s),s=s.next;while(s!==h)}n.action=null}function Kg(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Qg(n,s){return s}function Zg(n,s){if(kt){var l=Yt.formState;if(l!==null){t:{var h=Et;if(kt){if(Jt){e:{for(var g=Jt,y=Nn;g.nodeType!==8;){if(!y){g=null;break e}if(g=Dn(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Jt=Dn(g.nextSibling),h=g.data==="F!";break t}}Yi(h)}h=!1}h&&(s=l[0])}}return l=$e(),l.memoizedState=l.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:s},l.queue=h,l=yy.bind(null,Et,h),h.dispatch=l,h=Fh(!1),y=qh.bind(null,Et,!1,h.queue),h=$e(),g={state:s,dispatch:null,action:n,pending:null},h.queue=g,l=d2.bind(null,Et,g,y,l),g.dispatch=l,h.memoizedState=n,[s,l,!1]}function Jg(n){var s=fe();return ty(s,Vt,n)}function ty(n,s,l){if(s=Oh(n,s,Qg)[0],n=Wl(Ai)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Xr(s)}catch(A){throw A===Ma?zl:A}else h=s;s=fe();var g=s.queue,y=g.dispatch;return l!==s.memoizedState&&(Et.flags|=2048,La(9,{destroy:void 0},f2.bind(null,g,l),null)),[h,y,n]}function f2(n,s){n.action=s}function ey(n){var s=fe(),l=Vt;if(l!==null)return ty(s,l,n);fe(),s=s.memoizedState,l=fe();var h=l.queue.dispatch;return l.memoizedState=n,[s,h,!1]}function La(n,s,l,h){return n={tag:n,create:l,deps:h,inst:s,next:null},s=Et.updateQueue,s===null&&(s=Xl(),Et.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(h=l.next,l.next=n,n.next=h,s.lastEffect=n),n}function ny(){return fe().memoizedState}function Kl(n,s,l,h){var g=$e();Et.flags|=n,g.memoizedState=La(1|s,{destroy:void 0},l,h===void 0?null:h)}function Ql(n,s,l,h){var g=fe();h=h===void 0?null:h;var y=g.memoizedState.inst;Vt!==null&&h!==null&&Rh(h,Vt.memoizedState.deps)?g.memoizedState=La(s,y,l,h):(Et.flags|=n,g.memoizedState=La(1|s,y,l,h))}function iy(n,s){Kl(8390656,8,n,s)}function Ih(n,s){Ql(2048,8,n,s)}function m2(n){Et.flags|=4;var s=Et.updateQueue;if(s===null)s=Xl(),Et.updateQueue=s,s.events=[n];else{var l=s.events;l===null?s.events=[n]:l.push(n)}}function sy(n){var s=fe().memoizedState;return m2({ref:s,nextImpl:n}),function(){if((Ft&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function ay(n,s){return Ql(4,2,n,s)}function ry(n,s){return Ql(4,4,n,s)}function oy(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function ly(n,s,l){l=l!=null?l.concat([n]):null,Ql(4,4,oy.bind(null,s,n),l)}function Uh(){}function cy(n,s){var l=fe();s=s===void 0?null:s;var h=l.memoizedState;return s!==null&&Rh(s,h[1])?h[0]:(l.memoizedState=[n,s],n)}function uy(n,s){var l=fe();s=s===void 0?null:s;var h=l.memoizedState;if(s!==null&&Rh(s,h[1]))return h[0];if(h=n(),zs){Hi(!0);try{n()}finally{Hi(!1)}}return l.memoizedState=[h,s],h}function Vh(n,s,l){return l===void 0||(wi&1073741824)!==0&&(Nt&261930)===0?n.memoizedState=s:(n.memoizedState=l,n=h0(),Et.lanes|=n,is|=n,l)}function hy(n,s,l,h){return dn(l,s)?l:Ra.current!==null?(n=Vh(n,l,h),dn(n,s)||(be=!0),n):(wi&42)===0||(wi&1073741824)!==0&&(Nt&261930)===0?(be=!0,n.memoizedState=l):(n=h0(),Et.lanes|=n,is|=n,s)}function dy(n,s,l,h,g){var y=V.p;V.p=y!==0&&8>y?y:8;var A=B.T,_={};B.T=_,qh(n,!1,s,l);try{var k=g(),U=B.S;if(U!==null&&U(_,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var X=c2(k,h);Yr(n,s,X,vn(n))}else Yr(n,s,h,vn(n))}catch(K){Yr(n,s,{then:function(){},status:"rejected",reason:K},vn())}finally{V.p=y,A!==null&&_.types!==null&&(A.types=_.types),B.T=A}}function p2(){}function Hh(n,s,l,h){if(n.tag!==5)throw Error(i(476));var g=fy(n).queue;dy(n,g,s,Q,l===null?p2:function(){return my(n),l(h)})}function fy(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:Q},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function my(n){var s=fy(n);s.next===null&&(s=n.alternate.memoizedState),Yr(n,s.next.queue,{},vn())}function Gh(){return Le(ho)}function py(){return fe().memoizedState}function gy(){return fe().memoizedState}function g2(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=vn();n=Qi(l);var h=Zi(s,n,l);h!==null&&(sn(h,s,l),Hr(h,s,l)),s={cache:bh()},n.payload=s;return}s=s.return}}function y2(n,s,l){var h=vn();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zl(n)?vy(s,l):(l=lh(n,s,l,h),l!==null&&(sn(l,n,h),by(l,s,h)))}function yy(n,s,l){var h=vn();Yr(n,s,l,h)}function Yr(n,s,l,h){var g={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Zl(n))vy(s,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var A=s.lastRenderedState,_=y(A,l);if(g.hasEagerState=!0,g.eagerState=_,dn(_,A))return kl(n,s,g,0),Yt===null&&Dl(),!1}catch{}if(l=lh(n,s,g,h),l!==null)return sn(l,n,h),by(l,s,h),!0}return!1}function qh(n,s,l,h){if(h={lane:2,revertLane:Sd(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Zl(n)){if(s)throw Error(i(479))}else s=lh(n,l,h,2),s!==null&&sn(s,n,2)}function Zl(n){var s=n.alternate;return n===Et||s!==null&&s===Et}function vy(n,s){Da=ql=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function by(n,s,l){if((l&4194048)!==0){var h=s.lanes;h&=n.pendingLanes,l|=h,s.lanes=l,Ep(n,l)}}var Wr={readContext:Le,use:Yl,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Wr.useEffectEvent=ce;var xy={readContext:Le,use:Yl,useCallback:function(n,s){return $e().memoizedState=[n,s===void 0?null:s],n},useContext:Le,useEffect:iy,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,Kl(4194308,4,oy.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Kl(4194308,4,n,s)},useInsertionEffect:function(n,s){Kl(4,2,n,s)},useMemo:function(n,s){var l=$e();s=s===void 0?null:s;var h=n();if(zs){Hi(!0);try{n()}finally{Hi(!1)}}return l.memoizedState=[h,s],h},useReducer:function(n,s,l){var h=$e();if(l!==void 0){var g=l(s);if(zs){Hi(!0);try{l(s)}finally{Hi(!1)}}}else g=s;return h.memoizedState=h.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},h.queue=n,n=n.dispatch=y2.bind(null,Et,n),[h.memoizedState,n]},useRef:function(n){var s=$e();return n={current:n},s.memoizedState=n},useState:function(n){n=Fh(n);var s=n.queue,l=yy.bind(null,Et,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:Uh,useDeferredValue:function(n,s){var l=$e();return Vh(l,n,s)},useTransition:function(){var n=Fh(!1);return n=dy.bind(null,Et,n.queue,!0,!1),$e().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var h=Et,g=$e();if(kt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),Yt===null)throw Error(i(349));(Nt&127)!==0||Ug(h,s,l)}g.memoizedState=l;var y={value:l,getSnapshot:s};return g.queue=y,iy(Hg.bind(null,h,y,n),[n]),h.flags|=2048,La(9,{destroy:void 0},Vg.bind(null,h,y,l,s),null),l},useId:function(){var n=$e(),s=Yt.identifierPrefix;if(kt){var l=Jn,h=Zn;l=(h&~(1<<32-hn(h)-1)).toString(32)+l,s="_"+s+"R_"+l,l=$l++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=u2++,s="_"+s+"r_"+l.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Gh,useFormState:Zg,useActionState:Zg,useOptimistic:function(n){var s=$e();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=qh.bind(null,Et,!0,l),l.dispatch=s,[n,s]},useMemoCache:jh,useCacheRefresh:function(){return $e().memoizedState=g2.bind(null,Et)},useEffectEvent:function(n){var s=$e(),l={impl:n};return s.memoizedState=l,function(){if((Ft&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},$h={readContext:Le,use:Yl,useCallback:cy,useContext:Le,useEffect:Ih,useImperativeHandle:ly,useInsertionEffect:ay,useLayoutEffect:ry,useMemo:uy,useReducer:Wl,useRef:ny,useState:function(){return Wl(Ai)},useDebugValue:Uh,useDeferredValue:function(n,s){var l=fe();return hy(l,Vt.memoizedState,n,s)},useTransition:function(){var n=Wl(Ai)[0],s=fe().memoizedState;return[typeof n=="boolean"?n:Xr(n),s]},useSyncExternalStore:Ig,useId:py,useHostTransitionStatus:Gh,useFormState:Jg,useActionState:Jg,useOptimistic:function(n,s){var l=fe();return $g(l,Vt,n,s)},useMemoCache:jh,useCacheRefresh:gy};$h.useEffectEvent=sy;var wy={readContext:Le,use:Yl,useCallback:cy,useContext:Le,useEffect:Ih,useImperativeHandle:ly,useInsertionEffect:ay,useLayoutEffect:ry,useMemo:uy,useReducer:Bh,useRef:ny,useState:function(){return Bh(Ai)},useDebugValue:Uh,useDeferredValue:function(n,s){var l=fe();return Vt===null?Vh(l,n,s):hy(l,Vt.memoizedState,n,s)},useTransition:function(){var n=Bh(Ai)[0],s=fe().memoizedState;return[typeof n=="boolean"?n:Xr(n),s]},useSyncExternalStore:Ig,useId:py,useHostTransitionStatus:Gh,useFormState:ey,useActionState:ey,useOptimistic:function(n,s){var l=fe();return Vt!==null?$g(l,Vt,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:jh,useCacheRefresh:gy};wy.useEffectEvent=sy;function Xh(n,s,l,h){s=n.memoizedState,l=l(h,s),l=l==null?s:p({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Yh={enqueueSetState:function(n,s,l){n=n._reactInternals;var h=vn(),g=Qi(h);g.payload=s,l!=null&&(g.callback=l),s=Zi(n,g,h),s!==null&&(sn(s,n,h),Hr(s,n,h))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var h=vn(),g=Qi(h);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Zi(n,g,h),s!==null&&(sn(s,n,h),Hr(s,n,h))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=vn(),h=Qi(l);h.tag=2,s!=null&&(h.callback=s),s=Zi(n,h,l),s!==null&&(sn(s,n,l),Hr(s,n,l))}};function Ay(n,s,l,h,g,y,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,y,A):s.prototype&&s.prototype.isPureReactComponent?!jr(l,h)||!jr(g,y):!0}function Sy(n,s,l,h){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==n&&Yh.enqueueReplaceState(s,s.state,null)}function Is(n,s){var l=s;if("ref"in s){l={};for(var h in s)h!=="ref"&&(l[h]=s[h])}if(n=n.defaultProps){l===s&&(l=p({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}function Ey(n){Rl(n)}function Ty(n){console.error(n)}function Cy(n){Rl(n)}function Jl(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function _y(n,s,l){try{var h=n.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Wh(n,s,l){return l=Qi(l),l.tag=3,l.payload={element:null},l.callback=function(){Jl(n,s)},l}function My(n){return n=Qi(n),n.tag=3,n}function Ny(n,s,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;n.payload=function(){return g(y)},n.callback=function(){_y(s,l,h)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){_y(s,l,h),typeof g!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var _=h.stack;this.componentDidCatch(h.value,{componentStack:_!==null?_:""})})}function v2(n,s,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=l.alternate,s!==null&&Ta(s,l,g,!0),l=mn.current,l!==null){switch(l.tag){case 31:case 13:return Rn===null?hc():l.alternate===null&&ue===0&&(ue=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===Il?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([h]):s.add(h),xd(n,h,g)),!1;case 22:return l.flags|=65536,h===Il?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([h]):l.add(h)),xd(n,h,g)),!1}throw Error(i(435,l.tag))}return xd(n,h,g),hc(),!1}if(kt)return s=mn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,h!==mh&&(n=Error(i(422),{cause:h}),Fr(Cn(n,l)))):(h!==mh&&(s=Error(i(423),{cause:h}),Fr(Cn(s,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,h=Cn(h,l),g=Wh(n.stateNode,h,g),Th(n,g),ue!==4&&(ue=2)),!1;var y=Error(i(520),{cause:h});if(y=Cn(y,l),io===null?io=[y]:io.push(y),ue!==4&&(ue=2),s===null)return!0;h=Cn(h,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=Wh(l.stateNode,h,n),Th(l,n),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ss===null||!ss.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=My(g),Ny(g,n,l,h),Th(l,g),!1}l=l.return}while(l!==null);return!1}var Kh=Error(i(461)),be=!1;function Pe(n,s,l,h){s.child=n===null?Lg(s,null,l,h):Fs(s,n.child,l,h)}function Ry(n,s,l,h,g){l=l.render;var y=s.ref;if("ref"in h){var A={};for(var _ in h)_!=="ref"&&(A[_]=h[_])}else A=h;return Ps(s),h=Dh(n,s,l,A,y,g),_=kh(),n!==null&&!be?(Lh(n,s,g),Si(n,s,g)):(kt&&_&&dh(s),s.flags|=1,Pe(n,s,h,g),s.child)}function Dy(n,s,l,h,g){if(n===null){var y=l.type;return typeof y=="function"&&!ch(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,ky(n,s,y,h,g)):(n=Pl(l.type,null,h,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,!sd(n,g)){var A=y.memoizedProps;if(l=l.compare,l=l!==null?l:jr,l(A,h)&&n.ref===s.ref)return Si(n,s,g)}return s.flags|=1,n=yi(y,h),n.ref=s.ref,n.return=s,s.child=n}function ky(n,s,l,h,g){if(n!==null){var y=n.memoizedProps;if(jr(y,h)&&n.ref===s.ref)if(be=!1,s.pendingProps=h=y,sd(n,g))(n.flags&131072)!==0&&(be=!0);else return s.lanes=n.lanes,Si(n,s,g)}return Qh(n,s,l,h,g)}function Ly(n,s,l,h){var g=h.children,y=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,n!==null){for(h=s.child=n.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~y}else h=0,s.child=null;return Py(n,s,y,l,h)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Fl(s,y!==null?y.cachePool:null),y!==null?Og(s,y):_h(),Bg(s);else return h=s.lanes=536870912,Py(n,s,y!==null?y.baseLanes|l:l,l,h)}else y!==null?(Fl(s,y.cachePool),Og(s,y),ts(),s.memoizedState=null):(n!==null&&Fl(s,null),_h(),ts());return Pe(n,s,g,l),s.child}function Kr(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Py(n,s,l,h,g){var y=wh();return y=y===null?null:{parent:ye._currentValue,pool:y},s.memoizedState={baseLanes:l,cachePool:y},n!==null&&Fl(s,null),_h(),Bg(s),n!==null&&Ta(n,s,h,!0),s.childLanes=g,null}function tc(n,s){return s=nc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function jy(n,s,l){return Fs(s,n.child,null,l),n=tc(s,s.pendingProps),n.flags|=2,pn(s),s.memoizedState=null,n}function b2(n,s,l){var h=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(kt){if(h.mode==="hidden")return n=tc(s,h),s.lanes=536870912,Kr(null,n);if(Nh(s),(n=Jt)?(n=X0(n,Nn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:$i!==null?{id:Zn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},l=vg(n),l.return=s,s.child=l,ke=s,Jt=null)):n=null,n===null)throw Yi(s);return s.lanes=536870912,null}return tc(s,h)}var y=n.memoizedState;if(y!==null){var A=y.dehydrated;if(Nh(s),g)if(s.flags&256)s.flags&=-257,s=jy(n,s,l);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(be||Ta(n,s,l,!1),g=(l&n.childLanes)!==0,be||g){if(h=Yt,h!==null&&(A=Tp(h,l),A!==0&&A!==y.retryLane))throw y.retryLane=A,Rs(n,A),sn(h,n,A),Kh;hc(),s=jy(n,s,l)}else n=y.treeContext,Jt=Dn(A.nextSibling),ke=s,kt=!0,Xi=null,Nn=!1,n!==null&&wg(s,n),s=tc(s,h),s.flags|=4096;return s}return n=yi(n.child,{mode:h.mode,children:h.children}),n.ref=s.ref,s.child=n,n.return=s,n}function ec(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function Qh(n,s,l,h,g){return Ps(s),l=Dh(n,s,l,h,void 0,g),h=kh(),n!==null&&!be?(Lh(n,s,g),Si(n,s,g)):(kt&&h&&dh(s),s.flags|=1,Pe(n,s,l,g),s.child)}function Oy(n,s,l,h,g,y){return Ps(s),s.updateQueue=null,l=zg(s,h,l,g),Fg(n),h=kh(),n!==null&&!be?(Lh(n,s,y),Si(n,s,y)):(kt&&h&&dh(s),s.flags|=1,Pe(n,s,l,y),s.child)}function By(n,s,l,h,g){if(Ps(s),s.stateNode===null){var y=wa,A=l.contextType;typeof A=="object"&&A!==null&&(y=Le(A)),y=new l(h,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Yh,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=h,y.state=s.memoizedState,y.refs={},Sh(s),A=l.contextType,y.context=typeof A=="object"&&A!==null?Le(A):wa,y.state=s.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Xh(s,l,A,h),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&Yh.enqueueReplaceState(y,y.state,null),qr(s,h,y,g),Gr(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(n===null){y=s.stateNode;var _=s.memoizedProps,k=Is(l,_);y.props=k;var U=y.context,X=l.contextType;A=wa,typeof X=="object"&&X!==null&&(A=Le(X));var K=l.getDerivedStateFromProps;X=typeof K=="function"||typeof y.getSnapshotBeforeUpdate=="function",_=s.pendingProps!==_,X||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_||U!==A)&&Sy(s,y,h,A),Ki=!1;var G=s.memoizedState;y.state=G,qr(s,h,y,g),Gr(),U=s.memoizedState,_||G!==U||Ki?(typeof K=="function"&&(Xh(s,l,K,h),U=s.memoizedState),(k=Ki||Ay(s,l,k,h,G,U,A))?(X||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=U),y.props=h,y.state=U,y.context=A,h=k):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{y=s.stateNode,Eh(n,s),A=s.memoizedProps,X=Is(l,A),y.props=X,K=s.pendingProps,G=y.context,U=l.contextType,k=wa,typeof U=="object"&&U!==null&&(k=Le(U)),_=l.getDerivedStateFromProps,(U=typeof _=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==K||G!==k)&&Sy(s,y,h,k),Ki=!1,G=s.memoizedState,y.state=G,qr(s,h,y,g),Gr();var q=s.memoizedState;A!==K||G!==q||Ki||n!==null&&n.dependencies!==null&&Ol(n.dependencies)?(typeof _=="function"&&(Xh(s,l,_,h),q=s.memoizedState),(X=Ki||Ay(s,l,X,h,G,q,k)||n!==null&&n.dependencies!==null&&Ol(n.dependencies))?(U||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,q,k),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,q,k)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===n.memoizedProps&&G===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&G===n.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=q),y.props=h,y.state=q,y.context=k,h=X):(typeof y.componentDidUpdate!="function"||A===n.memoizedProps&&G===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&G===n.memoizedState||(s.flags|=1024),h=!1)}return y=h,ec(n,s),h=(s.flags&128)!==0,y||h?(y=s.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,n!==null&&h?(s.child=Fs(s,n.child,null,g),s.child=Fs(s,null,l,g)):Pe(n,s,l,g),s.memoizedState=y.state,n=s.child):n=Si(n,s,g),n}function Fy(n,s,l,h){return ks(),s.flags|=256,Pe(n,s,l,h),s.child}var Zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jh(n){return{baseLanes:n,cachePool:_g()}}function td(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=yn),n}function zy(n,s,l){var h=s.pendingProps,g=!1,y=(s.flags&128)!==0,A;if((A=y)||(A=n!==null&&n.memoizedState===null?!1:(de.current&2)!==0),A&&(g=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,n===null){if(kt){if(g?Ji(s):ts(),(n=Jt)?(n=X0(n,Nn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:$i!==null?{id:Zn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},l=vg(n),l.return=s,s.child=l,ke=s,Jt=null)):n=null,n===null)throw Yi(s);return Od(n)?s.lanes=32:s.lanes=536870912,null}var _=h.children;return h=h.fallback,g?(ts(),g=s.mode,_=nc({mode:"hidden",children:_},g),h=Ds(h,g,l,null),_.return=s,h.return=s,_.sibling=h,s.child=_,h=s.child,h.memoizedState=Jh(l),h.childLanes=td(n,A,l),s.memoizedState=Zh,Kr(null,h)):(Ji(s),ed(s,_))}var k=n.memoizedState;if(k!==null&&(_=k.dehydrated,_!==null)){if(y)s.flags&256?(Ji(s),s.flags&=-257,s=nd(n,s,l)):s.memoizedState!==null?(ts(),s.child=n.child,s.flags|=128,s=null):(ts(),_=h.fallback,g=s.mode,h=nc({mode:"visible",children:h.children},g),_=Ds(_,g,l,null),_.flags|=2,h.return=s,_.return=s,h.sibling=_,s.child=h,Fs(s,n.child,null,l),h=s.child,h.memoizedState=Jh(l),h.childLanes=td(n,A,l),s.memoizedState=Zh,s=Kr(null,h));else if(Ji(s),Od(_)){if(A=_.nextSibling&&_.nextSibling.dataset,A)var U=A.dgst;A=U,h=Error(i(419)),h.stack="",h.digest=A,Fr({value:h,source:null,stack:null}),s=nd(n,s,l)}else if(be||Ta(n,s,l,!1),A=(l&n.childLanes)!==0,be||A){if(A=Yt,A!==null&&(h=Tp(A,l),h!==0&&h!==k.retryLane))throw k.retryLane=h,Rs(n,h),sn(A,n,h),Kh;jd(_)||hc(),s=nd(n,s,l)}else jd(_)?(s.flags|=192,s.child=n.child,s=null):(n=k.treeContext,Jt=Dn(_.nextSibling),ke=s,kt=!0,Xi=null,Nn=!1,n!==null&&wg(s,n),s=ed(s,h.children),s.flags|=4096);return s}return g?(ts(),_=h.fallback,g=s.mode,k=n.child,U=k.sibling,h=yi(k,{mode:"hidden",children:h.children}),h.subtreeFlags=k.subtreeFlags&65011712,U!==null?_=yi(U,_):(_=Ds(_,g,l,null),_.flags|=2),_.return=s,h.return=s,h.sibling=_,s.child=h,Kr(null,h),h=s.child,_=n.child.memoizedState,_===null?_=Jh(l):(g=_.cachePool,g!==null?(k=ye._currentValue,g=g.parent!==k?{parent:k,pool:k}:g):g=_g(),_={baseLanes:_.baseLanes|l,cachePool:g}),h.memoizedState=_,h.childLanes=td(n,A,l),s.memoizedState=Zh,Kr(n.child,h)):(Ji(s),l=n.child,n=l.sibling,l=yi(l,{mode:"visible",children:h.children}),l.return=s,l.sibling=null,n!==null&&(A=s.deletions,A===null?(s.deletions=[n],s.flags|=16):A.push(n)),s.child=l,s.memoizedState=null,l)}function ed(n,s){return s=nc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function nc(n,s){return n=fn(22,n,null,s),n.lanes=0,n}function nd(n,s,l){return Fs(s,n.child,null,l),n=ed(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Iy(n,s,l){n.lanes|=s;var h=n.alternate;h!==null&&(h.lanes|=s),yh(n.return,s,l)}function id(n,s,l,h,g,y){var A=n.memoizedState;A===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g,treeForkCount:y}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=l,A.tailMode=g,A.treeForkCount=y)}function Uy(n,s,l){var h=s.pendingProps,g=h.revealOrder,y=h.tail;h=h.children;var A=de.current,_=(A&2)!==0;if(_?(A=A&1|2,s.flags|=128):A&=1,Z(de,A),Pe(n,s,h,l),h=kt?Br:0,!_&&n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Iy(n,l,s);else if(n.tag===19)Iy(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)n=l.alternate,n!==null&&Gl(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),id(s,!1,g,l,y,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&Gl(n)===null){s.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}id(s,!0,l,null,y,h);break;case"together":id(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function Si(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),is|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(Ta(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,l=yi(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=yi(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function sd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Ol(n)))}function x2(n,s,l){switch(s.tag){case 3:$t(s,s.stateNode.containerInfo),Wi(s,ye,n.memoizedState.cache),ks();break;case 27:case 5:Ge(s);break;case 4:$t(s,s.stateNode.containerInfo);break;case 10:Wi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Nh(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Ji(s),s.flags|=128,null):(l&s.child.childLanes)!==0?zy(n,s,l):(Ji(s),n=Si(n,s,l),n!==null?n.sibling:null);Ji(s);break;case 19:var g=(n.flags&128)!==0;if(h=(l&s.childLanes)!==0,h||(Ta(n,s,l,!1),h=(l&s.childLanes)!==0),g){if(h)return Uy(n,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Z(de,de.current),h)break;return null;case 22:return s.lanes=0,Ly(n,s,l,s.pendingProps);case 24:Wi(s,ye,n.memoizedState.cache)}return Si(n,s,l)}function Vy(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)be=!0;else{if(!sd(n,l)&&(s.flags&128)===0)return be=!1,x2(n,s,l);be=(n.flags&131072)!==0}else be=!1,kt&&(s.flags&1048576)!==0&&xg(s,Br,s.index);switch(s.lanes=0,s.tag){case 16:t:{var h=s.pendingProps;if(n=Os(s.elementType),s.type=n,typeof n=="function")ch(n)?(h=Is(n,h),s.tag=1,s=By(null,s,n,h,l)):(s.tag=0,s=Qh(null,s,n,h,l));else{if(n!=null){var g=n.$$typeof;if(g===R){s.tag=11,s=Ry(null,s,n,h,l);break t}else if(g===j){s.tag=14,s=Dy(null,s,n,h,l);break t}}throw s=rt(n)||n,Error(i(306,s,""))}}return s;case 0:return Qh(n,s,s.type,s.pendingProps,l);case 1:return h=s.type,g=Is(h,s.pendingProps),By(n,s,h,g,l);case 3:t:{if($t(s,s.stateNode.containerInfo),n===null)throw Error(i(387));h=s.pendingProps;var y=s.memoizedState;g=y.element,Eh(n,s),qr(s,h,null,l);var A=s.memoizedState;if(h=A.cache,Wi(s,ye,h),h!==y.cache&&vh(s,[ye],l,!0),Gr(),h=A.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Fy(n,s,h,l);break t}else if(h!==g){g=Cn(Error(i(424)),s),Fr(g),s=Fy(n,s,h,l);break t}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Jt=Dn(n.firstChild),ke=s,kt=!0,Xi=null,Nn=!0,l=Lg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ks(),h===g){s=Si(n,s,l);break t}Pe(n,s,h,l)}s=s.child}return s;case 26:return ec(n,s),n===null?(l=J0(s.type,null,s.pendingProps,null))?s.memoizedState=l:kt||(l=s.type,n=s.pendingProps,h=vc(gt.current).createElement(l),h[De]=s,h[Qe]=n,je(h,l,n),Ce(h),s.stateNode=h):s.memoizedState=J0(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ge(s),n===null&&kt&&(h=s.stateNode=K0(s.type,s.pendingProps,gt.current),ke=s,Nn=!0,g=Jt,ls(s.type)?(Bd=g,Jt=Dn(h.firstChild)):Jt=g),Pe(n,s,s.pendingProps.children,l),ec(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&kt&&((g=h=Jt)&&(h=K2(h,s.type,s.pendingProps,Nn),h!==null?(s.stateNode=h,ke=s,Jt=Dn(h.firstChild),Nn=!1,g=!0):g=!1),g||Yi(s)),Ge(s),g=s.type,y=s.pendingProps,A=n!==null?n.memoizedProps:null,h=y.children,kd(g,y)?h=null:A!==null&&kd(g,A)&&(s.flags|=32),s.memoizedState!==null&&(g=Dh(n,s,h2,null,null,l),ho._currentValue=g),ec(n,s),Pe(n,s,h,l),s.child;case 6:return n===null&&kt&&((n=l=Jt)&&(l=Q2(l,s.pendingProps,Nn),l!==null?(s.stateNode=l,ke=s,Jt=null,n=!0):n=!1),n||Yi(s)),null;case 13:return zy(n,s,l);case 4:return $t(s,s.stateNode.containerInfo),h=s.pendingProps,n===null?s.child=Fs(s,null,h,l):Pe(n,s,h,l),s.child;case 11:return Ry(n,s,s.type,s.pendingProps,l);case 7:return Pe(n,s,s.pendingProps,l),s.child;case 8:return Pe(n,s,s.pendingProps.children,l),s.child;case 12:return Pe(n,s,s.pendingProps.children,l),s.child;case 10:return h=s.pendingProps,Wi(s,s.type,h.value),Pe(n,s,h.children,l),s.child;case 9:return g=s.type._context,h=s.pendingProps.children,Ps(s),g=Le(g),h=h(g),s.flags|=1,Pe(n,s,h,l),s.child;case 14:return Dy(n,s,s.type,s.pendingProps,l);case 15:return ky(n,s,s.type,s.pendingProps,l);case 19:return Uy(n,s,l);case 31:return b2(n,s,l);case 22:return Ly(n,s,l,s.pendingProps);case 24:return Ps(s),h=Le(ye),n===null?(g=wh(),g===null&&(g=Yt,y=bh(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),s.memoizedState={parent:h,cache:g},Sh(s),Wi(s,ye,g)):((n.lanes&l)!==0&&(Eh(n,s),qr(s,null,null,l),Gr()),g=n.memoizedState,y=s.memoizedState,g.parent!==h?(g={parent:h,cache:h},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Wi(s,ye,h)):(h=y.cache,Wi(s,ye,h),h!==g.cache&&vh(s,[ye],l,!0))),Pe(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ei(n){n.flags|=4}function ad(n,s,l,h,g){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(p0())n.flags|=8192;else throw Bs=Il,Ah}else n.flags&=-16777217}function Hy(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!sv(s))if(p0())n.flags|=8192;else throw Bs=Il,Ah}function ic(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Ap():536870912,n.lanes|=s,Ba|=s)}function Qr(n,s){if(!kt)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function te(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,h=0;if(s)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=h,n.childLanes=l,s}function w2(n,s,l){var h=s.pendingProps;switch(fh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(s),null;case 1:return te(s),null;case 3:return l=s.stateNode,h=null,n!==null&&(h=n.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),xi(ye),jt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Ea(s)?Ei(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ph())),te(s),null;case 26:var g=s.type,y=s.memoizedState;return n===null?(Ei(s),y!==null?(te(s),Hy(s,y)):(te(s),ad(s,g,null,h,l))):y?y!==n.memoizedState?(Ei(s),te(s),Hy(s,y)):(te(s),s.flags&=-16777217):(n=n.memoizedProps,n!==h&&Ei(s),te(s),ad(s,g,n,h,l)),null;case 27:if(zt(s),l=gt.current,g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==h&&Ei(s);else{if(!h){if(s.stateNode===null)throw Error(i(166));return te(s),null}n=et.current,Ea(s)?Ag(s):(n=K0(g,h,l),s.stateNode=n,Ei(s))}return te(s),null;case 5:if(zt(s),g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==h&&Ei(s);else{if(!h){if(s.stateNode===null)throw Error(i(166));return te(s),null}if(y=et.current,Ea(s))Ag(s);else{var A=vc(gt.current);switch(y){case 1:y=A.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=A.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=A.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?A.createElement(g,{is:h.is}):A.createElement(g)}}y[De]=s,y[Qe]=h;t:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)y.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break t;for(;A.sibling===null;){if(A.return===null||A.return===s)break t;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=y;t:switch(je(y,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Ei(s)}}return te(s),ad(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,l),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==h&&Ei(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(i(166));if(n=gt.current,Ea(s)){if(n=s.stateNode,l=s.memoizedProps,h=null,g=ke,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}n[De]=s,n=!!(n.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||z0(n.nodeValue,l)),n||Yi(s,!0)}else n=vc(n).createTextNode(h),n[De]=s,s.stateNode=n}return te(s),null;case 31:if(l=s.memoizedState,n===null||n.memoizedState!==null){if(h=Ea(s),l!==null){if(n===null){if(!h)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[De]=s}else ks(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;te(s),n=!1}else l=ph(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return s.flags&256?(pn(s),s):(pn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return te(s),null;case 13:if(h=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Ea(s),h!==null&&h.dehydrated!==null){if(n===null){if(!g)throw Error(i(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[De]=s}else ks(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;te(s),g=!1}else g=ph(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(pn(s),s):(pn(s),null)}return pn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=h!==null,n=n!==null&&n.memoizedState!==null,l&&(h=s.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)),l!==n&&l&&(s.child.flags|=8192),ic(s,s.updateQueue),te(s),null);case 4:return jt(),n===null&&_d(s.stateNode.containerInfo),te(s),null;case 10:return xi(s.type),te(s),null;case 19:if($(de),h=s.memoizedState,h===null)return te(s),null;if(g=(s.flags&128)!==0,y=h.rendering,y===null)if(g)Qr(h,!1);else{if(ue!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=Gl(n),y!==null){for(s.flags|=128,Qr(h,!1),n=y.updateQueue,s.updateQueue=n,ic(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)yg(l,n),l=l.sibling;return Z(de,de.current&1|2),kt&&vi(s,h.treeForkCount),s.child}n=n.sibling}h.tail!==null&&qe()>lc&&(s.flags|=128,g=!0,Qr(h,!1),s.lanes=4194304)}else{if(!g)if(n=Gl(y),n!==null){if(s.flags|=128,g=!0,n=n.updateQueue,s.updateQueue=n,ic(s,n),Qr(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!kt)return te(s),null}else 2*qe()-h.renderingStartTime>lc&&l!==536870912&&(s.flags|=128,g=!0,Qr(h,!1),s.lanes=4194304);h.isBackwards?(y.sibling=s.child,s.child=y):(n=h.last,n!==null?n.sibling=y:s.child=y,h.last=y)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=qe(),n.sibling=null,l=de.current,Z(de,g?l&1|2:l&1),kt&&vi(s,h.treeForkCount),n):(te(s),null);case 22:case 23:return pn(s),Mh(),h=s.memoizedState!==null,n!==null?n.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(l&536870912)!==0&&(s.flags&128)===0&&(te(s),s.subtreeFlags&6&&(s.flags|=8192)):te(s),l=s.updateQueue,l!==null&&ic(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==l&&(s.flags|=2048),n!==null&&$(js),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),xi(ye),te(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function A2(n,s){switch(fh(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return xi(ye),jt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return zt(s),null;case 31:if(s.memoizedState!==null){if(pn(s),s.alternate===null)throw Error(i(340));ks()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(pn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ks()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return $(de),null;case 4:return jt(),null;case 10:return xi(s.type),null;case 22:case 23:return pn(s),Mh(),n!==null&&$(js),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return xi(ye),null;case 25:return null;default:return null}}function Gy(n,s){switch(fh(s),s.tag){case 3:xi(ye),jt();break;case 26:case 27:case 5:zt(s);break;case 4:jt();break;case 31:s.memoizedState!==null&&pn(s);break;case 13:pn(s);break;case 19:$(de);break;case 10:xi(s.type);break;case 22:case 23:pn(s),Mh(),n!==null&&$(js);break;case 24:xi(ye)}}function Zr(n,s){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&n)===n){h=void 0;var y=l.create,A=l.inst;h=y(),A.destroy=h}l=l.next}while(l!==g)}}catch(_){Ut(s,s.return,_)}}function es(n,s,l){try{var h=s.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&n)===n){var A=h.inst,_=A.destroy;if(_!==void 0){A.destroy=void 0,g=s;var k=l,U=_;try{U()}catch(X){Ut(g,k,X)}}}h=h.next}while(h!==y)}}catch(X){Ut(s,s.return,X)}}function qy(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{jg(s,l)}catch(h){Ut(n,n.return,h)}}}function $y(n,s,l){l.props=Is(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(h){Ut(n,s,h)}}function Jr(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var h=n.stateNode;break;case 30:h=n.stateNode;break;default:h=n.stateNode}typeof l=="function"?n.refCleanup=l(h):l.current=h}}catch(g){Ut(n,s,g)}}function ti(n,s){var l=n.ref,h=n.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Ut(n,s,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Ut(n,s,g)}else l.current=null}function Xy(n){var s=n.type,l=n.memoizedProps,h=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Ut(n,n.return,g)}}function rd(n,s,l){try{var h=n.stateNode;G2(h,n.type,l,s),h[Qe]=s}catch(g){Ut(n,n.return,g)}}function Yy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ls(n.type)||n.tag===4}function od(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Yy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ls(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ld(n,s,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=pi));else if(h!==4&&(h===27&&ls(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(ld(n,s,l),n=n.sibling;n!==null;)ld(n,s,l),n=n.sibling}function sc(n,s,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(h!==4&&(h===27&&ls(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(sc(n,s,l),n=n.sibling;n!==null;)sc(n,s,l),n=n.sibling}function Wy(n){var s=n.stateNode,l=n.memoizedProps;try{for(var h=n.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);je(s,h,l),s[De]=n,s[Qe]=l}catch(y){Ut(n,n.return,y)}}var Ti=!1,xe=!1,cd=!1,Ky=typeof WeakSet=="function"?WeakSet:Set,_e=null;function S2(n,s){if(n=n.containerInfo,Rd=Tc,n=lg(n),nh(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else t:{l=(l=n.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break t}var A=0,_=-1,k=-1,U=0,X=0,K=n,G=null;e:for(;;){for(var q;K!==l||g!==0&&K.nodeType!==3||(_=A+g),K!==y||h!==0&&K.nodeType!==3||(k=A+h),K.nodeType===3&&(A+=K.nodeValue.length),(q=K.firstChild)!==null;)G=K,K=q;for(;;){if(K===n)break e;if(G===l&&++U===g&&(_=A),G===y&&++X===h&&(k=A),(q=K.nextSibling)!==null)break;K=G,G=K.parentNode}K=q}l=_===-1||k===-1?null:{start:_,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(Dd={focusedElem:n,selectionRange:l},Tc=!1,_e=s;_e!==null;)if(s=_e,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,_e=n;else for(;_e!==null;){switch(s=_e,y=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)g=n[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,l=s,g=y.memoizedProps,y=y.memoizedState,h=l.stateNode;try{var st=Is(l.type,g);n=h.getSnapshotBeforeUpdate(st,y),h.__reactInternalSnapshotBeforeUpdate=n}catch(yt){Ut(l,l.return,yt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)Pd(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Pd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,_e=n;break}_e=s.return}}function Qy(n,s,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:_i(n,l),h&4&&Zr(5,l);break;case 1:if(_i(n,l),h&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(A){Ut(l,l.return,A)}else{var g=Is(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(g,s,n.__reactInternalSnapshotBeforeUpdate)}catch(A){Ut(l,l.return,A)}}h&64&&qy(l),h&512&&Jr(l,l.return);break;case 3:if(_i(n,l),h&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{jg(n,s)}catch(A){Ut(l,l.return,A)}}break;case 27:s===null&&h&4&&Wy(l);case 26:case 5:_i(n,l),s===null&&h&4&&Xy(l),h&512&&Jr(l,l.return);break;case 12:_i(n,l);break;case 31:_i(n,l),h&4&&t0(n,l);break;case 13:_i(n,l),h&4&&e0(n,l),h&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=k2.bind(null,l),Z2(n,l))));break;case 22:if(h=l.memoizedState!==null||Ti,!h){s=s!==null&&s.memoizedState!==null||xe,g=Ti;var y=xe;Ti=h,(xe=s)&&!y?Mi(n,l,(l.subtreeFlags&8772)!==0):_i(n,l),Ti=g,xe=y}break;case 30:break;default:_i(n,l)}}function Zy(n){var s=n.alternate;s!==null&&(n.alternate=null,Zy(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&zu(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ee=null,Je=!1;function Ci(n,s,l){for(l=l.child;l!==null;)Jy(n,s,l),l=l.sibling}function Jy(n,s,l){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Sr,l)}catch{}switch(l.tag){case 26:xe||ti(l,s),Ci(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:xe||ti(l,s);var h=ee,g=Je;ls(l.type)&&(ee=l.stateNode,Je=!1),Ci(n,s,l),lo(l.stateNode),ee=h,Je=g;break;case 5:xe||ti(l,s);case 6:if(h=ee,g=Je,ee=null,Ci(n,s,l),ee=h,Je=g,ee!==null)if(Je)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(l.stateNode)}catch(y){Ut(l,s,y)}else try{ee.removeChild(l.stateNode)}catch(y){Ut(l,s,y)}break;case 18:ee!==null&&(Je?(n=ee,q0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),qa(n)):q0(ee,l.stateNode));break;case 4:h=ee,g=Je,ee=l.stateNode.containerInfo,Je=!0,Ci(n,s,l),ee=h,Je=g;break;case 0:case 11:case 14:case 15:es(2,l,s),xe||es(4,l,s),Ci(n,s,l);break;case 1:xe||(ti(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"&&$y(l,s,h)),Ci(n,s,l);break;case 21:Ci(n,s,l);break;case 22:xe=(h=xe)||l.memoizedState!==null,Ci(n,s,l),xe=h;break;default:Ci(n,s,l)}}function t0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{qa(n)}catch(l){Ut(s,s.return,l)}}}function e0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{qa(n)}catch(l){Ut(s,s.return,l)}}function E2(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Ky),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Ky),s;default:throw Error(i(435,n.tag))}}function ac(n,s){var l=E2(n);s.forEach(function(h){if(!l.has(h)){l.add(h);var g=L2.bind(null,n,h);h.then(g,g)}})}function tn(n,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],y=n,A=s,_=A;t:for(;_!==null;){switch(_.tag){case 27:if(ls(_.type)){ee=_.stateNode,Je=!1;break t}break;case 5:ee=_.stateNode,Je=!1;break t;case 3:case 4:ee=_.stateNode.containerInfo,Je=!0;break t}_=_.return}if(ee===null)throw Error(i(160));Jy(y,A,g),ee=null,Je=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)n0(s,n),s=s.sibling}var qn=null;function n0(n,s){var l=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:tn(s,n),en(n),h&4&&(es(3,n,n.return),Zr(3,n),es(5,n,n.return));break;case 1:tn(s,n),en(n),h&512&&(xe||l===null||ti(l,l.return)),h&64&&Ti&&(n=n.updateQueue,n!==null&&(h=n.callbacks,h!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=qn;if(tn(s,n),en(n),h&512&&(xe||l===null||ti(l,l.return)),h&4){var y=l!==null?l.memoizedState:null;if(h=n.memoizedState,l===null)if(h===null)if(n.stateNode===null){t:{h=n.type,l=n.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Cr]||y[De]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),je(y,h,l),y[De]=n,Ce(y),h=y;break t;case"link":var A=nv("link","href",g).get(h+(l.href||""));if(A){for(var _=0;_<A.length;_++)if(y=A[_],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(_,1);break e}}y=g.createElement(h),je(y,h,l),g.head.appendChild(y);break;case"meta":if(A=nv("meta","content",g).get(h+(l.content||""))){for(_=0;_<A.length;_++)if(y=A[_],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(_,1);break e}}y=g.createElement(h),je(y,h,l),g.head.appendChild(y);break;default:throw Error(i(468,h))}y[De]=n,Ce(y),h=y}n.stateNode=h}else iv(g,n.type,n.stateNode);else n.stateNode=ev(g,h,n.memoizedProps);else y!==h?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,h===null?iv(g,n.type,n.stateNode):ev(g,h,n.memoizedProps)):h===null&&n.stateNode!==null&&rd(n,n.memoizedProps,l.memoizedProps)}break;case 27:tn(s,n),en(n),h&512&&(xe||l===null||ti(l,l.return)),l!==null&&h&4&&rd(n,n.memoizedProps,l.memoizedProps);break;case 5:if(tn(s,n),en(n),h&512&&(xe||l===null||ti(l,l.return)),n.flags&32){g=n.stateNode;try{ma(g,"")}catch(st){Ut(n,n.return,st)}}h&4&&n.stateNode!=null&&(g=n.memoizedProps,rd(n,g,l!==null?l.memoizedProps:g)),h&1024&&(cd=!0);break;case 6:if(tn(s,n),en(n),h&4){if(n.stateNode===null)throw Error(i(162));h=n.memoizedProps,l=n.stateNode;try{l.nodeValue=h}catch(st){Ut(n,n.return,st)}}break;case 3:if(wc=null,g=qn,qn=bc(s.containerInfo),tn(s,n),qn=g,en(n),h&4&&l!==null&&l.memoizedState.isDehydrated)try{qa(s.containerInfo)}catch(st){Ut(n,n.return,st)}cd&&(cd=!1,i0(n));break;case 4:h=qn,qn=bc(n.stateNode.containerInfo),tn(s,n),en(n),qn=h;break;case 12:tn(s,n),en(n);break;case 31:tn(s,n),en(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,ac(n,h)));break;case 13:tn(s,n),en(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(oc=qe()),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,ac(n,h)));break;case 22:g=n.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,U=Ti,X=xe;if(Ti=U||g,xe=X||k,tn(s,n),xe=X,Ti=U,en(n),h&8192)t:for(s=n.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||k||Ti||xe||Us(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){k=l=s;try{if(y=k.stateNode,g)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{_=k.stateNode;var K=k.memoizedProps.style,G=K!=null&&K.hasOwnProperty("display")?K.display:null;_.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(st){Ut(k,k.return,st)}}}else if(s.tag===6){if(l===null){k=s;try{k.stateNode.nodeValue=g?"":k.memoizedProps}catch(st){Ut(k,k.return,st)}}}else if(s.tag===18){if(l===null){k=s;try{var q=k.stateNode;g?$0(q,!0):$0(k.stateNode,!1)}catch(st){Ut(k,k.return,st)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=n.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,ac(n,l))));break;case 19:tn(s,n),en(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,ac(n,h)));break;case 30:break;case 21:break;default:tn(s,n),en(n)}}function en(n){var s=n.flags;if(s&2){try{for(var l,h=n.return;h!==null;){if(Yy(h)){l=h;break}h=h.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,y=od(n);sc(n,y,g);break;case 5:var A=l.stateNode;l.flags&32&&(ma(A,""),l.flags&=-33);var _=od(n);sc(n,_,A);break;case 3:case 4:var k=l.stateNode.containerInfo,U=od(n);ld(n,U,k);break;default:throw Error(i(161))}}catch(X){Ut(n,n.return,X)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function i0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;i0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function _i(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Qy(n,s.alternate,s),s=s.sibling}function Us(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:es(4,s,s.return),Us(s);break;case 1:ti(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&$y(s,s.return,l),Us(s);break;case 27:lo(s.stateNode);case 26:case 5:ti(s,s.return),Us(s);break;case 22:s.memoizedState===null&&Us(s);break;case 30:Us(s);break;default:Us(s)}n=n.sibling}}function Mi(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,g=n,y=s,A=y.flags;switch(y.tag){case 0:case 11:case 15:Mi(g,y,l),Zr(4,y);break;case 1:if(Mi(g,y,l),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(U){Ut(h,h.return,U)}if(h=y,g=h.updateQueue,g!==null){var _=h.stateNode;try{var k=g.shared.hiddenCallbacks;if(k!==null)for(g.shared.hiddenCallbacks=null,g=0;g<k.length;g++)Pg(k[g],_)}catch(U){Ut(h,h.return,U)}}l&&A&64&&qy(y),Jr(y,y.return);break;case 27:Wy(y);case 26:case 5:Mi(g,y,l),l&&h===null&&A&4&&Xy(y),Jr(y,y.return);break;case 12:Mi(g,y,l);break;case 31:Mi(g,y,l),l&&A&4&&t0(g,y);break;case 13:Mi(g,y,l),l&&A&4&&e0(g,y);break;case 22:y.memoizedState===null&&Mi(g,y,l),Jr(y,y.return);break;case 30:break;default:Mi(g,y,l)}s=s.sibling}}function ud(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&zr(l))}function hd(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&zr(n))}function $n(n,s,l,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)s0(n,s,l,h),s=s.sibling}function s0(n,s,l,h){var g=s.flags;switch(s.tag){case 0:case 11:case 15:$n(n,s,l,h),g&2048&&Zr(9,s);break;case 1:$n(n,s,l,h);break;case 3:$n(n,s,l,h),g&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&zr(n)));break;case 12:if(g&2048){$n(n,s,l,h),n=s.stateNode;try{var y=s.memoizedProps,A=y.id,_=y.onPostCommit;typeof _=="function"&&_(A,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){Ut(s,s.return,k)}}else $n(n,s,l,h);break;case 31:$n(n,s,l,h);break;case 13:$n(n,s,l,h);break;case 23:break;case 22:y=s.stateNode,A=s.alternate,s.memoizedState!==null?y._visibility&2?$n(n,s,l,h):to(n,s):y._visibility&2?$n(n,s,l,h):(y._visibility|=2,Pa(n,s,l,h,(s.subtreeFlags&10256)!==0||!1)),g&2048&&ud(A,s);break;case 24:$n(n,s,l,h),g&2048&&hd(s.alternate,s);break;default:$n(n,s,l,h)}}function Pa(n,s,l,h,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=n,A=s,_=l,k=h,U=A.flags;switch(A.tag){case 0:case 11:case 15:Pa(y,A,_,k,g),Zr(8,A);break;case 23:break;case 22:var X=A.stateNode;A.memoizedState!==null?X._visibility&2?Pa(y,A,_,k,g):to(y,A):(X._visibility|=2,Pa(y,A,_,k,g)),g&&U&2048&&ud(A.alternate,A);break;case 24:Pa(y,A,_,k,g),g&&U&2048&&hd(A.alternate,A);break;default:Pa(y,A,_,k,g)}s=s.sibling}}function to(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,h=s,g=h.flags;switch(h.tag){case 22:to(l,h),g&2048&&ud(h.alternate,h);break;case 24:to(l,h),g&2048&&hd(h.alternate,h);break;default:to(l,h)}s=s.sibling}}var eo=8192;function ja(n,s,l){if(n.subtreeFlags&eo)for(n=n.child;n!==null;)a0(n,s,l),n=n.sibling}function a0(n,s,l){switch(n.tag){case 26:ja(n,s,l),n.flags&eo&&n.memoizedState!==null&&uE(l,qn,n.memoizedState,n.memoizedProps);break;case 5:ja(n,s,l);break;case 3:case 4:var h=qn;qn=bc(n.stateNode.containerInfo),ja(n,s,l),qn=h;break;case 22:n.memoizedState===null&&(h=n.alternate,h!==null&&h.memoizedState!==null?(h=eo,eo=16777216,ja(n,s,l),eo=h):ja(n,s,l));break;default:ja(n,s,l)}}function r0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function no(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];_e=h,l0(h,n)}r0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)o0(n),n=n.sibling}function o0(n){switch(n.tag){case 0:case 11:case 15:no(n),n.flags&2048&&es(9,n,n.return);break;case 3:no(n);break;case 12:no(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,rc(n)):no(n);break;default:no(n)}}function rc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];_e=h,l0(h,n)}r0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:es(8,s,s.return),rc(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,rc(s));break;default:rc(s)}n=n.sibling}}function l0(n,s){for(;_e!==null;){var l=_e;switch(l.tag){case 0:case 11:case 15:es(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:zr(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,_e=h;else t:for(l=n;_e!==null;){h=_e;var g=h.sibling,y=h.return;if(Zy(h),h===l){_e=null;break t}if(g!==null){g.return=y,_e=g;break t}_e=y}}}var T2={getCacheForType:function(n){var s=Le(ye),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l},cacheSignal:function(){return Le(ye).controller.signal}},C2=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Yt=null,_t=null,Nt=0,It=0,gn=null,ns=!1,Oa=!1,dd=!1,Ni=0,ue=0,is=0,Vs=0,fd=0,yn=0,Ba=0,io=null,nn=null,md=!1,oc=0,c0=0,lc=1/0,cc=null,ss=null,Se=0,as=null,Fa=null,Ri=0,pd=0,gd=null,u0=null,so=0,yd=null;function vn(){return(Ft&2)!==0&&Nt!==0?Nt&-Nt:B.T!==null?Sd():Cp()}function h0(){if(yn===0)if((Nt&536870912)===0||kt){var n=yl;yl<<=1,(yl&3932160)===0&&(yl=262144),yn=n}else yn=536870912;return n=mn.current,n!==null&&(n.flags|=32),yn}function sn(n,s,l){(n===Yt&&(It===2||It===9)||n.cancelPendingCommit!==null)&&(za(n,0),rs(n,Nt,yn,!1)),Tr(n,l),((Ft&2)===0||n!==Yt)&&(n===Yt&&((Ft&2)===0&&(Vs|=l),ue===4&&rs(n,Nt,yn,!1)),ei(n))}function d0(n,s,l){if((Ft&6)!==0)throw Error(i(327));var h=!l&&(s&127)===0&&(s&n.expiredLanes)===0||Er(n,s),g=h?N2(n,s):bd(n,s,!0),y=h;do{if(g===0){Oa&&!h&&rs(n,s,0,!1);break}else{if(l=n.current.alternate,y&&!_2(l)){g=bd(n,s,!1),y=!1;continue}if(g===2){if(y=s,n.errorRecoveryDisabledLanes&y)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;t:{var _=n;g=io;var k=_.current.memoizedState.isDehydrated;if(k&&(za(_,A).flags|=256),A=bd(_,A,!1),A!==2){if(dd&&!k){_.errorRecoveryDisabledLanes|=y,Vs|=y,g=4;break t}y=nn,nn=g,y!==null&&(nn===null?nn=y:nn.push.apply(nn,y))}g=A}if(y=!1,g!==2)continue}}if(g===1){za(n,0),rs(n,s,0,!0);break}t:{switch(h=n,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:rs(h,s,yn,!ns);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(g=oc+300-qe(),10<g)){if(rs(h,s,yn,!ns),bl(h,0,!0)!==0)break t;Ri=s,h.timeoutHandle=H0(f0.bind(null,h,l,nn,cc,md,s,yn,Vs,Ba,ns,y,"Throttled",-0,0),g);break t}f0(h,l,nn,cc,md,s,yn,Vs,Ba,ns,y,null,-0,0)}}break}while(!0);ei(n)}function f0(n,s,l,h,g,y,A,_,k,U,X,K,G,q){if(n.timeoutHandle=-1,K=s.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},a0(s,y,K);var st=(y&62914560)===y?oc-qe():(y&4194048)===y?c0-qe():0;if(st=hE(K,st),st!==null){Ri=y,n.cancelPendingCommit=st(w0.bind(null,n,s,y,l,h,g,A,_,k,X,K,null,G,q)),rs(n,y,A,!U);return}}w0(n,s,y,l,h,g,A,_,k)}function _2(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],y=g.getSnapshot;g=g.value;try{if(!dn(y(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function rs(n,s,l,h){s&=~fd,s&=~Vs,n.suspendedLanes|=s,n.pingedLanes&=~s,h&&(n.warmLanes|=s),h=n.expirationTimes;for(var g=s;0<g;){var y=31-hn(g),A=1<<y;h[y]=-1,g&=~A}l!==0&&Sp(n,l,s)}function uc(){return(Ft&6)===0?(ao(0),!1):!0}function vd(){if(_t!==null){if(It===0)var n=_t.return;else n=_t,bi=Ls=null,Ph(n),Na=null,Ur=0,n=_t;for(;n!==null;)Gy(n.alternate,n),n=n.return;_t=null}}function za(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,X2(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Ri=0,vd(),Yt=n,_t=l=yi(n.current,null),Nt=s,It=0,gn=null,ns=!1,Oa=Er(n,s),dd=!1,Ba=yn=fd=Vs=is=ue=0,nn=io=null,md=!1,(s&8)!==0&&(s|=s&32);var h=n.entangledLanes;if(h!==0)for(n=n.entanglements,h&=s;0<h;){var g=31-hn(h),y=1<<g;s|=n[g],h&=~y}return Ni=s,Dl(),l}function m0(n,s){Et=null,B.H=Wr,s===Ma||s===zl?(s=Rg(),It=3):s===Ah?(s=Rg(),It=4):It=s===Kh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,gn=s,_t===null&&(ue=1,Jl(n,Cn(s,n.current)))}function p0(){var n=mn.current;return n===null?!0:(Nt&4194048)===Nt?Rn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?n===Rn:!1}function g0(){var n=B.H;return B.H=Wr,n===null?Wr:n}function y0(){var n=B.A;return B.A=T2,n}function hc(){ue=4,ns||(Nt&4194048)!==Nt&&mn.current!==null||(Oa=!0),(is&134217727)===0&&(Vs&134217727)===0||Yt===null||rs(Yt,Nt,yn,!1)}function bd(n,s,l){var h=Ft;Ft|=2;var g=g0(),y=y0();(Yt!==n||Nt!==s)&&(cc=null,za(n,s)),s=!1;var A=ue;t:do try{if(It!==0&&_t!==null){var _=_t,k=gn;switch(It){case 8:vd(),A=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(s=!0);var U=It;if(It=0,gn=null,Ia(n,_,k,U),l&&Oa){A=0;break t}break;default:U=It,It=0,gn=null,Ia(n,_,k,U)}}M2(),A=ue;break}catch(X){m0(n,X)}while(!0);return s&&n.shellSuspendCounter++,bi=Ls=null,Ft=h,B.H=g,B.A=y,_t===null&&(Yt=null,Nt=0,Dl()),A}function M2(){for(;_t!==null;)v0(_t)}function N2(n,s){var l=Ft;Ft|=2;var h=g0(),g=y0();Yt!==n||Nt!==s?(cc=null,lc=qe()+500,za(n,s)):Oa=Er(n,s);t:do try{if(It!==0&&_t!==null){s=_t;var y=gn;e:switch(It){case 1:It=0,gn=null,Ia(n,s,y,1);break;case 2:case 9:if(Mg(y)){It=0,gn=null,b0(s);break}s=function(){It!==2&&It!==9||Yt!==n||(It=7),ei(n)},y.then(s,s);break t;case 3:It=7;break t;case 4:It=5;break t;case 7:Mg(y)?(It=0,gn=null,b0(s)):(It=0,gn=null,Ia(n,s,y,7));break;case 5:var A=null;switch(_t.tag){case 26:A=_t.memoizedState;case 5:case 27:var _=_t;if(A?sv(A):_.stateNode.complete){It=0,gn=null;var k=_.sibling;if(k!==null)_t=k;else{var U=_.return;U!==null?(_t=U,dc(U)):_t=null}break e}}It=0,gn=null,Ia(n,s,y,5);break;case 6:It=0,gn=null,Ia(n,s,y,6);break;case 8:vd(),ue=6;break t;default:throw Error(i(462))}}R2();break}catch(X){m0(n,X)}while(!0);return bi=Ls=null,B.H=h,B.A=g,Ft=l,_t!==null?0:(Yt=null,Nt=0,Dl(),ue)}function R2(){for(;_t!==null&&!oa();)v0(_t)}function v0(n){var s=Vy(n.alternate,n,Ni);n.memoizedProps=n.pendingProps,s===null?dc(n):_t=s}function b0(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=Oy(l,s,s.pendingProps,s.type,void 0,Nt);break;case 11:s=Oy(l,s,s.pendingProps,s.type.render,s.ref,Nt);break;case 5:Ph(s);default:Gy(l,s),s=_t=yg(s,Ni),s=Vy(l,s,Ni)}n.memoizedProps=n.pendingProps,s===null?dc(n):_t=s}function Ia(n,s,l,h){bi=Ls=null,Ph(s),Na=null,Ur=0;var g=s.return;try{if(v2(n,g,s,l,Nt)){ue=1,Jl(n,Cn(l,n.current)),_t=null;return}}catch(y){if(g!==null)throw _t=g,y;ue=1,Jl(n,Cn(l,n.current)),_t=null;return}s.flags&32768?(kt||h===1?n=!0:Oa||(Nt&536870912)!==0?n=!1:(ns=n=!0,(h===2||h===9||h===3||h===6)&&(h=mn.current,h!==null&&h.tag===13&&(h.flags|=16384))),x0(s,n)):dc(s)}function dc(n){var s=n;do{if((s.flags&32768)!==0){x0(s,ns);return}n=s.return;var l=w2(s.alternate,s,Ni);if(l!==null){_t=l;return}if(s=s.sibling,s!==null){_t=s;return}_t=s=n}while(s!==null);ue===0&&(ue=5)}function x0(n,s){do{var l=A2(n.alternate,n);if(l!==null){l.flags&=32767,_t=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){_t=n;return}_t=n=l}while(n!==null);ue=6,_t=null}function w0(n,s,l,h,g,y,A,_,k){n.cancelPendingCommit=null;do fc();while(Se!==0);if((Ft&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=oh,cS(n,l,y,A,_,k),n===Yt&&(_t=Yt=null,Nt=0),Fa=s,as=n,Ri=l,pd=y,gd=g,u0=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,P2(cn,function(){return C0(),null})):(n.callbackNode=null,n.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,g=V.p,V.p=2,A=Ft,Ft|=4;try{S2(n,s,l)}finally{Ft=A,V.p=g,B.T=h}}Se=1,A0(),S0(),E0()}}function A0(){if(Se===1){Se=0;var n=as,s=Fa,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var h=V.p;V.p=2;var g=Ft;Ft|=4;try{n0(s,n);var y=Dd,A=lg(n.containerInfo),_=y.focusedElem,k=y.selectionRange;if(A!==_&&_&&_.ownerDocument&&og(_.ownerDocument.documentElement,_)){if(k!==null&&nh(_)){var U=k.start,X=k.end;if(X===void 0&&(X=U),"selectionStart"in _)_.selectionStart=U,_.selectionEnd=Math.min(X,_.value.length);else{var K=_.ownerDocument||document,G=K&&K.defaultView||window;if(G.getSelection){var q=G.getSelection(),st=_.textContent.length,yt=Math.min(k.start,st),Gt=k.end===void 0?yt:Math.min(k.end,st);!q.extend&&yt>Gt&&(A=Gt,Gt=yt,yt=A);var z=rg(_,yt),O=rg(_,Gt);if(z&&O&&(q.rangeCount!==1||q.anchorNode!==z.node||q.anchorOffset!==z.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var I=K.createRange();I.setStart(z.node,z.offset),q.removeAllRanges(),yt>Gt?(q.addRange(I),q.extend(O.node,O.offset)):(I.setEnd(O.node,O.offset),q.addRange(I))}}}}for(K=[],q=_;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<K.length;_++){var W=K[_];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Tc=!!Rd,Dd=Rd=null}finally{Ft=g,V.p=h,B.T=l}}n.current=s,Se=2}}function S0(){if(Se===2){Se=0;var n=as,s=Fa,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var h=V.p;V.p=2;var g=Ft;Ft|=4;try{Qy(n,s.alternate,s)}finally{Ft=g,V.p=h,B.T=l}}Se=3}}function E0(){if(Se===4||Se===3){Se=0,Lu();var n=as,s=Fa,l=Ri,h=u0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Se=5:(Se=0,Fa=as=null,T0(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(ss=null),Bu(l),s=s.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Sr,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=B.T,g=V.p,V.p=2,B.T=null;try{for(var y=n.onRecoverableError,A=0;A<h.length;A++){var _=h[A];y(_.value,{componentStack:_.stack})}}finally{B.T=s,V.p=g}}(Ri&3)!==0&&fc(),ei(n),g=n.pendingLanes,(l&261930)!==0&&(g&42)!==0?n===yd?so++:(so=0,yd=n):so=0,ao(0)}}function T0(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,zr(s)))}function fc(){return A0(),S0(),E0(),C0()}function C0(){if(Se!==5)return!1;var n=as,s=pd;pd=0;var l=Bu(Ri),h=B.T,g=V.p;try{V.p=32>l?32:l,B.T=null,l=gd,gd=null;var y=as,A=Ri;if(Se=0,Fa=as=null,Ri=0,(Ft&6)!==0)throw Error(i(331));var _=Ft;if(Ft|=4,o0(y.current),s0(y,y.current,A,l),Ft=_,ao(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Sr,y)}catch{}return!0}finally{V.p=g,B.T=h,T0(n,s)}}function _0(n,s,l){s=Cn(l,s),s=Wh(n.stateNode,s,2),n=Zi(n,s,2),n!==null&&(Tr(n,2),ei(n))}function Ut(n,s,l){if(n.tag===3)_0(n,n,l);else for(;s!==null;){if(s.tag===3){_0(s,n,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ss===null||!ss.has(h))){n=Cn(l,n),l=My(2),h=Zi(s,l,2),h!==null&&(Ny(l,h,s,n),Tr(h,2),ei(h));break}}s=s.return}}function xd(n,s,l){var h=n.pingCache;if(h===null){h=n.pingCache=new C2;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(l)||(dd=!0,g.add(l),n=D2.bind(null,n,s,l),s.then(n,n))}function D2(n,s,l){var h=n.pingCache;h!==null&&h.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Yt===n&&(Nt&l)===l&&(ue===4||ue===3&&(Nt&62914560)===Nt&&300>qe()-oc?(Ft&2)===0&&za(n,0):fd|=l,Ba===Nt&&(Ba=0)),ei(n)}function M0(n,s){s===0&&(s=Ap()),n=Rs(n,s),n!==null&&(Tr(n,s),ei(n))}function k2(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),M0(n,l)}function L2(n,s){var l=0;switch(n.tag){case 31:case 13:var h=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=n.stateNode;break;case 22:h=n.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(s),M0(n,l)}function P2(n,s){return Es(n,s)}var mc=null,Ua=null,wd=!1,pc=!1,Ad=!1,os=0;function ei(n){n!==Ua&&n.next===null&&(Ua===null?mc=Ua=n:Ua=Ua.next=n),pc=!0,wd||(wd=!0,O2())}function ao(n,s){if(!Ad&&pc){Ad=!0;do for(var l=!1,h=mc;h!==null;){if(n!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var A=h.suspendedLanes,_=h.pingedLanes;y=(1<<31-hn(42|n)+1)-1,y&=g&~(A&~_),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,k0(h,y))}else y=Nt,y=bl(h,h===Yt?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Er(h,y)||(l=!0,k0(h,y));h=h.next}while(l);Ad=!1}}function j2(){N0()}function N0(){pc=wd=!1;var n=0;os!==0&&$2()&&(n=os);for(var s=qe(),l=null,h=mc;h!==null;){var g=h.next,y=R0(h,s);y===0?(h.next=null,l===null?mc=g:l.next=g,g===null&&(Ua=l)):(l=h,(n!==0||(y&3)!==0)&&(pc=!0)),h=g}Se!==0&&Se!==5||ao(n),os!==0&&(os=0)}function R0(n,s){for(var l=n.suspendedLanes,h=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var A=31-hn(y),_=1<<A,k=g[A];k===-1?((_&l)===0||(_&h)!==0)&&(g[A]=lS(_,s)):k<=s&&(n.expiredLanes|=_),y&=~_}if(s=Yt,l=Nt,l=bl(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h=n.callbackNode,l===0||n===s&&(It===2||It===9)||n.cancelPendingCommit!==null)return h!==null&&h!==null&&wr(h),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Er(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(h!==null&&wr(h),Bu(l)){case 2:case 8:l=pl;break;case 32:l=cn;break;case 268435456:l=Hn;break;default:l=cn}return h=D0.bind(null,n),l=Es(l,h),n.callbackPriority=s,n.callbackNode=l,s}return h!==null&&h!==null&&wr(h),n.callbackPriority=2,n.callbackNode=null,2}function D0(n,s){if(Se!==0&&Se!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(fc()&&n.callbackNode!==l)return null;var h=Nt;return h=bl(n,n===Yt?h:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h===0?null:(d0(n,h,s),R0(n,qe()),n.callbackNode!=null&&n.callbackNode===l?D0.bind(null,n):null)}function k0(n,s){if(fc())return null;d0(n,s,!0)}function O2(){Y2(function(){(Ft&6)!==0?Es(ml,j2):N0()})}function Sd(){if(os===0){var n=Ca;n===0&&(n=gl,gl<<=1,(gl&261888)===0&&(gl=256)),os=n}return os}function L0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Sl(""+n)}function P0(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function B2(n,s,l,h,g){if(s==="submit"&&l&&l.stateNode===g){var y=L0((g[Qe]||null).action),A=h.submitter;A&&(s=(s=A[Qe]||null)?L0(s.formAction):A.getAttribute("formAction"),s!==null&&(y=s,A=null));var _=new _l("action","action",null,h,g);n.push({event:_,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(os!==0){var k=A?P0(g,A):new FormData(g);Hh(l,{pending:!0,data:k,method:g.method,action:y},null,k)}}else typeof y=="function"&&(_.preventDefault(),k=A?P0(g,A):new FormData(g),Hh(l,{pending:!0,data:k,method:g.method,action:y},y,k))},currentTarget:g}]})}}for(var Ed=0;Ed<rh.length;Ed++){var Td=rh[Ed],F2=Td.toLowerCase(),z2=Td[0].toUpperCase()+Td.slice(1);Gn(F2,"on"+z2)}Gn(hg,"onAnimationEnd"),Gn(dg,"onAnimationIteration"),Gn(fg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(e2,"onTransitionRun"),Gn(n2,"onTransitionStart"),Gn(i2,"onTransitionCancel"),Gn(mg,"onTransitionEnd"),da("onMouseEnter",["mouseout","mouseover"]),da("onMouseLeave",["mouseout","mouseover"]),da("onPointerEnter",["pointerout","pointerover"]),da("onPointerLeave",["pointerout","pointerover"]),Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function j0(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var h=n[l],g=h.event;h=h.listeners;t:{var y=void 0;if(s)for(var A=h.length-1;0<=A;A--){var _=h[A],k=_.instance,U=_.currentTarget;if(_=_.listener,k!==y&&g.isPropagationStopped())break t;y=_,g.currentTarget=U;try{y(g)}catch(X){Rl(X)}g.currentTarget=null,y=k}else for(A=0;A<h.length;A++){if(_=h[A],k=_.instance,U=_.currentTarget,_=_.listener,k!==y&&g.isPropagationStopped())break t;y=_,g.currentTarget=U;try{y(g)}catch(X){Rl(X)}g.currentTarget=null,y=k}}}}function Mt(n,s){var l=s[Fu];l===void 0&&(l=s[Fu]=new Set);var h=n+"__bubble";l.has(h)||(O0(s,n,2,!1),l.add(h))}function Cd(n,s,l){var h=0;s&&(h|=4),O0(l,n,h,s)}var gc="_reactListening"+Math.random().toString(36).slice(2);function _d(n){if(!n[gc]){n[gc]=!0,Np.forEach(function(l){l!=="selectionchange"&&(I2.has(l)||Cd(l,!1,n),Cd(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[gc]||(s[gc]=!0,Cd("selectionchange",!1,s))}}function O0(n,s,l,h){switch(hv(s)){case 2:var g=mE;break;case 8:g=pE;break;default:g=Vd}l=g.bind(null,s,l,n),g=void 0,!Xu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?n.addEventListener(s,l,{capture:!0,passive:g}):n.addEventListener(s,l,!0):g!==void 0?n.addEventListener(s,l,{passive:g}):n.addEventListener(s,l,!1)}function Md(n,s,l,h,g){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)t:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var _=h.stateNode.containerInfo;if(_===g)break;if(A===4)for(A=h.return;A!==null;){var k=A.tag;if((k===3||k===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;_!==null;){if(A=ca(_),A===null)return;if(k=A.tag,k===5||k===6||k===26||k===27){h=y=A;continue t}_=_.parentNode}}h=h.return}Up(function(){var U=y,X=qu(l),K=[];t:{var G=pg.get(n);if(G!==void 0){var q=_l,st=n;switch(n){case"keypress":if(Tl(l)===0)break t;case"keydown":case"keyup":q=LS;break;case"focusin":st="focus",q=Qu;break;case"focusout":st="blur",q=Qu;break;case"beforeblur":case"afterblur":q=Qu;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Gp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=wS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=OS;break;case hg:case dg:case fg:q=ES;break;case mg:q=FS;break;case"scroll":case"scrollend":q=bS;break;case"wheel":q=IS;break;case"copy":case"cut":case"paste":q=CS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=$p;break;case"toggle":case"beforetoggle":q=VS}var yt=(s&4)!==0,Gt=!yt&&(n==="scroll"||n==="scrollend"),z=yt?G!==null?G+"Capture":null:G;yt=[];for(var O=U,I;O!==null;){var W=O;if(I=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||I===null||z===null||(W=Mr(O,z),W!=null&&yt.push(oo(O,W,I))),Gt)break;O=O.return}0<yt.length&&(G=new q(G,st,null,l,X),K.push({event:G,listeners:yt}))}}if((s&7)===0){t:{if(G=n==="mouseover"||n==="pointerover",q=n==="mouseout"||n==="pointerout",G&&l!==Gu&&(st=l.relatedTarget||l.fromElement)&&(ca(st)||st[la]))break t;if((q||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,q?(st=l.relatedTarget||l.toElement,q=U,st=st?ca(st):null,st!==null&&(Gt=o(st),yt=st.tag,st!==Gt||yt!==5&&yt!==27&&yt!==6)&&(st=null)):(q=null,st=U),q!==st)){if(yt=Gp,W="onMouseLeave",z="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(yt=$p,W="onPointerLeave",z="onPointerEnter",O="pointer"),Gt=q==null?G:_r(q),I=st==null?G:_r(st),G=new yt(W,O+"leave",q,l,X),G.target=Gt,G.relatedTarget=I,W=null,ca(X)===U&&(yt=new yt(z,O+"enter",st,l,X),yt.target=I,yt.relatedTarget=Gt,W=yt),Gt=W,q&&st)e:{for(yt=U2,z=q,O=st,I=0,W=z;W;W=yt(W))I++;W=0;for(var mt=O;mt;mt=yt(mt))W++;for(;0<I-W;)z=yt(z),I--;for(;0<W-I;)O=yt(O),W--;for(;I--;){if(z===O||O!==null&&z===O.alternate){yt=z;break e}z=yt(z),O=yt(O)}yt=null}else yt=null;q!==null&&B0(K,G,q,yt,!1),st!==null&&Gt!==null&&B0(K,Gt,st,yt,!0)}}t:{if(G=U?_r(U):window,q=G.nodeName&&G.nodeName.toLowerCase(),q==="select"||q==="input"&&G.type==="file")var Ot=tg;else if(Zp(G))if(eg)Ot=ZS;else{Ot=KS;var ct=WS}else q=G.nodeName,!q||q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&Hu(U.elementType)&&(Ot=tg):Ot=QS;if(Ot&&(Ot=Ot(n,U))){Jp(K,Ot,l,X);break t}ct&&ct(n,G,U),n==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&Vu(G,"number",G.value)}switch(ct=U?_r(U):window,n){case"focusin":(Zp(ct)||ct.contentEditable==="true")&&(va=ct,ih=U,Or=null);break;case"focusout":Or=ih=va=null;break;case"mousedown":sh=!0;break;case"contextmenu":case"mouseup":case"dragend":sh=!1,cg(K,l,X);break;case"selectionchange":if(t2)break;case"keydown":case"keyup":cg(K,l,X)}var Tt;if(Ju)t:{switch(n){case"compositionstart":var Rt="onCompositionStart";break t;case"compositionend":Rt="onCompositionEnd";break t;case"compositionupdate":Rt="onCompositionUpdate";break t}Rt=void 0}else ya?Kp(n,l)&&(Rt="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Rt="onCompositionStart");Rt&&(Xp&&l.locale!=="ko"&&(ya||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&ya&&(Tt=Vp()):(qi=X,Yu="value"in qi?qi.value:qi.textContent,ya=!0)),ct=yc(U,Rt),0<ct.length&&(Rt=new qp(Rt,n,null,l,X),K.push({event:Rt,listeners:ct}),Tt?Rt.data=Tt:(Tt=Qp(l),Tt!==null&&(Rt.data=Tt)))),(Tt=GS?qS(n,l):$S(n,l))&&(Rt=yc(U,"onBeforeInput"),0<Rt.length&&(ct=new qp("onBeforeInput","beforeinput",null,l,X),K.push({event:ct,listeners:Rt}),ct.data=Tt)),B2(K,n,U,l,X)}j0(K,s)})}function oo(n,s,l){return{instance:n,listener:s,currentTarget:l}}function yc(n,s){for(var l=s+"Capture",h=[];n!==null;){var g=n,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Mr(n,l),g!=null&&h.unshift(oo(n,g,y)),g=Mr(n,s),g!=null&&h.push(oo(n,g,y))),n.tag===3)return h;n=n.return}return[]}function U2(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function B0(n,s,l,h,g){for(var y=s._reactName,A=[];l!==null&&l!==h;){var _=l,k=_.alternate,U=_.stateNode;if(_=_.tag,k!==null&&k===h)break;_!==5&&_!==26&&_!==27||U===null||(k=U,g?(U=Mr(l,y),U!=null&&A.unshift(oo(l,U,k))):g||(U=Mr(l,y),U!=null&&A.push(oo(l,U,k)))),l=l.return}A.length!==0&&n.push({event:s,listeners:A})}var V2=/\r\n?/g,H2=/\u0000|\uFFFD/g;function F0(n){return(typeof n=="string"?n:""+n).replace(V2,`
`).replace(H2,"")}function z0(n,s){return s=F0(s),F0(n)===s}function Ht(n,s,l,h,g,y){switch(l){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||ma(n,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&ma(n,""+h);break;case"className":wl(n,"class",h);break;case"tabIndex":wl(n,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":wl(n,l,h);break;case"style":zp(n,h,y);break;case"data":if(s!=="object"){wl(n,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(l);break}h=Sl(""+h),n.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&Ht(n,s,"name",g.name,g,null),Ht(n,s,"formEncType",g.formEncType,g,null),Ht(n,s,"formMethod",g.formMethod,g,null),Ht(n,s,"formTarget",g.formTarget,g,null)):(Ht(n,s,"encType",g.encType,g,null),Ht(n,s,"method",g.method,g,null),Ht(n,s,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(l);break}h=Sl(""+h),n.setAttribute(l,h);break;case"onClick":h!=null&&(n.onclick=pi);break;case"onScroll":h!=null&&Mt("scroll",n);break;case"onScrollEnd":h!=null&&Mt("scrollend",n);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":n.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){n.removeAttribute("xlink:href");break}l=Sl(""+h),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(l,""+h):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":h===!0?n.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(l,h):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?n.setAttribute(l,h):n.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?n.removeAttribute(l):n.setAttribute(l,h);break;case"popover":Mt("beforetoggle",n),Mt("toggle",n),xl(n,"popover",h);break;case"xlinkActuate":mi(n,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":mi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":mi(n,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":mi(n,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":mi(n,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":mi(n,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":mi(n,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":mi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":mi(n,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":xl(n,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=yS.get(l)||l,xl(n,l,h))}}function Nd(n,s,l,h,g,y){switch(l){case"style":zp(n,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof h=="string"?ma(n,h):(typeof h=="number"||typeof h=="bigint")&&ma(n,""+h);break;case"onScroll":h!=null&&Mt("scroll",n);break;case"onScrollEnd":h!=null&&Mt("scrollend",n);break;case"onClick":h!=null&&(n.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rp.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),y=n[Qe]||null,y=y!=null?y[l]:null,typeof y=="function"&&n.removeEventListener(s,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,h,g);break t}l in n?n[l]=h:h===!0?n.setAttribute(l,""):xl(n,l,h)}}}function je(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",n),Mt("load",n);var h=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var A=l[y];if(A!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ht(n,s,y,A,l,null)}}g&&Ht(n,s,"srcSet",l.srcSet,l,null),h&&Ht(n,s,"src",l.src,l,null);return;case"input":Mt("invalid",n);var _=y=A=g=null,k=null,U=null;for(h in l)if(l.hasOwnProperty(h)){var X=l[h];if(X!=null)switch(h){case"name":g=X;break;case"type":A=X;break;case"checked":k=X;break;case"defaultChecked":U=X;break;case"value":y=X;break;case"defaultValue":_=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:Ht(n,s,h,X,l,null)}}jp(n,y,_,k,U,A,g,!1);return;case"select":Mt("invalid",n),h=A=y=null;for(g in l)if(l.hasOwnProperty(g)&&(_=l[g],_!=null))switch(g){case"value":y=_;break;case"defaultValue":A=_;break;case"multiple":h=_;default:Ht(n,s,g,_,l,null)}s=y,l=A,n.multiple=!!h,s!=null?fa(n,!!h,s,!1):l!=null&&fa(n,!!h,l,!0);return;case"textarea":Mt("invalid",n),y=g=h=null;for(A in l)if(l.hasOwnProperty(A)&&(_=l[A],_!=null))switch(A){case"value":h=_;break;case"defaultValue":g=_;break;case"children":y=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:Ht(n,s,A,_,l,null)}Bp(n,h,g,y);return;case"option":for(k in l)l.hasOwnProperty(k)&&(h=l[k],h!=null)&&(k==="selected"?n.selected=h&&typeof h!="function"&&typeof h!="symbol":Ht(n,s,k,h,l,null));return;case"dialog":Mt("beforetoggle",n),Mt("toggle",n),Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":Mt("load",n);break;case"video":case"audio":for(h=0;h<ro.length;h++)Mt(ro[h],n);break;case"image":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"embed":case"source":case"link":Mt("error",n),Mt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in l)if(l.hasOwnProperty(U)&&(h=l[U],h!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ht(n,s,U,h,l,null)}return;default:if(Hu(s)){for(X in l)l.hasOwnProperty(X)&&(h=l[X],h!==void 0&&Nd(n,s,X,h,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(h=l[_],h!=null&&Ht(n,s,_,h,l,null))}function G2(n,s,l,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,A=null,_=null,k=null,U=null,X=null;for(q in l){var K=l[q];if(l.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":k=K;default:h.hasOwnProperty(q)||Ht(n,s,q,null,h,K)}}for(var G in h){var q=h[G];if(K=l[G],h.hasOwnProperty(G)&&(q!=null||K!=null))switch(G){case"type":y=q;break;case"name":g=q;break;case"checked":U=q;break;case"defaultChecked":X=q;break;case"value":A=q;break;case"defaultValue":_=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,s));break;default:q!==K&&Ht(n,s,G,q,h,K)}}Uu(n,A,_,k,U,X,y,g);return;case"select":q=A=_=G=null;for(y in l)if(k=l[y],l.hasOwnProperty(y)&&k!=null)switch(y){case"value":break;case"multiple":q=k;default:h.hasOwnProperty(y)||Ht(n,s,y,null,h,k)}for(g in h)if(y=h[g],k=l[g],h.hasOwnProperty(g)&&(y!=null||k!=null))switch(g){case"value":G=y;break;case"defaultValue":_=y;break;case"multiple":A=y;default:y!==k&&Ht(n,s,g,y,h,k)}s=_,l=A,h=q,G!=null?fa(n,!!l,G,!1):!!h!=!!l&&(s!=null?fa(n,!!l,s,!0):fa(n,!!l,l?[]:"",!1));return;case"textarea":q=G=null;for(_ in l)if(g=l[_],l.hasOwnProperty(_)&&g!=null&&!h.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ht(n,s,_,null,h,g)}for(A in h)if(g=h[A],y=l[A],h.hasOwnProperty(A)&&(g!=null||y!=null))switch(A){case"value":G=g;break;case"defaultValue":q=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&Ht(n,s,A,g,h,y)}Op(n,G,q);return;case"option":for(var st in l)G=l[st],l.hasOwnProperty(st)&&G!=null&&!h.hasOwnProperty(st)&&(st==="selected"?n.selected=!1:Ht(n,s,st,null,h,G));for(k in h)G=h[k],q=l[k],h.hasOwnProperty(k)&&G!==q&&(G!=null||q!=null)&&(k==="selected"?n.selected=G&&typeof G!="function"&&typeof G!="symbol":Ht(n,s,k,G,h,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in l)G=l[yt],l.hasOwnProperty(yt)&&G!=null&&!h.hasOwnProperty(yt)&&Ht(n,s,yt,null,h,G);for(U in h)if(G=h[U],q=l[U],h.hasOwnProperty(U)&&G!==q&&(G!=null||q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:Ht(n,s,U,G,h,q)}return;default:if(Hu(s)){for(var Gt in l)G=l[Gt],l.hasOwnProperty(Gt)&&G!==void 0&&!h.hasOwnProperty(Gt)&&Nd(n,s,Gt,void 0,h,G);for(X in h)G=h[X],q=l[X],!h.hasOwnProperty(X)||G===q||G===void 0&&q===void 0||Nd(n,s,X,G,h,q);return}}for(var z in l)G=l[z],l.hasOwnProperty(z)&&G!=null&&!h.hasOwnProperty(z)&&Ht(n,s,z,null,h,G);for(K in h)G=h[K],q=l[K],!h.hasOwnProperty(K)||G===q||G==null&&q==null||Ht(n,s,K,G,h,q)}function I0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q2(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var g=l[h],y=g.transferSize,A=g.initiatorType,_=g.duration;if(y&&_&&I0(A)){for(A=0,_=g.responseEnd,h+=1;h<l.length;h++){var k=l[h],U=k.startTime;if(U>_)break;var X=k.transferSize,K=k.initiatorType;X&&I0(K)&&(k=k.responseEnd,A+=X*(k<_?1:(_-U)/(k-U)))}if(--h,s+=8*(y+A)/(g.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Rd=null,Dd=null;function vc(n){return n.nodeType===9?n:n.ownerDocument}function U0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V0(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function kd(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ld=null;function $2(){var n=window.event;return n&&n.type==="popstate"?n===Ld?!1:(Ld=n,!0):(Ld=null,!1)}var H0=typeof setTimeout=="function"?setTimeout:void 0,X2=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,Y2=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(n){return G0.resolve(null).then(n).catch(W2)}:H0;function W2(n){setTimeout(function(){throw n})}function ls(n){return n==="head"}function q0(n,s){var l=s,h=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(h===0){n.removeChild(g),qa(s);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")lo(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,lo(l);for(var y=l.firstChild;y;){var A=y.nextSibling,_=y.nodeName;y[Cr]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=A}}else l==="body"&&lo(n.ownerDocument.body);l=g}while(l);qa(s)}function $0(n,s){var l=n;n=0;do{var h=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=h}while(l)}function Pd(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Pd(l),zu(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function K2(n,s,l,h){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(h){if(!n[Cr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Dn(n.nextSibling),n===null)break}return null}function Q2(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Dn(n.nextSibling),n===null))return null;return n}function X0(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Dn(n.nextSibling),n===null))return null;return n}function jd(n){return n.data==="$?"||n.data==="$~"}function Od(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Z2(n,s){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||l.readyState!=="loading")s();else{var h=function(){s(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),n._reactRetry=h}}function Dn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Bd=null;function Y0(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(s===0)return Dn(n.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}n=n.nextSibling}return null}function W0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return n;s--}else l!=="/$"&&l!=="/&"||s++}n=n.previousSibling}return null}function K0(n,s,l){switch(s=vc(l),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function lo(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);zu(n)}var kn=new Map,Q0=new Set;function bc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Di=V.d;V.d={f:J2,r:tE,D:eE,C:nE,L:iE,m:sE,X:rE,S:aE,M:oE};function J2(){var n=Di.f(),s=uc();return n||s}function tE(n){var s=ua(n);s!==null&&s.tag===5&&s.type==="form"?my(s):Di.r(n)}var Va=typeof document>"u"?null:document;function Z0(n,s,l){var h=Va;if(h&&typeof s=="string"&&s){var g=En(s);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Q0.has(g)||(Q0.add(g),n={rel:n,crossOrigin:l,href:s},h.querySelector(g)===null&&(s=h.createElement("link"),je(s,"link",n),Ce(s),h.head.appendChild(s)))}}function eE(n){Di.D(n),Z0("dns-prefetch",n,null)}function nE(n,s){Di.C(n,s),Z0("preconnect",n,s)}function iE(n,s,l){Di.L(n,s,l);var h=Va;if(h&&n&&s){var g='link[rel="preload"][as="'+En(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+En(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+En(l.imageSizes)+'"]')):g+='[href="'+En(n)+'"]';var y=g;switch(s){case"style":y=Ha(n);break;case"script":y=Ga(n)}kn.has(y)||(n=p({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),kn.set(y,n),h.querySelector(g)!==null||s==="style"&&h.querySelector(co(y))||s==="script"&&h.querySelector(uo(y))||(s=h.createElement("link"),je(s,"link",n),Ce(s),h.head.appendChild(s)))}}function sE(n,s){Di.m(n,s);var l=Va;if(l&&n){var h=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+En(h)+'"][href="'+En(n)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ga(n)}if(!kn.has(y)&&(n=p({rel:"modulepreload",href:n},s),kn.set(y,n),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(uo(y)))return}h=l.createElement("link"),je(h,"link",n),Ce(h),l.head.appendChild(h)}}}function aE(n,s,l){Di.S(n,s,l);var h=Va;if(h&&n){var g=ha(h).hoistableStyles,y=Ha(n);s=s||"default";var A=g.get(y);if(!A){var _={loading:0,preload:null};if(A=h.querySelector(co(y)))_.loading=5;else{n=p({rel:"stylesheet",href:n,"data-precedence":s},l),(l=kn.get(y))&&Fd(n,l);var k=A=h.createElement("link");Ce(k),je(k,"link",n),k._p=new Promise(function(U,X){k.onload=U,k.onerror=X}),k.addEventListener("load",function(){_.loading|=1}),k.addEventListener("error",function(){_.loading|=2}),_.loading|=4,xc(A,s,h)}A={type:"stylesheet",instance:A,count:1,state:_},g.set(y,A)}}}function rE(n,s){Di.X(n,s);var l=Va;if(l&&n){var h=ha(l).hoistableScripts,g=Ga(n),y=h.get(g);y||(y=l.querySelector(uo(g)),y||(n=p({src:n,async:!0},s),(s=kn.get(g))&&zd(n,s),y=l.createElement("script"),Ce(y),je(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function oE(n,s){Di.M(n,s);var l=Va;if(l&&n){var h=ha(l).hoistableScripts,g=Ga(n),y=h.get(g);y||(y=l.querySelector(uo(g)),y||(n=p({src:n,async:!0,type:"module"},s),(s=kn.get(g))&&zd(n,s),y=l.createElement("script"),Ce(y),je(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function J0(n,s,l,h){var g=(g=gt.current)?bc(g):null;if(!g)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Ha(l.href),l=ha(g).hoistableStyles,h=l.get(s),h||(h={type:"style",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Ha(l.href);var y=ha(g).hoistableStyles,A=y.get(n);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,A),(y=g.querySelector(co(n)))&&!y._p&&(A.instance=y,A.state.loading=5),kn.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},kn.set(n,l),y||lE(g,n,l,A.state))),s&&h===null)throw Error(i(528,""));return A}if(s&&h!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ga(l),l=ha(g).hoistableScripts,h=l.get(s),h||(h={type:"script",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Ha(n){return'href="'+En(n)+'"'}function co(n){return'link[rel="stylesheet"]['+n+"]"}function tv(n){return p({},n,{"data-precedence":n.precedence,precedence:null})}function lE(n,s,l,h){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=n.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),je(s,"link",l),Ce(s),n.head.appendChild(s))}function Ga(n){return'[src="'+En(n)+'"]'}function uo(n){return"script[async]"+n}function ev(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var h=n.querySelector('style[data-href~="'+En(l.href)+'"]');if(h)return s.instance=h,Ce(h),h;var g=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(n.ownerDocument||n).createElement("style"),Ce(h),je(h,"style",g),xc(h,l.precedence,n),s.instance=h;case"stylesheet":g=Ha(l.href);var y=n.querySelector(co(g));if(y)return s.state.loading|=4,s.instance=y,Ce(y),y;h=tv(l),(g=kn.get(g))&&Fd(h,g),y=(n.ownerDocument||n).createElement("link"),Ce(y);var A=y;return A._p=new Promise(function(_,k){A.onload=_,A.onerror=k}),je(y,"link",h),s.state.loading|=4,xc(y,l.precedence,n),s.instance=y;case"script":return y=Ga(l.src),(g=n.querySelector(uo(y)))?(s.instance=g,Ce(g),g):(h=l,(g=kn.get(y))&&(h=p({},l),zd(h,g)),n=n.ownerDocument||n,g=n.createElement("script"),Ce(g),je(g,"link",h),n.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,xc(h,l.precedence,n));return s.instance}function xc(n,s,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,A=0;A<h.length;A++){var _=h[A];if(_.dataset.precedence===s)y=_;else if(y!==g)break}y?y.parentNode.insertBefore(n,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function Fd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function zd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var wc=null;function nv(n,s,l){if(wc===null){var h=new Map,g=wc=new Map;g.set(l,h)}else g=wc,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(n))return h;for(h.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var y=l[g];if(!(y[Cr]||y[De]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(s)||"";A=n+A;var _=h.get(A);_?_.push(y):h.set(A,[y])}}return h}function iv(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function cE(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function sv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function uE(n,s,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Ha(h.href),y=s.querySelector(co(g));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Ac.bind(n),s.then(n,n)),l.state.loading|=4,l.instance=y,Ce(y);return}y=s.ownerDocument||s,h=tv(h),(g=kn.get(g))&&Fd(h,g),y=y.createElement("link"),Ce(y);var A=y;A._p=new Promise(function(_,k){A.onload=_,A.onerror=k}),je(y,"link",h),l.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=Ac.bind(n),s.addEventListener("load",l),s.addEventListener("error",l))}}var Id=0;function hE(n,s){return n.stylesheets&&n.count===0&&Ec(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var h=setTimeout(function(){if(n.stylesheets&&Ec(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+s);0<n.imgBytes&&Id===0&&(Id=62500*q2());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Ec(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>Id?50:800)+s);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Sc=null;function Ec(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Sc=new Map,s.forEach(dE,n),Sc=null,Ac.call(n))}function dE(n,s){if(!(s.state.loading&4)){var l=Sc.get(n);if(l)var h=l.get(null);else{l=new Map,Sc.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var A=g[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),h=A)}h&&l.set(null,h)}g=s.instance,A=g.getAttribute("data-precedence"),y=l.get(A)||h,y===h&&l.set(null,g),l.set(A,g),this.count++,h=Ac.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),s.state.loading|=4}}var ho={$$typeof:M,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function fE(n,s,l,h,g,y,A,_,k){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ju(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ju(0),this.hiddenUpdates=ju(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function av(n,s,l,h,g,y,A,_,k,U,X,K){return n=new fE(n,s,l,A,k,U,X,K,_),s=1,y===!0&&(s|=24),y=fn(3,null,null,s),n.current=y,y.stateNode=n,s=bh(),s.refCount++,n.pooledCache=s,s.refCount++,y.memoizedState={element:h,isDehydrated:l,cache:s},Sh(y),n}function rv(n){return n?(n=wa,n):wa}function ov(n,s,l,h,g,y){g=rv(g),h.context===null?h.context=g:h.pendingContext=g,h=Qi(s),h.payload={element:l},y=y===void 0?null:y,y!==null&&(h.callback=y),l=Zi(n,h,s),l!==null&&(sn(l,n,s),Hr(l,n,s))}function lv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function Ud(n,s){lv(n,s),(n=n.alternate)&&lv(n,s)}function cv(n){if(n.tag===13||n.tag===31){var s=Rs(n,67108864);s!==null&&sn(s,n,67108864),Ud(n,67108864)}}function uv(n){if(n.tag===13||n.tag===31){var s=vn();s=Ou(s);var l=Rs(n,s);l!==null&&sn(l,n,s),Ud(n,s)}}var Tc=!0;function mE(n,s,l,h){var g=B.T;B.T=null;var y=V.p;try{V.p=2,Vd(n,s,l,h)}finally{V.p=y,B.T=g}}function pE(n,s,l,h){var g=B.T;B.T=null;var y=V.p;try{V.p=8,Vd(n,s,l,h)}finally{V.p=y,B.T=g}}function Vd(n,s,l,h){if(Tc){var g=Hd(h);if(g===null)Md(n,s,h,Cc,l),dv(n,h);else if(yE(g,n,s,l,h))h.stopPropagation();else if(dv(n,h),s&4&&-1<gE.indexOf(n)){for(;g!==null;){var y=ua(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=Ts(y.pendingLanes);if(A!==0){var _=y;for(_.pendingLanes|=2,_.entangledLanes|=2;A;){var k=1<<31-hn(A);_.entanglements[1]|=k,A&=~k}ei(y),(Ft&6)===0&&(lc=qe()+500,ao(0))}}break;case 31:case 13:_=Rs(y,2),_!==null&&sn(_,y,2),uc(),Ud(y,2)}if(y=Hd(h),y===null&&Md(n,s,h,Cc,l),y===g)break;g=y}g!==null&&h.stopPropagation()}else Md(n,s,h,null,l)}}function Hd(n){return n=qu(n),Gd(n)}var Cc=null;function Gd(n){if(Cc=null,n=ca(n),n!==null){var s=o(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=c(s),n!==null)return n;n=null}else if(l===31){if(n=u(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Cc=n,null}function hv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pu()){case ml:return 2;case pl:return 8;case cn:case Vi:return 32;case Hn:return 268435456;default:return 32}default:return 32}}var qd=!1,cs=null,us=null,hs=null,fo=new Map,mo=new Map,ds=[],gE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(n,s){switch(n){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":fo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(s.pointerId)}}function po(n,s,l,h,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},s!==null&&(s=ua(s),s!==null&&cv(s)),n):(n.eventSystemFlags|=h,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function yE(n,s,l,h,g){switch(s){case"focusin":return cs=po(cs,n,s,l,h,g),!0;case"dragenter":return us=po(us,n,s,l,h,g),!0;case"mouseover":return hs=po(hs,n,s,l,h,g),!0;case"pointerover":var y=g.pointerId;return fo.set(y,po(fo.get(y)||null,n,s,l,h,g)),!0;case"gotpointercapture":return y=g.pointerId,mo.set(y,po(mo.get(y)||null,n,s,l,h,g)),!0}return!1}function fv(n){var s=ca(n.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){n.blockedOn=s,_p(n.priority,function(){uv(l)});return}}else if(s===31){if(s=u(l),s!==null){n.blockedOn=s,_p(n.priority,function(){uv(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _c(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Hd(n.nativeEvent);if(l===null){l=n.nativeEvent;var h=new l.constructor(l.type,l);Gu=h,l.target.dispatchEvent(h),Gu=null}else return s=ua(l),s!==null&&cv(s),n.blockedOn=l,!1;s.shift()}return!0}function mv(n,s,l){_c(n)&&l.delete(s)}function vE(){qd=!1,cs!==null&&_c(cs)&&(cs=null),us!==null&&_c(us)&&(us=null),hs!==null&&_c(hs)&&(hs=null),fo.forEach(mv),mo.forEach(mv)}function Mc(n,s){n.blockedOn===s&&(n.blockedOn=null,qd||(qd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,vE)))}var Nc=null;function pv(n){Nc!==n&&(Nc=n,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Nc===n&&(Nc=null);for(var s=0;s<n.length;s+=3){var l=n[s],h=n[s+1],g=n[s+2];if(typeof h!="function"){if(Gd(h||l)===null)continue;break}var y=ua(l);y!==null&&(n.splice(s,3),s-=3,Hh(y,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function qa(n){function s(k){return Mc(k,n)}cs!==null&&Mc(cs,n),us!==null&&Mc(us,n),hs!==null&&Mc(hs,n),fo.forEach(s),mo.forEach(s);for(var l=0;l<ds.length;l++){var h=ds[l];h.blockedOn===n&&(h.blockedOn=null)}for(;0<ds.length&&(l=ds[0],l.blockedOn===null);)fv(l),l.blockedOn===null&&ds.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],y=l[h+1],A=g[Qe]||null;if(typeof y=="function")A||pv(l);else if(A){var _=null;if(y&&y.hasAttribute("formAction")){if(g=y,A=y[Qe]||null)_=A.formAction;else if(Gd(g)!==null)continue}else _=A.action;typeof _=="function"?l[h+1]=_:(l.splice(h,3),h-=3),pv(l)}}}function gv(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(A){return g=A})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function $d(n){this._internalRoot=n}Rc.prototype.render=$d.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,h=vn();ov(l,h,n,s,null,null)},Rc.prototype.unmount=$d.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;ov(n.current,2,null,n,null,null),uc(),s[la]=null}};function Rc(n){this._internalRoot=n}Rc.prototype.unstable_scheduleHydration=function(n){if(n){var s=Cp();n={blockedOn:null,target:n,priority:s};for(var l=0;l<ds.length&&s!==0&&s<ds[l].priority;l++);ds.splice(l,0,n),l===0&&fv(n)}};var yv=t.version;if(yv!=="19.2.3")throw Error(i(527,yv,"19.2.3"));V.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=f(s),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var bE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{Sr=Dc.inject(bE),un=Dc}catch{}}return yo.createRoot=function(n,s){if(!r(n))throw Error(i(299));var l=!1,h="",g=Ey,y=Ty,A=Cy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=av(n,1,!1,null,null,l,h,null,g,y,A,gv),n[la]=s.current,_d(n),new $d(s)},yo.hydrateRoot=function(n,s,l){if(!r(n))throw Error(i(299));var h=!1,g="",y=Ey,A=Ty,_=Cy,k=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(k=l.formState)),s=av(n,1,!0,s,l??null,h,g,k,y,A,_,gv),s.context=rv(null),l=s.current,h=vn(),h=Ou(h),g=Qi(h),g.callback=null,Zi(l,g,h),l=h,s.current.lanes=l,Tr(s,l),ei(s),n[la]=s.current,_d(n),new Rc(s)},yo.version="19.2.3",yo}var Nv;function RE(){if(Nv)return Kd.exports;Nv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Kd.exports=NE(),Kd.exports}var DE=RE();var Rv="popstate";function kE(a={}){function t(r,o){let{pathname:c="/",search:u="",hash:d=""}=sa(r.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),kf("",{pathname:c,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(r,o){let c=r.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let d=r.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof o=="string"?o:Bo(o))}function i(r,o){Kn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return PE(t,e,i,a)}function oe(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function Kn(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function LE(){return Math.random().toString(36).substring(2,10)}function Dv(a,t){return{usr:a.state,key:a.key,idx:t}}function kf(a,t,e=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?sa(t):t,state:e,key:t&&t.key||i||LE()}}function Bo({pathname:a="/",search:t="",hash:e=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(a+=e.charAt(0)==="#"?e:"#"+e),a}function sa(a){let t={};if(a){let e=a.indexOf("#");e>=0&&(t.hash=a.substring(e),a=a.substring(0,e));let i=a.indexOf("?");i>=0&&(t.search=a.substring(i),a=a.substring(0,i)),a&&(t.pathname=a)}return t}function PE(a,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,u="POP",d=null,f=m();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function m(){return(c.state||{idx:null}).idx}function p(){u="POP";let T=m(),E=T==null?null:T-f;f=T,d&&d({action:u,location:w.location,delta:E})}function b(T,E){u="PUSH";let C=kf(w.location,T,E);e&&e(C,T),f=m()+1;let M=Dv(C,f),R=w.createHref(C);try{c.pushState(M,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(R)}o&&d&&d({action:u,location:w.location,delta:1})}function x(T,E){u="REPLACE";let C=kf(w.location,T,E);e&&e(C,T),f=m();let M=Dv(C,f),R=w.createHref(C);c.replaceState(M,"",R),o&&d&&d({action:u,location:w.location,delta:0})}function S(T){return jE(T)}let w={get action(){return u},get location(){return a(r,c)},listen(T){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(Rv,p),d=T,()=>{r.removeEventListener(Rv,p),d=null}},createHref(T){return t(r,T)},createURL:S,encodeLocation(T){let E=S(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:x,go(T){return c.go(T)}};return w}function jE(a,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),oe(e,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:Bo(a);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function $x(a,t,e="/"){return OE(a,t,e,!1)}function OE(a,t,e,i){let r=typeof t=="string"?sa(t):t,o=Fi(r.pathname||"/",e);if(o==null)return null;let c=Xx(a);BE(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let f=YE(o);u=$E(c[d],f,i)}return u}function Xx(a,t=[],e=[],i="",r=!1){let o=(c,u,d=r,f)=>{let m={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&d)return;oe(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let p=ji([i,m.relativePath]),b=e.concat(m);c.children&&c.children.length>0&&(oe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Xx(c.children,t,b,p,d)),!(c.path==null&&!c.index)&&t.push({path:p,score:GE(p,c.index),routesMeta:b})};return a.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))o(c,u);else for(let d of Yx(c.path))o(c,u,!0,d)}),t}function Yx(a){let t=a.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=Yx(i.join("/")),u=[];return u.push(...c.map(d=>d===""?o:[o,d].join("/"))),r&&u.push(...c),u.map(d=>a.startsWith("/")&&d===""?"/":d)}function BE(a){a.sort((t,e)=>t.score!==e.score?e.score-t.score:qE(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var FE=/^:[\w-]+$/,zE=3,IE=2,UE=1,VE=10,HE=-2,kv=a=>a==="*";function GE(a,t){let e=a.split("/"),i=e.length;return e.some(kv)&&(i+=HE),t&&(i+=IE),e.filter(r=>!kv(r)).reduce((r,o)=>r+(FE.test(o)?zE:o===""?UE:VE),i)}function qE(a,t){return a.length===t.length&&a.slice(0,-1).every((i,r)=>i===t[r])?a[a.length-1]-t[t.length-1]:0}function $E(a,t,e=!1){let{routesMeta:i}=a,r={},o="/",c=[];for(let u=0;u<i.length;++u){let d=i[u],f=u===i.length-1,m=o==="/"?t:t.slice(o.length)||"/",p=eu({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),b=d.route;if(!p&&f&&e&&!i[i.length-1].route.index&&(p=eu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!p)return null;Object.assign(r,p.params),c.push({params:r,pathname:ji([o,p.pathname]),pathnameBase:ZE(ji([o,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(o=ji([o,p.pathnameBase]))}return c}function eu(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[e,i]=XE(a.path,a.caseSensitive,a.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:m,isOptional:p},b)=>{if(m==="*"){let S=u[b]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const x=u[b];return p&&!x?f[m]=void 0:f[m]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:a}}function XE(a,t=!1,e=!0){Kn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],r="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(i.push({paramName:"*"}),r+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":a!==""&&a!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function YE(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function Fi(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=a.charAt(e);return i&&i!=="/"?null:a.slice(e)||"/"}var WE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function KE(a,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof a=="string"?sa(a):a,o;return e?(e=e.replace(/\/\/+/g,"/"),e.startsWith("/")?o=Lv(e.substring(1),"/"):o=Lv(e,t)):o=t,{pathname:o,search:JE(i),hash:tT(r)}}function Lv(a,t){let e=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function tf(a,t,e,i){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QE(a){return a.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Wx(a){let t=QE(a);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Kx(a,t,e,i=!1){let r;typeof a=="string"?r=sa(a):(r={...a},oe(!r.pathname||!r.pathname.includes("?"),tf("?","pathname","search",r)),oe(!r.pathname||!r.pathname.includes("#"),tf("#","pathname","hash",r)),oe(!r.search||!r.search.includes("#"),tf("#","search","hash",r)));let o=a===""||r.pathname==="",c=o?"/":r.pathname,u;if(c==null)u=e;else{let p=t.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),p-=1;r.pathname=b.join("/")}u=p>=0?t[p]:"/"}let d=KE(r,u),f=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var ji=a=>a.join("/").replace(/\/\/+/g,"/"),ZE=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),JE=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,tT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,eT=class{constructor(a,t,e,i=!1){this.status=a,this.statusText=t||"",this.internal=i,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function nT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function iT(a){return a.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Qx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zx(a,t){let e=a;if(typeof e!="string"||!WE.test(e))return{absoluteURL:void 0,isExternal:!1,to:e};let i=e,r=!1;if(Qx)try{let o=new URL(window.location.href),c=e.startsWith("//")?new URL(o.protocol+e):new URL(e),u=Fi(c.pathname,t);c.origin===o.origin&&u!=null?e=u+c.search+c.hash:r=!0}catch{Kn(!1,`<Link to="${e}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Jx=["POST","PUT","PATCH","DELETE"];new Set(Jx);var sT=["GET",...Jx];new Set(sT);var fr=N.createContext(null);fr.displayName="DataRouter";var gu=N.createContext(null);gu.displayName="DataRouterState";var aT=N.createContext(!1),t1=N.createContext({isTransitioning:!1});t1.displayName="ViewTransition";var rT=N.createContext(new Map);rT.displayName="Fetchers";var oT=N.createContext(null);oT.displayName="Await";var Vn=N.createContext(null);Vn.displayName="Navigation";var Wo=N.createContext(null);Wo.displayName="Location";var fi=N.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var vm=N.createContext(null);vm.displayName="RouteError";var e1="REACT_ROUTER_ERROR",lT="REDIRECT",cT="ROUTE_ERROR_RESPONSE";function uT(a){if(a.startsWith(`${e1}:${lT}:{`))try{let t=JSON.parse(a.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function hT(a){if(a.startsWith(`${e1}:${cT}:{`))try{let t=JSON.parse(a.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new eT(t.status,t.statusText,t.data)}catch{}}function dT(a,{relative:t}={}){oe(Ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=N.useContext(Vn),{hash:r,pathname:o,search:c}=Qo(a,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:ji([e,o])),i.createHref({pathname:u,search:c,hash:r})}function Ko(){return N.useContext(Wo)!=null}function As(){return oe(Ko(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Wo).location}var n1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i1(a){N.useContext(Vn).static||N.useLayoutEffect(a)}function fT(){let{isDataRoute:a}=N.useContext(fi);return a?_T():mT()}function mT(){oe(Ko(),"useNavigate() may be used only in the context of a <Router> component.");let a=N.useContext(fr),{basename:t,navigator:e}=N.useContext(Vn),{matches:i}=N.useContext(fi),{pathname:r}=As(),o=JSON.stringify(Wx(i)),c=N.useRef(!1);return i1(()=>{c.current=!0}),N.useCallback((d,f={})=>{if(Kn(c.current,n1),!c.current)return;if(typeof d=="number"){e.go(d);return}let m=Kx(d,JSON.parse(o),r,f.relative==="path");a==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ji([t,m.pathname])),(f.replace?e.replace:e.push)(m,f.state,f)},[t,e,o,r,a])}N.createContext(null);function pT(){let{matches:a}=N.useContext(fi),t=a[a.length-1];return t?t.params:{}}function Qo(a,{relative:t}={}){let{matches:e}=N.useContext(fi),{pathname:i}=As(),r=JSON.stringify(Wx(e));return N.useMemo(()=>Kx(a,JSON.parse(r),i,t==="path"),[a,r,i,t])}function gT(a,t){return s1(a,t)}function s1(a,t,e,i,r){oe(Ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=N.useContext(Vn),{matches:c}=N.useContext(fi),u=c[c.length-1],d=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",p=u&&u.route;{let C=p&&p.path||"";r1(f,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=As(),x;if(t){let C=typeof t=="string"?sa(t):t;oe(m==="/"||C.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${C.pathname}" was given in the \`location\` prop.`),x=C}else x=b;let S=x.pathname||"/",w=S;if(m!=="/"){let C=m.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let T=$x(a,{pathname:w});Kn(p||T!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Kn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=wT(T&&T.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:ji([m,o.encodeLocation?o.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?m:ji([m,o.encodeLocation?o.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),c,e,i,r);return t&&E?N.createElement(Wo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},E):E}function yT(){let a=CT(),t=nT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),e=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",a),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),e?N.createElement("pre",{style:r},e):null,c)}var vT=N.createElement(yT,null),a1=class extends N.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.onError?this.props.onError(a,t):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const e=hT(a.digest);e&&(a=e)}let t=a!==void 0?N.createElement(fi.Provider,{value:this.props.routeContext},N.createElement(vm.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?N.createElement(bT,{error:a},t):t}};a1.contextType=aT;var ef=new WeakMap;function bT({children:a,error:t}){let{basename:e}=N.useContext(Vn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=uT(t.digest);if(i){let r=ef.get(t);if(r)throw r;let o=Zx(i.location,e);if(Qx&&!ef.get(t))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw ef.set(t,c),c}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return a}function xT({routeContext:a,match:t,children:e}){let i=N.useContext(fr);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(fi.Provider,{value:a},e)}function wT(a,t=[],e=null,i=null,r=null){if(a==null){if(!e)return null;if(e.errors)a=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)a=e.matches;else return null}let o=a,c=e?.errors;if(c!=null){let m=o.findIndex(p=>p.route.id&&c?.[p.route.id]!==void 0);oe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,d=-1;if(e)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:b,errors:x}=e,S=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||S){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=e&&i?(m,p)=>{i(m,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:iT(e.matches),errorInfo:p})}:void 0;return o.reduceRight((m,p,b)=>{let x,S=!1,w=null,T=null;e&&(x=c&&p.route.id?c[p.route.id]:void 0,w=p.route.errorElement||vT,u&&(d<0&&b===0?(r1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,T=null):d===b&&(S=!0,T=p.route.hydrateFallbackElement||null)));let E=t.concat(o.slice(0,b+1)),C=()=>{let M;return x?M=w:S?M=T:p.route.Component?M=N.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=m,N.createElement(xT,{match:p,routeContext:{outlet:m,matches:E,isDataRoute:e!=null},children:M})};return e&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?N.createElement(a1,{location:e.location,revalidation:e.revalidation,component:w,error:x,children:C(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:f}):C()},null)}function bm(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AT(a){let t=N.useContext(fr);return oe(t,bm(a)),t}function ST(a){let t=N.useContext(gu);return oe(t,bm(a)),t}function ET(a){let t=N.useContext(fi);return oe(t,bm(a)),t}function xm(a){let t=ET(a),e=t.matches[t.matches.length-1];return oe(e.route.id,`${a} can only be used on routes that contain a unique "id"`),e.route.id}function TT(){return xm("useRouteId")}function CT(){let a=N.useContext(vm),t=ST("useRouteError"),e=xm("useRouteError");return a!==void 0?a:t.errors?.[e]}function _T(){let{router:a}=AT("useNavigate"),t=xm("useNavigate"),e=N.useRef(!1);return i1(()=>{e.current=!0}),N.useCallback(async(r,o={})=>{Kn(e.current,n1),e.current&&(typeof r=="number"?await a.navigate(r):await a.navigate(r,{fromRouteId:t,...o}))},[a,t])}var Pv={};function r1(a,t,e){!t&&!Pv[a]&&(Pv[a]=!0,Kn(!1,e))}N.memo(MT);function MT({routes:a,future:t,state:e,onError:i}){return s1(a,void 0,e,i,t)}function jn(a){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NT({basename:a="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1,unstable_useTransitions:c}){oe(!Ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=a.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:u,navigator:r,static:o,unstable_useTransitions:c,future:{}}),[u,r,o,c]);typeof e=="string"&&(e=sa(e));let{pathname:f="/",search:m="",hash:p="",state:b=null,key:x="default"}=e,S=N.useMemo(()=>{let w=Fi(f,u);return w==null?null:{location:{pathname:w,search:m,hash:p,state:b,key:x},navigationType:i}},[u,f,m,p,b,x,i]);return Kn(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:N.createElement(Vn.Provider,{value:d},N.createElement(Wo.Provider,{children:t,value:S}))}function RT({children:a,location:t}){return gT(Lf(a),t)}function Lf(a,t=[]){let e=[];return N.Children.forEach(a,(i,r)=>{if(!N.isValidElement(i))return;let o=[...t,r];if(i.type===N.Fragment){e.push.apply(e,Lf(i.props.children,o));return}oe(i.type===jn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Lf(i.props.children,o)),e.push(c)}),e}var Xc="get",Yc="application/x-www-form-urlencoded";function yu(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function DT(a){return yu(a)&&a.tagName.toLowerCase()==="button"}function kT(a){return yu(a)&&a.tagName.toLowerCase()==="form"}function LT(a){return yu(a)&&a.tagName.toLowerCase()==="input"}function PT(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function jT(a,t){return a.button===0&&(!t||t==="_self")&&!PT(a)}var kc=null;function OT(){if(kc===null)try{new FormData(document.createElement("form"),0),kc=!1}catch{kc=!0}return kc}var BT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nf(a){return a!=null&&!BT.has(a)?(Kn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):a}function FT(a,t){let e,i,r,o,c;if(kT(a)){let u=a.getAttribute("action");i=u?Fi(u,t):null,e=a.getAttribute("method")||Xc,r=nf(a.getAttribute("enctype"))||Yc,o=new FormData(a)}else if(DT(a)||LT(a)&&(a.type==="submit"||a.type==="image")){let u=a.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=a.getAttribute("formaction")||u.getAttribute("action");if(i=d?Fi(d,t):null,e=a.getAttribute("formmethod")||u.getAttribute("method")||Xc,r=nf(a.getAttribute("formenctype"))||nf(u.getAttribute("enctype"))||Yc,o=new FormData(u,a),!OT()){let{name:f,type:m,value:p}=a;if(m==="image"){let b=f?`${f}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else f&&o.append(f,p)}}else{if(yu(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Xc,i=null,r=Yc,c=a}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wm(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function zT(a,t,e,i){let r=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return e?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:t&&Fi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function IT(a,t){if(a.id in t)return t[a.id];try{let e=await import(a.module);return t[a.id]=e,e}catch(e){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UT(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function VT(a,t,e){let i=await Promise.all(a.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await IT(o,e);return c.links?c.links():[]}return[]}));return $T(i.flat(1).filter(UT).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function jv(a,t,e,i,r,o){let c=(d,f)=>e[f]?d.route.id!==e[f].route.id:!0,u=(d,f)=>e[f].pathname!==d.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,f)=>c(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{let m=i.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(c(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function HT(a,t,{includeHydrateFallback:e}={}){return GT(a.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function GT(a){return[...new Set(a)]}function qT(a){let t={},e=Object.keys(a).sort();for(let i of e)t[i]=a[i];return t}function $T(a,t){let e=new Set;return new Set(t),a.reduce((i,r)=>{let o=JSON.stringify(qT(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function o1(){let a=N.useContext(fr);return wm(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function XT(){let a=N.useContext(gu);return wm(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Am=N.createContext(void 0);Am.displayName="FrameworkContext";function l1(){let a=N.useContext(Am);return wm(a,"You must render this element inside a <HydratedRouter> element"),a}function YT(a,t){let e=N.useContext(Am),[i,r]=N.useState(!1),[o,c]=N.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=t,b=N.useRef(null);N.useEffect(()=>{if(a==="render"&&c(!0),a==="viewport"){let w=E=>{E.forEach(C=>{c(C.isIntersecting)})},T=new IntersectionObserver(w,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[a]),N.useEffect(()=>{if(i){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[i]);let x=()=>{r(!0)},S=()=>{r(!1),c(!1)};return e?a!=="intent"?[o,b,{}]:[o,b,{onFocus:vo(u,x),onBlur:vo(d,S),onMouseEnter:vo(f,x),onMouseLeave:vo(m,S),onTouchStart:vo(p,x)}]:[!1,b,{}]}function vo(a,t){return e=>{a&&a(e),e.defaultPrevented||t(e)}}function WT({page:a,...t}){let{router:e}=o1(),i=N.useMemo(()=>$x(e.routes,a,e.basename),[e.routes,a,e.basename]);return i?N.createElement(QT,{page:a,matches:i,...t}):null}function KT(a){let{manifest:t,routeModules:e}=l1(),[i,r]=N.useState([]);return N.useEffect(()=>{let o=!1;return VT(a,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[a,t,e]),i}function QT({page:a,matches:t,...e}){let i=As(),{future:r,manifest:o,routeModules:c}=l1(),{basename:u}=o1(),{loaderData:d,matches:f}=XT(),m=N.useMemo(()=>jv(a,t,f,o,i,"data"),[a,t,f,o,i]),p=N.useMemo(()=>jv(a,t,f,o,i,"assets"),[a,t,f,o,i]),b=N.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let w=new Set,T=!1;if(t.forEach(C=>{let M=o.routes[C.route.id];!M||!M.hasLoader||(!m.some(R=>R.route.id===C.route.id)&&C.route.id in d&&c[C.route.id]?.shouldRevalidate||M.hasClientLoader?T=!0:w.add(C.route.id))}),w.size===0)return[];let E=zT(a,u,r.unstable_trailingSlashAwareDataRequests,"data");return T&&w.size>0&&E.searchParams.set("_routes",t.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[u,r.unstable_trailingSlashAwareDataRequests,d,i,o,m,t,a,c]),x=N.useMemo(()=>HT(p,o),[p,o]),S=KT(p);return N.createElement(N.Fragment,null,b.map(w=>N.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...e})),x.map(w=>N.createElement("link",{key:w,rel:"modulepreload",href:w,...e})),S.map(({key:w,link:T})=>N.createElement("link",{key:w,nonce:e.nonce,...T,crossOrigin:T.crossOrigin??e.crossOrigin})))}function ZT(...a){return t=>{a.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var JT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JT&&(window.__reactRouterVersion="7.13.0")}catch{}function tC({basename:a,children:t,unstable_useTransitions:e,window:i}){let r=N.useRef();r.current==null&&(r.current=kE({window:i,v5Compat:!0}));let o=r.current,[c,u]=N.useState({action:o.action,location:o.location}),d=N.useCallback(f=>{e===!1?u(f):N.startTransition(()=>u(f))},[e]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.createElement(NT,{basename:a,children:t,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:e})}var c1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ue=N.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:u,target:d,to:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b,...x},S){let{basename:w,unstable_useTransitions:T}=N.useContext(Vn),E=typeof f=="string"&&c1.test(f),C=Zx(f,w);f=C.to;let M=dT(f,{relative:r}),[R,D,P]=YT(i,x),j=sC(f,{replace:c,state:u,target:d,preventScrollReset:m,relative:r,viewTransition:p,unstable_defaultShouldRevalidate:b,unstable_useTransitions:T});function F(Y){t&&t(Y),Y.defaultPrevented||j(Y)}let H=N.createElement("a",{...x,...P,href:C.absoluteURL||M,onClick:C.isExternal||o?t:F,ref:ZT(S,D),target:d,"data-discover":!E&&e==="render"?"true":void 0});return R&&!E?N.createElement(N.Fragment,null,H,N.createElement(WT,{page:M})):H});Ue.displayName="Link";var eC=N.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:u,children:d,...f},m){let p=Qo(c,{relative:f.relative}),b=As(),x=N.useContext(gu),{navigator:S,basename:w}=N.useContext(Vn),T=x!=null&&cC(p)&&u===!0,E=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,C=b.pathname,M=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;e||(C=C.toLowerCase(),M=M?M.toLowerCase():null,E=E.toLowerCase()),M&&w&&(M=Fi(M,w)||M);const R=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let D=C===E||!r&&C.startsWith(E)&&C.charAt(R)==="/",P=M!=null&&(M===E||!r&&M.startsWith(E)&&M.charAt(E.length)==="/"),j={isActive:D,isPending:P,isTransitioning:T},F=D?t:void 0,H;typeof i=="function"?H=i(j):H=[i,D?"active":null,P?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let Y=typeof o=="function"?o(j):o;return N.createElement(Ue,{...f,"aria-current":F,className:H,ref:m,style:Y,to:c,viewTransition:u},typeof d=="function"?d(j):d)});eC.displayName="NavLink";var nC=N.forwardRef(({discover:a="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=Xc,action:u,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b,...x},S)=>{let{unstable_useTransitions:w}=N.useContext(Vn),T=oC(),E=lC(u,{relative:f}),C=c.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&c1.test(u),R=D=>{if(d&&d(D),D.defaultPrevented)return;D.preventDefault();let P=D.nativeEvent.submitter,j=P?.getAttribute("formmethod")||c,F=()=>T(P||D.currentTarget,{fetcherKey:t,method:j,navigate:e,replace:r,state:o,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b});w&&e!==!1?N.startTransition(()=>F()):F()};return N.createElement("form",{ref:S,method:C,action:E,onSubmit:i?d:R,...x,"data-discover":!M&&a==="render"?"true":void 0})});nC.displayName="Form";function iC(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u1(a){let t=N.useContext(fr);return oe(t,iC(a)),t}function sC(a,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=fT(),m=As(),p=Qo(a,{relative:o});return N.useCallback(b=>{if(jT(b,t)){b.preventDefault();let x=e!==void 0?e:Bo(m)===Bo(p),S=()=>f(a,{replace:x,state:i,preventScrollReset:r,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:u});d?N.startTransition(()=>S()):S()}},[m,f,p,e,i,t,a,r,o,c,u,d])}var aC=0,rC=()=>`__${String(++aC)}__`;function oC(){let{router:a}=u1("useSubmit"),{basename:t}=N.useContext(Vn),e=TT(),i=a.fetch,r=a.navigate;return N.useCallback(async(o,c={})=>{let{action:u,method:d,encType:f,formData:m,body:p}=FT(o,t);if(c.navigate===!1){let b=c.fetcherKey||rC();await i(b,e,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:m,body:p,formMethod:c.method||d,formEncType:c.encType||f,flushSync:c.flushSync})}else await r(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:m,body:p,formMethod:c.method||d,formEncType:c.encType||f,replace:c.replace,state:c.state,fromRouteId:e,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,r,t,e])}function lC(a,{relative:t}={}){let{basename:e}=N.useContext(Vn),i=N.useContext(fi);oe(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Qo(a||".",{relative:t})},c=As();if(a==null){o.search=c.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(p=>p).forEach(p=>u.append("index",p));let m=u.toString();o.search=m?`?${m}`:""}}return(!a||a===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:ji([e,o.pathname])),Bo(o)}function cC(a,{relative:t}={}){let e=N.useContext(t1);oe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=u1("useViewTransitionState"),r=Qo(a,{relative:t});if(!e.isTransitioning)return!1;let o=Fi(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Fi(e.nextLocation.pathname,i)||e.nextLocation.pathname;return eu(r.pathname,c)!=null||eu(r.pathname,o)!=null}const h1=N.createContext(void 0);function uC({children:a}){const[t,e]=N.useState(()=>{if(typeof window<"u"){const r=localStorage.getItem("theme");return r?r==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}return!1});N.useEffect(()=>{const r=window.document.documentElement;t?(r.classList.add("dark"),localStorage.setItem("theme","dark")):(r.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const i=()=>{e(!t)};return v.jsx(h1.Provider,{value:{isDark:t,toggleTheme:i},children:a})}function hC(){const a=N.useContext(h1);if(a===void 0)throw new Error("useTheme must be used within a ThemeProvider");return a}const Sm=N.createContext({});function Em(a){const t=N.useRef(null);return t.current===null&&(t.current=a()),t.current}const d1=typeof window<"u",f1=d1?N.useLayoutEffect:N.useEffect,vu=N.createContext(null);function Tm(a,t){a.indexOf(t)===-1&&a.push(t)}function Cm(a,t){const e=a.indexOf(t);e>-1&&a.splice(e,1)}const di=(a,t,e)=>e>t?t:e<a?a:e;let _m=()=>{};const zi={},m1=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function p1(a){return typeof a=="object"&&a!==null}const g1=a=>/^0[^.\s]+$/u.test(a);function Mm(a){let t;return()=>(t===void 0&&(t=a()),t)}const zn=a=>a,dC=(a,t)=>e=>t(a(e)),Zo=(...a)=>a.reduce(dC),Fo=(a,t,e)=>{const i=t-a;return i===0?1:(e-a)/i};class Nm{constructor(){this.subscriptions=[]}add(t){return Tm(this.subscriptions,t),()=>Cm(this.subscriptions,t)}notify(t,e,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,e,i);else for(let o=0;o<r;o++){const c=this.subscriptions[o];c&&c(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Oi=a=>a*1e3,Fn=a=>a/1e3;function y1(a,t){return t?a*(1e3/t):0}const v1=(a,t,e)=>(((1-3*e+3*t)*a+(3*e-6*t))*a+3*t)*a,fC=1e-7,mC=12;function pC(a,t,e,i,r){let o,c,u=0;do c=t+(e-t)/2,o=v1(c,i,r)-a,o>0?e=c:t=c;while(Math.abs(o)>fC&&++u<mC);return c}function Jo(a,t,e,i){if(a===t&&e===i)return zn;const r=o=>pC(o,0,1,a,e);return o=>o===0||o===1?o:v1(r(o),t,i)}const b1=a=>t=>t<=.5?a(2*t)/2:(2-a(2*(1-t)))/2,x1=a=>t=>1-a(1-t),w1=Jo(.33,1.53,.69,.99),Rm=x1(w1),A1=b1(Rm),S1=a=>(a*=2)<1?.5*Rm(a):.5*(2-Math.pow(2,-10*(a-1))),Dm=a=>1-Math.sin(Math.acos(a)),E1=x1(Dm),T1=b1(Dm),gC=Jo(.42,0,1,1),yC=Jo(0,0,.58,1),C1=Jo(.42,0,.58,1),vC=a=>Array.isArray(a)&&typeof a[0]!="number",_1=a=>Array.isArray(a)&&typeof a[0]=="number",bC={linear:zn,easeIn:gC,easeInOut:C1,easeOut:yC,circIn:Dm,circInOut:T1,circOut:E1,backIn:Rm,backInOut:A1,backOut:w1,anticipate:S1},xC=a=>typeof a=="string",Ov=a=>{if(_1(a)){_m(a.length===4);const[t,e,i,r]=a;return Jo(t,e,i,r)}else if(xC(a))return bC[a];return a},Lc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function wC(a,t){let e=new Set,i=new Set,r=!1,o=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(m){c.has(m)&&(f.schedule(m),a()),m(u)}const f={schedule:(m,p=!1,b=!1)=>{const S=b&&r?e:i;return p&&c.add(m),S.has(m)||S.add(m),m},cancel:m=>{i.delete(m),c.delete(m)},process:m=>{if(u=m,r){o=!0;return}r=!0,[e,i]=[i,e],e.forEach(d),e.clear(),r=!1,o&&(o=!1,f.process(m))}};return f}const AC=40;function M1(a,t){let e=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>e=!0,c=Lc.reduce((M,R)=>(M[R]=wC(o),M),{}),{setup:u,read:d,resolveKeyframes:f,preUpdate:m,update:p,preRender:b,render:x,postRender:S}=c,w=()=>{const M=zi.useManualTiming?r.timestamp:performance.now();e=!1,zi.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(M-r.timestamp,AC),1)),r.timestamp=M,r.isProcessing=!0,u.process(r),d.process(r),f.process(r),m.process(r),p.process(r),b.process(r),x.process(r),S.process(r),r.isProcessing=!1,e&&t&&(i=!1,a(w))},T=()=>{e=!0,i=!0,r.isProcessing||a(w)};return{schedule:Lc.reduce((M,R)=>{const D=c[R];return M[R]=(P,j=!1,F=!1)=>(e||T(),D.schedule(P,j,F)),M},{}),cancel:M=>{for(let R=0;R<Lc.length;R++)c[Lc[R]].cancel(M)},state:r,steps:c}}const{schedule:Qt,cancel:vs,state:Be,steps:sf}=M1(typeof requestAnimationFrame<"u"?requestAnimationFrame:zn,!0);let Wc;function SC(){Wc=void 0}const Ye={now:()=>(Wc===void 0&&Ye.set(Be.isProcessing||zi.useManualTiming?Be.timestamp:performance.now()),Wc),set:a=>{Wc=a,queueMicrotask(SC)}},N1=a=>t=>typeof t=="string"&&t.startsWith(a),R1=N1("--"),EC=N1("var(--"),km=a=>EC(a)?TC.test(a.split("/*")[0].trim()):!1,TC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Bv(a){return typeof a!="string"?!1:a.split("/*")[0].includes("var(--")}const mr={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},zo={...mr,transform:a=>di(0,1,a)},Pc={...mr,default:1},Ro=a=>Math.round(a*1e5)/1e5,Lm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CC(a){return a==null}const _C=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Pm=(a,t)=>e=>!!(typeof e=="string"&&_C.test(e)&&e.startsWith(a)||t&&!CC(e)&&Object.prototype.hasOwnProperty.call(e,t)),D1=(a,t,e)=>i=>{if(typeof i!="string")return i;const[r,o,c,u]=i.match(Lm);return{[a]:parseFloat(r),[t]:parseFloat(o),[e]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},MC=a=>di(0,255,a),af={...mr,transform:a=>Math.round(MC(a))},Xs={test:Pm("rgb","red"),parse:D1("red","green","blue"),transform:({red:a,green:t,blue:e,alpha:i=1})=>"rgba("+af.transform(a)+", "+af.transform(t)+", "+af.transform(e)+", "+Ro(zo.transform(i))+")"};function NC(a){let t="",e="",i="",r="";return a.length>5?(t=a.substring(1,3),e=a.substring(3,5),i=a.substring(5,7),r=a.substring(7,9)):(t=a.substring(1,2),e=a.substring(2,3),i=a.substring(3,4),r=a.substring(4,5),t+=t,e+=e,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Pf={test:Pm("#"),parse:NC,transform:Xs.transform},tl=a=>({test:t=>typeof t=="string"&&t.endsWith(a)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${a}`}),ms=tl("deg"),ui=tl("%"),ot=tl("px"),RC=tl("vh"),DC=tl("vw"),Fv={...ui,parse:a=>ui.parse(a)/100,transform:a=>ui.transform(a*100)},Wa={test:Pm("hsl","hue"),parse:D1("hue","saturation","lightness"),transform:({hue:a,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(a)+", "+ui.transform(Ro(t))+", "+ui.transform(Ro(e))+", "+Ro(zo.transform(i))+")"},Ae={test:a=>Xs.test(a)||Pf.test(a)||Wa.test(a),parse:a=>Xs.test(a)?Xs.parse(a):Wa.test(a)?Wa.parse(a):Pf.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?Xs.transform(a):Wa.transform(a),getAnimatableNone:a=>{const t=Ae.parse(a);return t.alpha=0,Ae.transform(t)}},kC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function LC(a){return isNaN(a)&&typeof a=="string"&&(a.match(Lm)?.length||0)+(a.match(kC)?.length||0)>0}const k1="number",L1="color",PC="var",jC="var(",zv="${}",OC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Io(a){const t=a.toString(),e=[],i={color:[],number:[],var:[]},r=[];let o=0;const u=t.replace(OC,d=>(Ae.test(d)?(i.color.push(o),r.push(L1),e.push(Ae.parse(d))):d.startsWith(jC)?(i.var.push(o),r.push(PC),e.push(d)):(i.number.push(o),r.push(k1),e.push(parseFloat(d))),++o,zv)).split(zv);return{values:e,split:u,indexes:i,types:r}}function P1(a){return Io(a).values}function j1(a){const{split:t,types:e}=Io(a),i=t.length;return r=>{let o="";for(let c=0;c<i;c++)if(o+=t[c],r[c]!==void 0){const u=e[c];u===k1?o+=Ro(r[c]):u===L1?o+=Ae.transform(r[c]):o+=r[c]}return o}}const BC=a=>typeof a=="number"?0:Ae.test(a)?Ae.getAnimatableNone(a):a;function FC(a){const t=P1(a);return j1(a)(t.map(BC))}const bs={test:LC,parse:P1,createTransformer:j1,getAnimatableNone:FC};function rf(a,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?a+(t-a)*6*e:e<1/2?t:e<2/3?a+(t-a)*(2/3-e)*6:a}function zC({hue:a,saturation:t,lightness:e,alpha:i}){a/=360,t/=100,e/=100;let r=0,o=0,c=0;if(!t)r=o=c=e;else{const u=e<.5?e*(1+t):e+t-e*t,d=2*e-u;r=rf(d,u,a+1/3),o=rf(d,u,a),c=rf(d,u,a-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:i}}function nu(a,t){return e=>e>0?t:a}const re=(a,t,e)=>a+(t-a)*e,of=(a,t,e)=>{const i=a*a,r=e*(t*t-i)+i;return r<0?0:Math.sqrt(r)},IC=[Pf,Xs,Wa],UC=a=>IC.find(t=>t.test(a));function Iv(a){const t=UC(a);if(!t)return!1;let e=t.parse(a);return t===Wa&&(e=zC(e)),e}const Uv=(a,t)=>{const e=Iv(a),i=Iv(t);if(!e||!i)return nu(a,t);const r={...e};return o=>(r.red=of(e.red,i.red,o),r.green=of(e.green,i.green,o),r.blue=of(e.blue,i.blue,o),r.alpha=re(e.alpha,i.alpha,o),Xs.transform(r))},jf=new Set(["none","hidden"]);function VC(a,t){return jf.has(a)?e=>e<=0?a:t:e=>e>=1?t:a}function HC(a,t){return e=>re(a,t,e)}function jm(a){return typeof a=="number"?HC:typeof a=="string"?km(a)?nu:Ae.test(a)?Uv:$C:Array.isArray(a)?O1:typeof a=="object"?Ae.test(a)?Uv:GC:nu}function O1(a,t){const e=[...a],i=e.length,r=a.map((o,c)=>jm(o)(o,t[c]));return o=>{for(let c=0;c<i;c++)e[c]=r[c](o);return e}}function GC(a,t){const e={...a,...t},i={};for(const r in e)a[r]!==void 0&&t[r]!==void 0&&(i[r]=jm(a[r])(a[r],t[r]));return r=>{for(const o in i)e[o]=i[o](r);return e}}function qC(a,t){const e=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],c=a.indexes[o][i[o]],u=a.values[c]??0;e[r]=u,i[o]++}return e}const $C=(a,t)=>{const e=bs.createTransformer(t),i=Io(a),r=Io(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?jf.has(a)&&!r.values.length||jf.has(t)&&!i.values.length?VC(a,t):Zo(O1(qC(i,r),r.values),e):nu(a,t)};function B1(a,t,e){return typeof a=="number"&&typeof t=="number"&&typeof e=="number"?re(a,t,e):jm(a)(a,t)}const XC=a=>{const t=({timestamp:e})=>a(e);return{start:(e=!0)=>Qt.update(t,e),stop:()=>vs(t),now:()=>Be.isProcessing?Be.timestamp:Ye.now()}},F1=(a,t,e=10)=>{let i="";const r=Math.max(Math.round(t/e),2);for(let o=0;o<r;o++)i+=Math.round(a(o/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},iu=2e4;function Om(a){let t=0;const e=50;let i=a.next(t);for(;!i.done&&t<iu;)t+=e,i=a.next(t);return t>=iu?1/0:t}function YC(a,t=100,e){const i=e({...a,keyframes:[0,t]}),r=Math.min(Om(i),iu);return{type:"keyframes",ease:o=>i.next(r*o).value/t,duration:Fn(r)}}const WC=5;function z1(a,t,e){const i=Math.max(t-WC,0);return y1(e-a(i),t-i)}const he={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lf=.001;function KC({duration:a=he.duration,bounce:t=he.bounce,velocity:e=he.velocity,mass:i=he.mass}){let r,o,c=1-t;c=di(he.minDamping,he.maxDamping,c),a=di(he.minDuration,he.maxDuration,Fn(a)),c<1?(r=f=>{const m=f*c,p=m*a,b=m-e,x=Of(f,c),S=Math.exp(-p);return lf-b/x*S},o=f=>{const p=f*c*a,b=p*e+e,x=Math.pow(c,2)*Math.pow(f,2)*a,S=Math.exp(-p),w=Of(Math.pow(f,2),c);return(-r(f)+lf>0?-1:1)*((b-x)*S)/w}):(r=f=>{const m=Math.exp(-f*a),p=(f-e)*a+1;return-lf+m*p},o=f=>{const m=Math.exp(-f*a),p=(e-f)*(a*a);return m*p});const u=5/a,d=ZC(r,o,u);if(a=Oi(a),isNaN(d))return{stiffness:he.stiffness,damping:he.damping,duration:a};{const f=Math.pow(d,2)*i;return{stiffness:f,damping:c*2*Math.sqrt(i*f),duration:a}}}const QC=12;function ZC(a,t,e){let i=e;for(let r=1;r<QC;r++)i=i-a(i)/t(i);return i}function Of(a,t){return a*Math.sqrt(1-t*t)}const JC=["duration","bounce"],t_=["stiffness","damping","mass"];function Vv(a,t){return t.some(e=>a[e]!==void 0)}function e_(a){let t={velocity:he.velocity,stiffness:he.stiffness,damping:he.damping,mass:he.mass,isResolvedFromDuration:!1,...a};if(!Vv(a,t_)&&Vv(a,JC))if(a.visualDuration){const e=a.visualDuration,i=2*Math.PI/(e*1.2),r=i*i,o=2*di(.05,1,1-(a.bounce||0))*Math.sqrt(r);t={...t,mass:he.mass,stiffness:r,damping:o}}else{const e=KC(a);t={...t,...e,mass:he.mass},t.isResolvedFromDuration=!0}return t}function su(a=he.visualDuration,t=he.bounce){const e=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:t}:a;let{restSpeed:i,restDelta:r}=e;const o=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:f,mass:m,duration:p,velocity:b,isResolvedFromDuration:x}=e_({...e,velocity:-Fn(e.velocity||0)}),S=b||0,w=f/(2*Math.sqrt(d*m)),T=c-o,E=Fn(Math.sqrt(d/m)),C=Math.abs(T)<5;i||(i=C?he.restSpeed.granular:he.restSpeed.default),r||(r=C?he.restDelta.granular:he.restDelta.default);let M;if(w<1){const D=Of(E,w);M=P=>{const j=Math.exp(-w*E*P);return c-j*((S+w*E*T)/D*Math.sin(D*P)+T*Math.cos(D*P))}}else if(w===1)M=D=>c-Math.exp(-E*D)*(T+(S+E*T)*D);else{const D=E*Math.sqrt(w*w-1);M=P=>{const j=Math.exp(-w*E*P),F=Math.min(D*P,300);return c-j*((S+w*E*T)*Math.sinh(F)+D*T*Math.cosh(F))/D}}const R={calculatedDuration:x&&p||null,next:D=>{const P=M(D);if(x)u.done=D>=p;else{let j=D===0?S:0;w<1&&(j=D===0?Oi(S):z1(M,D,P));const F=Math.abs(j)<=i,H=Math.abs(c-P)<=r;u.done=F&&H}return u.value=u.done?c:P,u},toString:()=>{const D=Math.min(Om(R),iu),P=F1(j=>R.next(D*j).value,D,30);return D+"ms "+P},toTransition:()=>{}};return R}su.applyToOptions=a=>{const t=YC(a,100,su);return a.ease=t.ease,a.duration=Oi(t.duration),a.type="keyframes",a};function Bf({keyframes:a,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:c,min:u,max:d,restDelta:f=.5,restSpeed:m}){const p=a[0],b={done:!1,value:p},x=F=>u!==void 0&&F<u||d!==void 0&&F>d,S=F=>u===void 0?d:d===void 0||Math.abs(u-F)<Math.abs(d-F)?u:d;let w=e*t;const T=p+w,E=c===void 0?T:c(T);E!==T&&(w=E-p);const C=F=>-w*Math.exp(-F/i),M=F=>E+C(F),R=F=>{const H=C(F),Y=M(F);b.done=Math.abs(H)<=f,b.value=b.done?E:Y};let D,P;const j=F=>{x(b.value)&&(D=F,P=su({keyframes:[b.value,S(b.value)],velocity:z1(M,F,b.value),damping:r,stiffness:o,restDelta:f,restSpeed:m}))};return j(0),{calculatedDuration:null,next:F=>{let H=!1;return!P&&D===void 0&&(H=!0,R(F),j(F)),D!==void 0&&F>=D?P.next(F-D):(!H&&R(F),b)}}}function n_(a,t,e){const i=[],r=e||zi.mix||B1,o=a.length-1;for(let c=0;c<o;c++){let u=r(a[c],a[c+1]);if(t){const d=Array.isArray(t)?t[c]||zn:t;u=Zo(d,u)}i.push(u)}return i}function i_(a,t,{clamp:e=!0,ease:i,mixer:r}={}){const o=a.length;if(_m(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const c=a[0]===a[1];a[0]>a[o-1]&&(a=[...a].reverse(),t=[...t].reverse());const u=n_(t,i,r),d=u.length,f=m=>{if(c&&m<a[0])return t[0];let p=0;if(d>1)for(;p<a.length-2&&!(m<a[p+1]);p++);const b=Fo(a[p],a[p+1],m);return u[p](b)};return e?m=>f(di(a[0],a[o-1],m)):f}function s_(a,t){const e=a[a.length-1];for(let i=1;i<=t;i++){const r=Fo(0,t,i);a.push(re(e,1,r))}}function a_(a){const t=[0];return s_(t,a.length-1),t}function r_(a,t){return a.map(e=>e*t)}function o_(a,t){return a.map(()=>t||C1).splice(0,a.length-1)}function Do({duration:a=300,keyframes:t,times:e,ease:i="easeInOut"}){const r=vC(i)?i.map(Ov):Ov(i),o={done:!1,value:t[0]},c=r_(e&&e.length===t.length?e:a_(t),a),u=i_(c,t,{ease:Array.isArray(r)?r:o_(t,r)});return{calculatedDuration:a,next:d=>(o.value=u(d),o.done=d>=a,o)}}const l_=a=>a!==null;function Bm(a,{repeat:t,repeatType:e="loop"},i,r=1){const o=a.filter(l_),u=r<0||t&&e!=="loop"&&t%2===1?0:o.length-1;return!u||i===void 0?o[u]:i}const c_={decay:Bf,inertia:Bf,tween:Do,keyframes:Do,spring:su};function I1(a){typeof a.type=="string"&&(a.type=c_[a.type])}class Fm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const u_=a=>a/100;class zm extends Fm{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Ye.now()&&this.tick(Ye.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;I1(t);const{type:e=Do,repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:c=0}=t;let{keyframes:u}=t;const d=e||Do;d!==Do&&typeof u[0]!="number"&&(this.mixKeyframes=Zo(u_,B1(u[0],u[1])),u=[0,100]);const f=d({...t,keyframes:u});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...u].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=Om(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=f}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:r,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:m,repeat:p,repeatType:b,repeatDelay:x,type:S,onUpdate:w,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const E=this.currentTime-f*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?E<0:E>r;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let M=this.currentTime,R=i;if(p){const F=Math.min(this.currentTime,r)/u;let H=Math.floor(F),Y=F%1;!Y&&F>=1&&(Y=1),Y===1&&H--,H=Math.min(H,p+1),H%2&&(b==="reverse"?(Y=1-Y,x&&(Y-=x/u)):b==="mirror"&&(R=c)),M=di(0,1,Y)*u}const D=C?{done:!1,value:m[0]}:R.next(M);o&&(D.value=o(D.value));let{done:P}=D;!C&&d!==null&&(P=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return j&&S!==Bf&&(D.value=Bm(m,this.options,T,this.speed)),w&&w(D.value),j&&this.finish(),D}then(t,e){return this.finished.then(t,e)}get duration(){return Fn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Fn(t)}get time(){return Fn(this.currentTime)}set time(t){t=Oi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ye.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Fn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=XC,startTime:e}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ye.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function h_(a){for(let t=1;t<a.length;t++)a[t]??(a[t]=a[t-1])}const Ys=a=>a*180/Math.PI,Ff=a=>{const t=Ys(Math.atan2(a[1],a[0]));return zf(t)},d_={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:Ff,rotateZ:Ff,skewX:a=>Ys(Math.atan(a[1])),skewY:a=>Ys(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},zf=a=>(a=a%360,a<0&&(a+=360),a),Hv=Ff,Gv=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),qv=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),f_={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Gv,scaleY:qv,scale:a=>(Gv(a)+qv(a))/2,rotateX:a=>zf(Ys(Math.atan2(a[6],a[5]))),rotateY:a=>zf(Ys(Math.atan2(-a[2],a[0]))),rotateZ:Hv,rotate:Hv,skewX:a=>Ys(Math.atan(a[4])),skewY:a=>Ys(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function If(a){return a.includes("scale")?1:0}function Uf(a,t){if(!a||a==="none")return If(t);const e=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(e)i=f_,r=e;else{const u=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=d_,r=u}if(!r)return If(t);const o=i[t],c=r[1].split(",").map(p_);return typeof o=="function"?o(c):c[o]}const m_=(a,t)=>{const{transform:e="none"}=getComputedStyle(a);return Uf(e,t)};function p_(a){return parseFloat(a.trim())}const pr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gr=new Set(pr),$v=a=>a===mr||a===ot,g_=new Set(["x","y","z"]),y_=pr.filter(a=>!g_.has(a));function v_(a){const t=[];return y_.forEach(e=>{const i=a.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const gs={width:({x:a},{paddingLeft:t="0",paddingRight:e="0"})=>a.max-a.min-parseFloat(t)-parseFloat(e),height:({y:a},{paddingTop:t="0",paddingBottom:e="0"})=>a.max-a.min-parseFloat(t)-parseFloat(e),top:(a,{top:t})=>parseFloat(t),left:(a,{left:t})=>parseFloat(t),bottom:({y:a},{top:t})=>parseFloat(t)+(a.max-a.min),right:({x:a},{left:t})=>parseFloat(t)+(a.max-a.min),x:(a,{transform:t})=>Uf(t,"x"),y:(a,{transform:t})=>Uf(t,"y")};gs.translateX=gs.x;gs.translateY=gs.y;const Js=new Set;let Vf=!1,Hf=!1,Gf=!1;function U1(){if(Hf){const a=Array.from(Js).filter(i=>i.needsMeasurement),t=new Set(a.map(i=>i.element)),e=new Map;t.forEach(i=>{const r=v_(i);r.length&&(e.set(i,r),i.render())}),a.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=e.get(i);r&&r.forEach(([o,c])=>{i.getValue(o)?.set(c)})}),a.forEach(i=>i.measureEndState()),a.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Hf=!1,Vf=!1,Js.forEach(a=>a.complete(Gf)),Js.clear()}function V1(){Js.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(Hf=!0)})}function b_(){Gf=!0,V1(),U1(),Gf=!1}class Im{constructor(t,e,i,r,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=r,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Js.add(this),Vf||(Vf=!0,Qt.read(V1),Qt.resolveKeyframes(U1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:r}=this;if(t[0]===null){const o=r?.get(),c=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&e){const u=i.readValue(e,c);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=c),r&&o===void 0&&r.set(t[0])}h_(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Js.delete(this)}cancel(){this.state==="scheduled"&&(Js.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const x_=a=>a.startsWith("--");function w_(a,t,e){x_(t)?a.style.setProperty(t,e):a.style[t]=e}const A_=Mm(()=>window.ScrollTimeline!==void 0),S_={};function E_(a,t){const e=Mm(a);return()=>S_[t]??e()}const H1=E_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),To=([a,t,e,i])=>`cubic-bezier(${a}, ${t}, ${e}, ${i})`,Xv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:To([0,.65,.55,1]),circOut:To([.55,0,1,.45]),backIn:To([.31,.01,.66,-.59]),backOut:To([.33,1.53,.69,.99])};function G1(a,t){if(a)return typeof a=="function"?H1()?F1(a,t):"ease-out":_1(a)?To(a):Array.isArray(a)?a.map(e=>G1(e,t)||Xv.easeOut):Xv[a]}function T_(a,t,e,{delay:i=0,duration:r=300,repeat:o=0,repeatType:c="loop",ease:u="easeOut",times:d}={},f=void 0){const m={[t]:e};d&&(m.offset=d);const p=G1(u,r);Array.isArray(p)&&(m.easing=p);const b={delay:i,duration:r,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return f&&(b.pseudoElement=f),a.animate(m,b)}function q1(a){return typeof a=="function"&&"applyToOptions"in a}function C_({type:a,...t}){return q1(a)&&H1()?a.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class __ extends Fm{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:i,keyframes:r,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:u,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=t,_m(typeof t.type!="string");const f=C_(t);this.animation=T_(e,i,r,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=Bm(r,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):w_(e,i,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Fn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Fn(t)}get time(){return Fn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Oi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&A_()?(this.animation.timeline=t,zn):e(this)}}const $1={anticipate:S1,backInOut:A1,circInOut:T1};function M_(a){return a in $1}function N_(a){typeof a.ease=="string"&&M_(a.ease)&&(a.ease=$1[a.ease])}const cf=10;class R_ extends __{constructor(t){N_(t),I1(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:r,element:o,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new zm({...c,autoplay:!1}),d=Math.max(cf,Ye.now()-this.startTime),f=di(0,cf,d-cf);e.setWithVelocity(u.sample(Math.max(0,d-f)).value,u.sample(d).value,f),u.stop()}}const Yv=(a,t)=>t==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(bs.test(a)||a==="0")&&!a.startsWith("url("));function D_(a){const t=a[0];if(a.length===1)return!0;for(let e=0;e<a.length;e++)if(a[e]!==t)return!0}function k_(a,t,e,i){const r=a[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const o=a[a.length-1],c=Yv(r,t),u=Yv(o,t);return!c||!u?!1:D_(a)||(e==="spring"||q1(e))&&i}function qf(a){a.duration=0,a.type="keyframes"}const L_=new Set(["opacity","clipPath","filter","transform"]),P_=Mm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function j_(a){const{motionValue:t,name:e,repeatDelay:i,repeatType:r,damping:o,type:c}=a;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=t.owner.getProps();return P_()&&e&&L_.has(e)&&(e!=="transform"||!f)&&!d&&!i&&r!=="mirror"&&o!==0&&c!=="inertia"}const O_=40;class B_ extends Fm{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:c="loop",keyframes:u,name:d,motionValue:f,element:m,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ye.now();const b={autoplay:t,delay:e,type:i,repeat:r,repeatDelay:o,repeatType:c,name:d,motionValue:f,element:m,...p},x=m?.KeyframeResolver||Im;this.keyframeResolver=new x(u,(S,w,T)=>this.onKeyframesResolved(S,w,b,!T),d,f,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,r){this.keyframeResolver=void 0;const{name:o,type:c,velocity:u,delay:d,isHandoff:f,onUpdate:m}=i;this.resolvedAt=Ye.now(),k_(t,o,c,u)||((zi.instantAnimations||!d)&&m?.(Bm(t,i,e)),t[0]=t[t.length-1],qf(i),i.repeat=0);const b={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>O_?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},x=!f&&j_(b),S=b.motionValue?.owner?.current,w=x?new R_({...b,element:S}):new zm(b);w.finished.then(()=>{this.notifyFinished()}).catch(zn),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),b_()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function X1(a,t,e,i=0,r=1){const o=Array.from(a).sort((f,m)=>f.sortNodePosition(m)).indexOf(t),c=a.size,u=(c-1)*i;return typeof e=="function"?e(o,c):r===1?o*i:u-o*i}const F_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function z_(a){const t=F_.exec(a);if(!t)return[,];const[,e,i,r]=t;return[`--${e??i}`,r]}function Y1(a,t,e=1){const[i,r]=z_(a);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const c=o.trim();return m1(c)?parseFloat(c):c}return km(r)?Y1(r,t,e+1):r}const I_={type:"spring",stiffness:500,damping:25,restSpeed:10},U_=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),V_={type:"keyframes",duration:.8},H_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},G_=(a,{keyframes:t})=>t.length>2?V_:gr.has(a)?a.startsWith("scale")?U_(t[1]):I_:H_,q_=a=>a!==null;function $_(a,{repeat:t,repeatType:e="loop"},i){const r=a.filter(q_),o=t&&e!=="loop"&&t%2===1?0:r.length-1;return r[o]}function Um(a,t){return a?.[t]??a?.default??a}function X_({when:a,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:c,repeatDelay:u,from:d,elapsed:f,...m}){return!!Object.keys(m).length}const Vm=(a,t,e,i={},r,o)=>c=>{const u=Um(i,a)||{},d=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-Oi(d);const m={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:b=>{t.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:a,motionValue:t,element:o?void 0:r};X_(u)||Object.assign(m,G_(a,m)),m.duration&&(m.duration=Oi(m.duration)),m.repeatDelay&&(m.repeatDelay=Oi(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let p=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(qf(m),m.delay===0&&(p=!0)),(zi.instantAnimations||zi.skipAnimations||r?.shouldSkipAnimations)&&(p=!0,qf(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,p&&!o&&t.get()!==void 0){const b=$_(m.keyframes,u);if(b!==void 0){Qt.update(()=>{m.onUpdate(b),m.onComplete()});return}}return u.isSync?new zm(m):new B_(m)};function Wv(a){const t=[{},{}];return a?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function Hm(a,t,e,i){if(typeof t=="function"){const[r,o]=Wv(i);t=t(e!==void 0?e:a.custom,r,o)}if(typeof t=="string"&&(t=a.variants&&a.variants[t]),typeof t=="function"){const[r,o]=Wv(i);t=t(e!==void 0?e:a.custom,r,o)}return t}function er(a,t,e){const i=a.getProps();return Hm(i,t,e!==void 0?e:i.custom,a)}const W1=new Set(["width","height","top","left","right","bottom",...pr]),Kv=30,Y_=a=>!isNaN(parseFloat(a));class W_{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=Ye.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Ye.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Y_(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Nm);const i=this.events[t].add(e);return t==="change"?()=>{i(),Qt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ye.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Kv)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Kv);return y1(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lr(a,t){return new W_(a,t)}const $f=a=>Array.isArray(a);function K_(a,t,e){a.hasValue(t)?a.getValue(t).set(e):a.addValue(t,lr(e))}function Q_(a){return $f(a)?a[a.length-1]||0:a}function Z_(a,t){const e=er(a,t);let{transitionEnd:i={},transition:r={},...o}=e||{};o={...o,...i};for(const c in o){const u=Q_(o[c]);K_(a,c,u)}}const He=a=>!!(a&&a.getVelocity);function J_(a){return!!(He(a)&&a.add)}function Xf(a,t){const e=a.getValue("willChange");if(J_(e))return e.add(t);if(!e&&zi.WillChange){const i=new zi.WillChange("auto");a.addValue("willChange",i),i.add(t)}}function Gm(a){return a.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const tM="framerAppearId",K1="data-"+Gm(tM);function Q1(a){return a.props[K1]}function eM({protectedKeys:a,needsAnimating:t},e){const i=a.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function Z1(a,t,{delay:e=0,transitionOverride:i,type:r}={}){let{transition:o=a.getDefaultTransition(),transitionEnd:c,...u}=t;const d=o?.reduceMotion;i&&(o=i);const f=[],m=r&&a.animationState&&a.animationState.getState()[r];for(const p in u){const b=a.getValue(p,a.latestValues[p]??null),x=u[p];if(x===void 0||m&&eM(m,p))continue;const S={delay:e,...Um(o||{},p)},w=b.get();if(w!==void 0&&!b.isAnimating&&!Array.isArray(x)&&x===w&&!S.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const M=Q1(a);if(M){const R=window.MotionHandoffAnimation(M,p,Qt);R!==null&&(S.startTime=R,T=!0)}}Xf(a,p);const E=d??a.shouldReduceMotion;b.start(Vm(p,b,x,E&&W1.has(p)?{type:!1}:S,a,T));const C=b.animation;C&&f.push(C)}return c&&Promise.all(f).then(()=>{Qt.update(()=>{c&&Z_(a,c)})}),f}function Yf(a,t,e={}){const i=er(a,t,e.type==="exit"?a.presenceContext?.custom:void 0);let{transition:r=a.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(r=e.transitionOverride);const o=i?()=>Promise.all(Z1(a,i,e)):()=>Promise.resolve(),c=a.variantChildren&&a.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:p}=r;return nM(a,t,d,f,m,p,e)}:()=>Promise.resolve(),{when:u}=r;if(u){const[d,f]=u==="beforeChildren"?[o,c]:[c,o];return d().then(()=>f())}else return Promise.all([o(),c(e.delay)])}function nM(a,t,e=0,i=0,r=0,o=1,c){const u=[];for(const d of a.variantChildren)d.notify("AnimationStart",t),u.push(Yf(d,t,{...c,delay:e+(typeof i=="function"?0:i)+X1(a.variantChildren,d,i,r,o)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(u)}function iM(a,t,e={}){a.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(o=>Yf(a,o,e));i=Promise.all(r)}else if(typeof t=="string")i=Yf(a,t,e);else{const r=typeof t=="function"?er(a,t,e.custom):t;i=Promise.all(Z1(a,r,e))}return i.then(()=>{a.notify("AnimationComplete",t)})}const sM={test:a=>a==="auto",parse:a=>a},J1=a=>t=>t.test(a),tw=[mr,ot,ui,ms,DC,RC,sM],Qv=a=>tw.find(J1(a));function aM(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||g1(a):!0}const rM=new Set(["brightness","contrast","saturate","opacity"]);function oM(a){const[t,e]=a.slice(0,-1).split("(");if(t==="drop-shadow")return a;const[i]=e.match(Lm)||[];if(!i)return a;const r=e.replace(i,"");let o=rM.has(t)?1:0;return i!==e&&(o*=100),t+"("+o+r+")"}const lM=/\b([a-z-]*)\(.*?\)/gu,Wf={...bs,getAnimatableNone:a=>{const t=a.match(lM);return t?t.map(oM).join(" "):a}},Zv={...mr,transform:Math.round},cM={rotate:ms,rotateX:ms,rotateY:ms,rotateZ:ms,scale:Pc,scaleX:Pc,scaleY:Pc,scaleZ:Pc,skew:ms,skewX:ms,skewY:ms,distance:ot,translateX:ot,translateY:ot,translateZ:ot,x:ot,y:ot,z:ot,perspective:ot,transformPerspective:ot,opacity:zo,originX:Fv,originY:Fv,originZ:ot},qm={borderWidth:ot,borderTopWidth:ot,borderRightWidth:ot,borderBottomWidth:ot,borderLeftWidth:ot,borderRadius:ot,borderTopLeftRadius:ot,borderTopRightRadius:ot,borderBottomRightRadius:ot,borderBottomLeftRadius:ot,width:ot,maxWidth:ot,height:ot,maxHeight:ot,top:ot,right:ot,bottom:ot,left:ot,inset:ot,insetBlock:ot,insetBlockStart:ot,insetBlockEnd:ot,insetInline:ot,insetInlineStart:ot,insetInlineEnd:ot,padding:ot,paddingTop:ot,paddingRight:ot,paddingBottom:ot,paddingLeft:ot,paddingBlock:ot,paddingBlockStart:ot,paddingBlockEnd:ot,paddingInline:ot,paddingInlineStart:ot,paddingInlineEnd:ot,margin:ot,marginTop:ot,marginRight:ot,marginBottom:ot,marginLeft:ot,marginBlock:ot,marginBlockStart:ot,marginBlockEnd:ot,marginInline:ot,marginInlineStart:ot,marginInlineEnd:ot,fontSize:ot,backgroundPositionX:ot,backgroundPositionY:ot,...cM,zIndex:Zv,fillOpacity:zo,strokeOpacity:zo,numOctaves:Zv},uM={...qm,color:Ae,backgroundColor:Ae,outlineColor:Ae,fill:Ae,stroke:Ae,borderColor:Ae,borderTopColor:Ae,borderRightColor:Ae,borderBottomColor:Ae,borderLeftColor:Ae,filter:Wf,WebkitFilter:Wf},ew=a=>uM[a];function nw(a,t){let e=ew(a);return e!==Wf&&(e=bs),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const hM=new Set(["auto","none","0"]);function dM(a,t,e){let i=0,r;for(;i<a.length&&!r;){const o=a[i];typeof o=="string"&&!hM.has(o)&&Io(o).values.length&&(r=a[i]),i++}if(r&&e)for(const o of t)a[o]=nw(e,r)}class fM extends Im{constructor(t,e,i,r,o){super(t,e,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),km(p))){const b=Y1(p,e.current);b!==void 0&&(t[m]=b),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!W1.has(i)||t.length!==2)return;const[r,o]=t,c=Qv(r),u=Qv(o),d=Bv(r),f=Bv(o);if(d!==f&&gs[i]){this.needsMeasurement=!0;return}if(c!==u)if($v(c)&&$v(u))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else gs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let r=0;r<t.length;r++)(t[r]===null||aM(t[r]))&&i.push(r);i.length&&dM(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gs[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(e);r&&r.jump(this.measuredOrigin,!1);const o=i.length-1,c=i[o];i[o]=gs[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{t.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function mM(a,t,e){if(a==null)return[];if(a instanceof EventTarget)return[a];if(typeof a=="string"){let i=document;const r=e?.[a]??i.querySelectorAll(a);return r?Array.from(r):[]}return Array.from(a).filter(i=>i!=null)}const iw=(a,t)=>t&&typeof a=="number"?t.transform(a):a;function Kf(a){return p1(a)&&"offsetHeight"in a}const{schedule:$m}=M1(queueMicrotask,!1),Yn={x:!1,y:!1};function sw(){return Yn.x||Yn.y}function pM(a){return a==="x"||a==="y"?Yn[a]?null:(Yn[a]=!0,()=>{Yn[a]=!1}):Yn.x||Yn.y?null:(Yn.x=Yn.y=!0,()=>{Yn.x=Yn.y=!1})}function aw(a,t){const e=mM(a),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[e,r,()=>i.abort()]}function Jv(a){return!(a.pointerType==="touch"||sw())}function gM(a,t,e={}){const[i,r,o]=aw(a,e),c=u=>{if(!Jv(u))return;const{target:d}=u,f=t(d,u);if(typeof f!="function"||!d)return;const m=p=>{Jv(p)&&(f(p),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,r)};return i.forEach(u=>{u.addEventListener("pointerenter",c,r)}),o}const rw=(a,t)=>t?a===t?!0:rw(a,t.parentElement):!1,Xm=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,yM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vM(a){return yM.has(a.tagName)||a.isContentEditable===!0}const bM=new Set(["INPUT","SELECT","TEXTAREA"]);function xM(a){return bM.has(a.tagName)||a.isContentEditable===!0}const Kc=new WeakSet;function tb(a){return t=>{t.key==="Enter"&&a(t)}}function uf(a,t){a.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const wM=(a,t)=>{const e=a.currentTarget;if(!e)return;const i=tb(()=>{if(Kc.has(e))return;uf(e,"down");const r=tb(()=>{uf(e,"up")}),o=()=>uf(e,"cancel");e.addEventListener("keyup",r,t),e.addEventListener("blur",o,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function eb(a){return Xm(a)&&!sw()}function AM(a,t,e={}){const[i,r,o]=aw(a,e),c=u=>{const d=u.currentTarget;if(!eb(u))return;Kc.add(d);const f=t(d,u),m=(x,S)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",b),Kc.has(d)&&Kc.delete(d),eb(x)&&typeof f=="function"&&f(x,{success:S})},p=x=>{m(x,d===window||d===document||e.useGlobalTarget||rw(d,x.target))},b=x=>{m(x,!1)};window.addEventListener("pointerup",p,r),window.addEventListener("pointercancel",b,r)};return i.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",c,r),Kf(u)&&(u.addEventListener("focus",f=>wM(f,r)),!vM(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function ow(a){return p1(a)&&"ownerSVGElement"in a}function SM(a){return ow(a)&&a.tagName==="svg"}const EM=[...tw,Ae,bs],TM=a=>EM.find(J1(a)),nb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ka=()=>({x:nb(),y:nb()}),ib=()=>({min:0,max:0}),Ee=()=>({x:ib(),y:ib()}),Qf={current:null},lw={current:!1},CM=typeof window<"u";function _M(){if(lw.current=!0,!!CM)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),t=()=>Qf.current=a.matches;a.addEventListener("change",t),t()}else Qf.current=!1}const MM=new WeakMap;function bu(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function Uo(a){return typeof a=="string"||Array.isArray(a)}const Ym=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wm=["initial",...Ym];function xu(a){return bu(a.animate)||Wm.some(t=>Uo(a[t]))}function cw(a){return!!(xu(a)||a.variants)}function NM(a,t,e){for(const i in t){const r=t[i],o=e[i];if(He(r))a.addValue(i,r);else if(He(o))a.addValue(i,lr(r,{owner:a}));else if(o!==r)if(a.hasValue(i)){const c=a.getValue(i);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=a.getStaticValue(i);a.addValue(i,lr(c!==void 0?c:r,{owner:a}))}}for(const i in e)t[i]===void 0&&a.removeValue(i);return t}const sb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let au={};function uw(a){au=a}function RM(){return au}class DM{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:r,skipAnimations:o,blockInitialAnimation:c,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Im,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ye.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Qt.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=e.initial?{...f}:{},this.renderState=m,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.skipAnimationsConfig=o,this.options=d,this.blockInitialAnimation=!!c,this.isControllingVariants=xu(e),this.isVariantNode=cw(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...b}=this.scrapeMotionValuesFromProps(e,{},this);for(const x in b){const S=b[x];f[x]!==void 0&&He(S)&&S.set(f[x])}}mount(t){this.current=t,MM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(lw.current||_M(),this.shouldReduceMotion=Qf.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),vs(this.notifyUpdate),vs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=gr.has(t);i&&this.onBindTransform&&this.onBindTransform();const r=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Qt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{r(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in au){const e=au[t];if(!e)continue;const{isEnabled:i,Feature:r}=e;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ee()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<sb.length;i++){const r=sb[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,c=t[o];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=NM(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=lr(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(m1(i)||g1(i))?i=parseFloat(i):!TM(i)&&bs.test(e)&&(i=nw(t,e)),this.setBaseTarget(t,He(i)?i.get():i)),He(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const o=Hm(this.props,e,this.presenceContext?.custom);o&&(i=o[t])}if(e&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!He(r)?r:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Nm),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){$m.render(this.render)}}class hw extends DM{constructor(){super(...arguments),this.KeyframeResolver=fM}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const i=t.style;return i?i[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;He(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class Ss{constructor(t){this.isMounted=!1,this.node=t}update(){}}function dw({top:a,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:a,max:i}}}function kM({x:a,y:t}){return{top:t.min,right:a.max,bottom:t.max,left:a.min}}function LM(a,t){if(!t)return a;const e=t({x:a.left,y:a.top}),i=t({x:a.right,y:a.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function hf(a){return a===void 0||a===1}function Zf({scale:a,scaleX:t,scaleY:e}){return!hf(a)||!hf(t)||!hf(e)}function qs(a){return Zf(a)||fw(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function fw(a){return ab(a.x)||ab(a.y)}function ab(a){return a&&a!=="0%"}function ru(a,t,e){const i=a-e,r=t*i;return e+r}function rb(a,t,e,i,r){return r!==void 0&&(a=ru(a,r,i)),ru(a,e,i)+t}function Jf(a,t=0,e=1,i,r){a.min=rb(a.min,t,e,i,r),a.max=rb(a.max,t,e,i,r)}function mw(a,{x:t,y:e}){Jf(a.x,t.translate,t.scale,t.originPoint),Jf(a.y,e.translate,e.scale,e.originPoint)}const ob=.999999999999,lb=1.0000000000001;function PM(a,t,e,i=!1){const r=e.length;if(!r)return;t.x=t.y=1;let o,c;for(let u=0;u<r;u++){o=e[u],c=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Za(a,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,mw(a,c)),i&&qs(o.latestValues)&&Za(a,o.latestValues))}t.x<lb&&t.x>ob&&(t.x=1),t.y<lb&&t.y>ob&&(t.y=1)}function Qa(a,t){a.min=a.min+t,a.max=a.max+t}function cb(a,t,e,i,r=.5){const o=re(a.min,a.max,r);Jf(a,t,e,o,i)}function Za(a,t){cb(a.x,t.x,t.scaleX,t.scale,t.originX),cb(a.y,t.y,t.scaleY,t.scale,t.originY)}function pw(a,t){return dw(LM(a.getBoundingClientRect(),t))}function jM(a,t,e){const i=pw(a,e),{scroll:r}=t;return r&&(Qa(i.x,r.offset.x),Qa(i.y,r.offset.y)),i}const OM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BM=pr.length;function FM(a,t,e){let i="",r=!0;for(let o=0;o<BM;o++){const c=pr[o],u=a[c];if(u===void 0)continue;let d=!0;if(typeof u=="number")d=u===(c.startsWith("scale")?1:0);else{const f=parseFloat(u);d=c.startsWith("scale")?f===1:f===0}if(!d||e){const f=iw(u,qm[c]);if(!d){r=!1;const m=OM[c]||c;i+=`${m}(${f}) `}e&&(t[c]=f)}}return i=i.trim(),e?i=e(t,r?"":i):r&&(i="none"),i}function Km(a,t,e){const{style:i,vars:r,transformOrigin:o}=a;let c=!1,u=!1;for(const d in t){const f=t[d];if(gr.has(d)){c=!0;continue}else if(R1(d)){r[d]=f;continue}else{const m=iw(f,qm[d]);d.startsWith("origin")?(u=!0,o[d]=m):i[d]=m}}if(t.transform||(c||e?i.transform=FM(t,a.transform,e):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:m=0}=o;i.transformOrigin=`${d} ${f} ${m}`}}function gw(a,{style:t,vars:e},i,r){const o=a.style;let c;for(c in t)o[c]=t[c];r?.applyProjectionStyles(o,i);for(c in e)o.setProperty(c,e[c])}function ub(a,t){return t.max===t.min?0:a/(t.max-t.min)*100}const bo={correct:(a,t)=>{if(!t.target)return a;if(typeof a=="string")if(ot.test(a))a=parseFloat(a);else return a;const e=ub(a,t.target.x),i=ub(a,t.target.y);return`${e}% ${i}%`}},zM={correct:(a,{treeScale:t,projectionDelta:e})=>{const i=a,r=bs.parse(a);if(r.length>5)return i;const o=bs.createTransformer(a),c=typeof r[0]!="number"?1:0,u=e.x.scale*t.x,d=e.y.scale*t.y;r[0+c]/=u,r[1+c]/=d;const f=re(u,d,.5);return typeof r[2+c]=="number"&&(r[2+c]/=f),typeof r[3+c]=="number"&&(r[3+c]/=f),o(r)}},tm={borderRadius:{...bo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bo,borderTopRightRadius:bo,borderBottomLeftRadius:bo,borderBottomRightRadius:bo,boxShadow:zM};function yw(a,{layout:t,layoutId:e}){return gr.has(a)||a.startsWith("origin")||(t||e!==void 0)&&(!!tm[a]||a==="opacity")}function Qm(a,t,e){const i=a.style,r=t?.style,o={};if(!i)return o;for(const c in i)(He(i[c])||r&&He(r[c])||yw(c,a)||e?.getValue(c)?.liveStyle!==void 0)&&(o[c]=i[c]);return o}function IM(a){return window.getComputedStyle(a)}class UM extends hw{constructor(){super(...arguments),this.type="html",this.renderInstance=gw}readValueFromInstance(t,e){if(gr.has(e))return this.projection?.isProjecting?If(e):m_(t,e);{const i=IM(t),r=(R1(e)?i.getPropertyValue(e):i[e])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:e}){return pw(t,e)}build(t,e,i){Km(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return Qm(t,e,i)}}const VM={offset:"stroke-dashoffset",array:"stroke-dasharray"},HM={offset:"strokeDashoffset",array:"strokeDasharray"};function GM(a,t,e=1,i=0,r=!0){a.pathLength=1;const o=r?VM:HM;a[o.offset]=`${-i}`,a[o.array]=`${t} ${e}`}const qM=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function vw(a,{attrX:t,attrY:e,attrScale:i,pathLength:r,pathSpacing:o=1,pathOffset:c=0,...u},d,f,m){if(Km(a,u,f),d){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:p,style:b}=a;p.transform&&(b.transform=p.transform,delete p.transform),(b.transform||p.transformOrigin)&&(b.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),b.transform&&(b.transformBox=m?.transformBox??"fill-box",delete p.transformBox);for(const x of qM)p[x]!==void 0&&(b[x]=p[x],delete p[x]);t!==void 0&&(p.x=t),e!==void 0&&(p.y=e),i!==void 0&&(p.scale=i),r!==void 0&&GM(p,r,o,c,!1)}const bw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),xw=a=>typeof a=="string"&&a.toLowerCase()==="svg";function $M(a,t,e,i){gw(a,t,void 0,i);for(const r in t.attrs)a.setAttribute(bw.has(r)?r:Gm(r),t.attrs[r])}function ww(a,t,e){const i=Qm(a,t,e);for(const r in a)if(He(a[r])||He(t[r])){const o=pr.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=a[r]}return i}class XM extends hw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ee}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(gr.has(e)){const i=ew(e);return i&&i.default||0}return e=bw.has(e)?e:Gm(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return ww(t,e,i)}build(t,e,i){vw(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,r){$M(t,e,i,r)}mount(t){this.isSVGTag=xw(t.tagName),super.mount(t)}}const YM=Wm.length;function Aw(a){if(!a)return;if(!a.isControllingVariants){const e=a.parent?Aw(a.parent)||{}:{};return a.props.initial!==void 0&&(e.initial=a.props.initial),e}const t={};for(let e=0;e<YM;e++){const i=Wm[e],r=a.props[i];(Uo(r)||r===!1)&&(t[i]=r)}return t}function Sw(a,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==a.length)return!1;for(let i=0;i<e;i++)if(t[i]!==a[i])return!1;return!0}const WM=[...Ym].reverse(),KM=Ym.length;function QM(a){return t=>Promise.all(t.map(({animation:e,options:i})=>iM(a,e,i)))}function ZM(a){let t=QM(a),e=hb(),i=!0;const r=d=>(f,m)=>{const p=er(a,m,d==="exit"?a.presenceContext?.custom:void 0);if(p){const{transition:b,transitionEnd:x,...S}=p;f={...f,...S,...x}}return f};function o(d){t=d(a)}function c(d){const{props:f}=a,m=Aw(a.parent)||{},p=[],b=new Set;let x={},S=1/0;for(let T=0;T<KM;T++){const E=WM[T],C=e[E],M=f[E]!==void 0?f[E]:m[E],R=Uo(M),D=E===d?C.isActive:null;D===!1&&(S=T);let P=M===m[E]&&M!==f[E]&&R;if(P&&i&&a.manuallyAnimateOnMount&&(P=!1),C.protectedKeys={...x},!C.isActive&&D===null||!M&&!C.prevProp||bu(M)||typeof M=="boolean")continue;const j=JM(C.prevProp,M);let F=j||E===d&&C.isActive&&!P&&R||T>S&&R,H=!1;const Y=Array.isArray(M)?M:[M];let J=Y.reduce(r(E),{});D===!1&&(J={});const{prevResolvedValues:at={}}=C,ft={...at,...J},rt=V=>{F=!0,b.has(V)&&(H=!0,b.delete(V)),C.needsAnimating[V]=!0;const Q=a.getValue(V);Q&&(Q.liveStyle=!1)};for(const V in ft){const Q=J[V],lt=at[V];if(x.hasOwnProperty(V))continue;let xt=!1;$f(Q)&&$f(lt)?xt=!Sw(Q,lt):xt=Q!==lt,xt?Q!=null?rt(V):b.add(V):Q!==void 0&&b.has(V)?rt(V):C.protectedKeys[V]=!0}C.prevProp=M,C.prevResolvedValues=J,C.isActive&&(x={...x,...J}),i&&a.blockInitialAnimation&&(F=!1);const vt=P&&j;F&&(!vt||H)&&p.push(...Y.map(V=>{const Q={type:E};if(typeof V=="string"&&i&&!vt&&a.manuallyAnimateOnMount&&a.parent){const{parent:lt}=a,xt=er(lt,V);if(lt.enteringChildren&&xt){const{delayChildren:L}=xt.transition||{};Q.delay=X1(lt.enteringChildren,a,L)}}return{animation:V,options:Q}}))}if(b.size){const T={};if(typeof f.initial!="boolean"){const E=er(a,Array.isArray(f.initial)?f.initial[0]:f.initial);E&&E.transition&&(T.transition=E.transition)}b.forEach(E=>{const C=a.getBaseTarget(E),M=a.getValue(E);M&&(M.liveStyle=!0),T[E]=C??null}),p.push({animation:T})}let w=!!p.length;return i&&(f.initial===!1||f.initial===f.animate)&&!a.manuallyAnimateOnMount&&(w=!1),i=!1,w?t(p):Promise.resolve()}function u(d,f){if(e[d].isActive===f)return Promise.resolve();a.variantChildren?.forEach(p=>p.animationState?.setActive(d,f)),e[d].isActive=f;const m=c(d);for(const p in e)e[p].protectedKeys={};return m}return{animateChanges:c,setActive:u,setAnimateFunction:o,getState:()=>e,reset:()=>{e=hb()}}}function JM(a,t){return typeof t=="string"?t!==a:Array.isArray(t)?!Sw(t,a):!1}function Hs(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hb(){return{animate:Hs(!0),whileInView:Hs(),whileHover:Hs(),whileTap:Hs(),whileDrag:Hs(),whileFocus:Hs(),exit:Hs()}}function db(a,t){a.min=t.min,a.max=t.max}function Xn(a,t){db(a.x,t.x),db(a.y,t.y)}function fb(a,t){a.translate=t.translate,a.scale=t.scale,a.originPoint=t.originPoint,a.origin=t.origin}const Ew=1e-4,tN=1-Ew,eN=1+Ew,Tw=.01,nN=0-Tw,iN=0+Tw;function We(a){return a.max-a.min}function sN(a,t,e){return Math.abs(a-t)<=e}function mb(a,t,e,i=.5){a.origin=i,a.originPoint=re(t.min,t.max,a.origin),a.scale=We(e)/We(t),a.translate=re(e.min,e.max,a.origin)-a.originPoint,(a.scale>=tN&&a.scale<=eN||isNaN(a.scale))&&(a.scale=1),(a.translate>=nN&&a.translate<=iN||isNaN(a.translate))&&(a.translate=0)}function ko(a,t,e,i){mb(a.x,t.x,e.x,i?i.originX:void 0),mb(a.y,t.y,e.y,i?i.originY:void 0)}function pb(a,t,e){a.min=e.min+t.min,a.max=a.min+We(t)}function aN(a,t,e){pb(a.x,t.x,e.x),pb(a.y,t.y,e.y)}function gb(a,t,e){a.min=t.min-e.min,a.max=a.min+We(t)}function ou(a,t,e){gb(a.x,t.x,e.x),gb(a.y,t.y,e.y)}function yb(a,t,e,i,r){return a-=t,a=ru(a,1/e,i),r!==void 0&&(a=ru(a,1/r,i)),a}function rN(a,t=0,e=1,i=.5,r,o=a,c=a){if(ui.test(t)&&(t=parseFloat(t),t=re(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=re(o.min,o.max,i);a===o&&(u-=t),a.min=yb(a.min,t,e,u,r),a.max=yb(a.max,t,e,u,r)}function vb(a,t,[e,i,r],o,c){rN(a,t[e],t[i],t[r],t.scale,o,c)}const oN=["x","scaleX","originX"],lN=["y","scaleY","originY"];function bb(a,t,e,i){vb(a.x,t,oN,e?e.x:void 0,i?i.x:void 0),vb(a.y,t,lN,e?e.y:void 0,i?i.y:void 0)}function xb(a){return a.translate===0&&a.scale===1}function Cw(a){return xb(a.x)&&xb(a.y)}function wb(a,t){return a.min===t.min&&a.max===t.max}function cN(a,t){return wb(a.x,t.x)&&wb(a.y,t.y)}function Ab(a,t){return Math.round(a.min)===Math.round(t.min)&&Math.round(a.max)===Math.round(t.max)}function _w(a,t){return Ab(a.x,t.x)&&Ab(a.y,t.y)}function Sb(a){return We(a.x)/We(a.y)}function Eb(a,t){return a.translate===t.translate&&a.scale===t.scale&&a.originPoint===t.originPoint}function Bn(a){return[a("x"),a("y")]}function uN(a,t,e){let i="";const r=a.x.translate/t.x,o=a.y.translate/t.y,c=e?.z||0;if((r||o||c)&&(i=`translate3d(${r}px, ${o}px, ${c}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:f,rotate:m,rotateX:p,rotateY:b,skewX:x,skewY:S}=e;f&&(i=`perspective(${f}px) ${i}`),m&&(i+=`rotate(${m}deg) `),p&&(i+=`rotateX(${p}deg) `),b&&(i+=`rotateY(${b}deg) `),x&&(i+=`skewX(${x}deg) `),S&&(i+=`skewY(${S}deg) `)}const u=a.x.scale*t.x,d=a.y.scale*t.y;return(u!==1||d!==1)&&(i+=`scale(${u}, ${d})`),i||"none"}const Mw=["TopLeft","TopRight","BottomLeft","BottomRight"],hN=Mw.length,Tb=a=>typeof a=="string"?parseFloat(a):a,Cb=a=>typeof a=="number"||ot.test(a);function dN(a,t,e,i,r,o){r?(a.opacity=re(0,e.opacity??1,fN(i)),a.opacityExit=re(t.opacity??1,0,mN(i))):o&&(a.opacity=re(t.opacity??1,e.opacity??1,i));for(let c=0;c<hN;c++){const u=`border${Mw[c]}Radius`;let d=_b(t,u),f=_b(e,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||Cb(d)===Cb(f)?(a[u]=Math.max(re(Tb(d),Tb(f),i),0),(ui.test(f)||ui.test(d))&&(a[u]+="%")):a[u]=f}(t.rotate||e.rotate)&&(a.rotate=re(t.rotate||0,e.rotate||0,i))}function _b(a,t){return a[t]!==void 0?a[t]:a.borderRadius}const fN=Nw(0,.5,E1),mN=Nw(.5,.95,zn);function Nw(a,t,e){return i=>i<a?0:i>t?1:e(Fo(a,t,i))}function pN(a,t,e){const i=He(a)?a:lr(a);return i.start(Vm("",i,t,e)),i.animation}function Vo(a,t,e,i={passive:!0}){return a.addEventListener(t,e,i),()=>a.removeEventListener(t,e)}const gN=(a,t)=>a.depth-t.depth;class yN{constructor(){this.children=[],this.isDirty=!1}add(t){Tm(this.children,t),this.isDirty=!0}remove(t){Cm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(gN),this.isDirty=!1,this.children.forEach(t)}}function vN(a,t){const e=Ye.now(),i=({timestamp:r})=>{const o=r-e;o>=t&&(vs(i),a(o-t))};return Qt.setup(i,!0),()=>vs(i)}function Qc(a){return He(a)?a.get():a}class bN{constructor(){this.members=[]}add(t){Tm(this.members,t),t.scheduleRender()}remove(t){if(Cm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(r=>t===r);if(e===0)return!1;let i;for(let r=e;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const r=i.options.layoutDependency,o=t.options.layoutDependency;r!==void 0&&o!==void 0&&r===o||(t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:u}=t.options;u===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Zc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},df=["","X","Y","Z"],xN=1e3;let wN=0;function ff(a,t,e,i){const{latestValues:r}=t;r[a]&&(e[a]=r[a],t.setStaticValue(a,0),i&&(i[a]=0))}function Rw(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:t}=a.options;if(!t)return;const e=Q1(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:r,layoutId:o}=a.options;window.MotionCancelOptimisedAnimation(e,"transform",Qt,!(r||o))}const{parent:i}=a;i&&!i.hasCheckedOptimisedAppear&&Rw(i)}function Dw({attachResizeListener:a,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(c={},u=t?.()){this.id=wN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(EN),this.nodes.forEach(MN),this.nodes.forEach(NN),this.nodes.forEach(TN)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new yN)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Nm),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const d=this.eventHandlers.get(c);d&&d.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=ow(c)&&!SM(c),this.instance=c;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),a){let m,p=0;const b=()=>this.root.updateBlockedByResize=!1;Qt.read(()=>{p=window.innerWidth}),a(c,()=>{const x=window.innerWidth;x!==p&&(p=x,this.root.updateBlockedByResize=!0,m&&m(),m=vN(b,250),Zc.hasAnimatedSinceResize&&(Zc.hasAnimatedSinceResize=!1,this.nodes.forEach(Rb)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p,hasRelativeLayoutChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||PN,{onLayoutAnimationStart:w,onLayoutAnimationComplete:T}=f.getProps(),E=!this.targetLayout||!_w(this.targetLayout,x),C=!p&&b;if(this.options.layoutRoot||this.resumeFrom||C||p&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...Um(S,"layout"),onPlay:w,onComplete:T};(f.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(m,C)}else p||Rb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),vs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RN),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Rw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const p=this.path[m];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Nb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_N),this.nodes.forEach(AN),this.nodes.forEach(SN)):this.nodes.forEach(Nb),this.clearAllSnapshots();const u=Ye.now();Be.delta=di(0,1e3/60,u-Be.timestamp),Be.timestamp=u,Be.isProcessing=!0,sf.update.process(Be),sf.preRender.process(Be),sf.render.process(Be),Be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$m.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(CN),this.sharedNodes.forEach(DN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!We(this.snapshot.measuredBox.x)&&!We(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Cw(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;c&&this.instance&&(u||qs(this.latestValues)||m)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return c&&(d=this.removeTransform(d)),jN(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ee();const u=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ON))){const{scroll:f}=this.root;f&&(Qa(u.x,f.offset.x),Qa(u.y,f.offset.y))}return u}removeElementScroll(c){const u=Ee();if(Xn(u,c),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:p}=f;f!==this.root&&m&&p.layoutScroll&&(m.wasRoot&&Xn(u,c),Qa(u.x,m.offset.x),Qa(u.y,m.offset.y))}return u}applyTransform(c,u=!1){const d=Ee();Xn(d,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Za(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),qs(m.latestValues)&&Za(d,m.latestValues)}return qs(this.latestValues)&&Za(d,this.latestValues),d}removeTransform(c){const u=Ee();Xn(u,c);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!qs(f.latestValues))continue;Zf(f.latestValues)&&f.updateSnapshot();const m=Ee(),p=f.measurePageBox();Xn(m,p),bb(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return qs(this.latestValues)&&bb(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:p}=this.options;if(!this.layout||!(m||p))return;this.resolvedRelativeTargetAt=Be.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ee(),this.targetWithTransforms=Ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xn(this.target,this.layout.layoutBox),mw(this.target,this.targetDelta)):Xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Zf(this.parent.latestValues)||fw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,u,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),ou(this.relativeTargetOrigin,u,d),Xn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),u=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Be.timestamp&&(d=!1),d)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;Xn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,b=this.treeScale.y;PM(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ee());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fb(this.prevProjectionDelta.x,this.projectionDelta.x),fb(this.prevProjectionDelta.y,this.projectionDelta.y)),ko(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==b||!Eb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Eb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ka(),this.projectionDelta=Ka(),this.projectionDeltaWithTransform=Ka()}setAnimationOrigin(c,u=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},p=Ka();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=Ee(),x=d?d.source:void 0,S=this.layout?this.layout.source:void 0,w=x!==S,T=this.getStack(),E=!T||T.members.length<=1,C=!!(w&&!E&&this.options.crossfade===!0&&!this.path.some(LN));this.animationProgress=0;let M;this.mixTargetDelta=R=>{const D=R/1e3;Db(p.x,c.x,D),Db(p.y,c.y,D),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ou(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kN(this.relativeTarget,this.relativeTargetOrigin,b,D),M&&cN(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Ee()),Xn(M,this.relativeTarget)),w&&(this.animationValues=m,dN(m,f,this.latestValues,D,C,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(vs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qt.update(()=>{Zc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=lr(0)),this.currentAnimation=pN(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:m}=c;if(!(!u||!d||!f)){if(this!==c&&this.layout&&f&&kw(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Ee();const p=We(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+p;const b=We(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+b}Xn(u,d),Za(u,m),ko(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new bN),this.sharedNodes.get(c).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&ff("z",c,f,this.animationValues);for(let m=0;m<df.length;m++)ff(`rotate${df[m]}`,c,f,this.animationValues),ff(`skew${df[m]}`,c,f,this.animationValues);c.render();for(const m in f)c.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Qc(u?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Qc(u?.pointerEvents)||""),this.hasProjected&&!qs(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=uN(this.projectionDeltaWithTransform,this.treeScale,m);d&&(p=d(m,p)),c.transform=p;const{x:b,y:x}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${x.origin*100}% 0`,f.animationValues?c.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in tm){if(m[S]===void 0)continue;const{correct:w,applyTo:T,isCSSVariable:E}=tm[S],C=p==="none"?m[S]:w(m[S],f);if(T){const M=T.length;for(let R=0;R<M;R++)c[T[R]]=C}else E?this.options.visualElement.renderState.vars[S]=C:c[S]=C}this.options.layoutId&&(c.pointerEvents=f===this?Qc(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Mb),this.root.sharedNodes.clear()}}}function AN(a){a.updateLayout()}function SN(a){const t=a.resumeFrom?.snapshot||a.snapshot;if(a.isLead()&&a.layout&&t&&a.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=a.layout,{animationType:r}=a.options,o=t.source!==a.layout.source;r==="size"?Bn(m=>{const p=o?t.measuredBox[m]:t.layoutBox[m],b=We(p);p.min=e[m].min,p.max=p.min+b}):kw(r,t.layoutBox,e)&&Bn(m=>{const p=o?t.measuredBox[m]:t.layoutBox[m],b=We(e[m]);p.max=p.min+b,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[m].max=a.relativeTarget[m].min+b)});const c=Ka();ko(c,e,t.layoutBox);const u=Ka();o?ko(u,a.applyTransform(i,!0),t.measuredBox):ko(u,e,t.layoutBox);const d=!Cw(c);let f=!1;if(!a.resumeFrom){const m=a.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:b}=m;if(p&&b){const x=Ee();ou(x,t.layoutBox,p.layoutBox);const S=Ee();ou(S,e,b.layoutBox),_w(x,S)||(f=!0),m.options.layoutRoot&&(a.relativeTarget=S,a.relativeTargetOrigin=x,a.relativeParent=m)}}}a.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:u,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(a.isLead()){const{onExitComplete:e}=a.options;e&&e()}a.options.transition=void 0}function EN(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function TN(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function CN(a){a.clearSnapshot()}function Mb(a){a.clearMeasurements()}function Nb(a){a.isLayoutDirty=!1}function _N(a){const{visualElement:t}=a.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),a.resetTransform()}function Rb(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function MN(a){a.resolveTargetDelta()}function NN(a){a.calcProjection()}function RN(a){a.resetSkewAndRotation()}function DN(a){a.removeLeadSnapshot()}function Db(a,t,e){a.translate=re(t.translate,0,e),a.scale=re(t.scale,1,e),a.origin=t.origin,a.originPoint=t.originPoint}function kb(a,t,e,i){a.min=re(t.min,e.min,i),a.max=re(t.max,e.max,i)}function kN(a,t,e,i){kb(a.x,t.x,e.x,i),kb(a.y,t.y,e.y,i)}function LN(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const PN={duration:.45,ease:[.4,0,.1,1]},Lb=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),Pb=Lb("applewebkit/")&&!Lb("chrome/")?Math.round:zn;function jb(a){a.min=Pb(a.min),a.max=Pb(a.max)}function jN(a){jb(a.x),jb(a.y)}function kw(a,t,e){return a==="position"||a==="preserve-aspect"&&!sN(Sb(t),Sb(e),.2)}function ON(a){return a!==a.root&&a.scroll?.wasRoot}const BN=Dw({attachResizeListener:(a,t)=>Vo(a,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),mf={current:void 0},Lw=Dw({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!mf.current){const a=new BN({});a.mount(window),a.setOptions({layoutScroll:!0}),mf.current=a}return mf.current},resetTransform:(a,t)=>{a.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),Zm=N.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});function Ob(a,t){if(typeof a=="function")return a(t);a!=null&&(a.current=t)}function FN(...a){return t=>{let e=!1;const i=a.map(r=>{const o=Ob(r,t);return!e&&typeof o=="function"&&(e=!0),o});if(e)return()=>{for(let r=0;r<i.length;r++){const o=i[r];typeof o=="function"?o():Ob(a[r],null)}}}}function zN(...a){return N.useCallback(FN(...a),a)}class IN extends N.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,r=Kf(i)&&i.offsetWidth||0,o=Kf(i)&&i.offsetHeight||0,c=this.props.sizeRef.current;c.height=e.offsetHeight||0,c.width=e.offsetWidth||0,c.top=e.offsetTop,c.left=e.offsetLeft,c.right=r-c.width-c.left,c.bottom=o-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function UN({children:a,isPresent:t,anchorX:e,anchorY:i,root:r}){const o=N.useId(),c=N.useRef(null),u=N.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=N.useContext(Zm),f=a.props?.ref??a?.ref,m=zN(c,f);return N.useInsertionEffect(()=>{const{width:p,height:b,top:x,left:S,right:w,bottom:T}=u.current;if(t||!c.current||!p||!b)return;const E=e==="left"?`left: ${S}`:`right: ${w}`,C=i==="bottom"?`bottom: ${T}`:`top: ${x}`;c.current.dataset.motionPopId=o;const M=document.createElement("style");d&&(M.nonce=d);const R=r??document.head;return R.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${b}px !important;
            ${E}px !important;
            ${C}px !important;
          }
        `),()=>{R.contains(M)&&R.removeChild(M)}},[t]),v.jsx(IN,{isPresent:t,childRef:c,sizeRef:u,children:N.cloneElement(a,{ref:m})})}const VN=({children:a,initial:t,isPresent:e,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:c,anchorX:u,anchorY:d,root:f})=>{const m=Em(HN),p=N.useId();let b=!0,x=N.useMemo(()=>(b=!1,{id:p,initial:t,isPresent:e,custom:r,onExitComplete:S=>{m.set(S,!0);for(const w of m.values())if(!w)return;i&&i()},register:S=>(m.set(S,!1),()=>m.delete(S))}),[e,m,i]);return o&&b&&(x={...x}),N.useMemo(()=>{m.forEach((S,w)=>m.set(w,!1))},[e]),N.useEffect(()=>{!e&&!m.size&&i&&i()},[e]),c==="popLayout"&&(a=v.jsx(UN,{isPresent:e,anchorX:u,anchorY:d,root:f,children:a})),v.jsx(vu.Provider,{value:x,children:a})};function HN(){return new Map}function Pw(a=!0){const t=N.useContext(vu);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:r}=t,o=N.useId();N.useEffect(()=>{if(a)return r(o)},[a]);const c=N.useCallback(()=>a&&i&&i(o),[o,i,a]);return!e&&i?[!1,c]:[!0]}const jc=a=>a.key||"";function Bb(a){const t=[];return N.Children.forEach(a,e=>{N.isValidElement(e)&&t.push(e)}),t}const ta=({children:a,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:o="sync",propagate:c=!1,anchorX:u="left",anchorY:d="top",root:f})=>{const[m,p]=Pw(c),b=N.useMemo(()=>Bb(a),[a]),x=c&&!m?[]:b.map(jc),S=N.useRef(!0),w=N.useRef(b),T=Em(()=>new Map),E=N.useRef(new Set),[C,M]=N.useState(b),[R,D]=N.useState(b);f1(()=>{S.current=!1,w.current=b;for(let F=0;F<R.length;F++){const H=jc(R[F]);x.includes(H)?(T.delete(H),E.current.delete(H)):T.get(H)!==!0&&T.set(H,!1)}},[R,x.length,x.join("-")]);const P=[];if(b!==C){let F=[...b];for(let H=0;H<R.length;H++){const Y=R[H],J=jc(Y);x.includes(J)||(F.splice(H,0,Y),P.push(Y))}return o==="wait"&&P.length&&(F=P),D(Bb(F)),M(b),null}const{forceRender:j}=N.useContext(Sm);return v.jsx(v.Fragment,{children:R.map(F=>{const H=jc(F),Y=c&&!m?!1:b===R||x.includes(H),J=()=>{if(E.current.has(H))return;if(E.current.add(H),T.has(H))T.set(H,!0);else return;let at=!0;T.forEach(ft=>{ft||(at=!1)}),at&&(j?.(),D(w.current),c&&p?.(),i&&i())};return v.jsx(VN,{isPresent:Y,initial:!S.current||e?void 0:!1,custom:t,presenceAffectsLayout:r,mode:o,root:f,onExitComplete:Y?void 0:J,anchorX:u,anchorY:d,children:F},H)})})},jw=N.createContext({strict:!1}),Fb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let zb=!1;function GN(){if(zb)return;const a={};for(const t in Fb)a[t]={isEnabled:e=>Fb[t].some(i=>!!e[i])};uw(a),zb=!0}function Ow(){return GN(),RM()}function qN(a){const t=Ow();for(const e in a)t[e]={...t[e],...a[e]};uw(t)}const $N=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lu(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||$N.has(a)}let Bw=a=>!lu(a);function XN(a){typeof a=="function"&&(Bw=t=>t.startsWith("on")?!lu(t):a(t))}try{XN(require("@emotion/is-prop-valid").default)}catch{}function YN(a,t,e){const i={};for(const r in a)r==="values"&&typeof a.values=="object"||(Bw(r)||e===!0&&lu(r)||!t&&!lu(r)||a.draggable&&r.startsWith("onDrag"))&&(i[r]=a[r]);return i}const wu=N.createContext({});function WN(a,t){if(xu(a)){const{initial:e,animate:i}=a;return{initial:e===!1||Uo(e)?e:void 0,animate:Uo(i)?i:void 0}}return a.inherit!==!1?t:{}}function KN(a){const{initial:t,animate:e}=WN(a,N.useContext(wu));return N.useMemo(()=>({initial:t,animate:e}),[Ib(t),Ib(e)])}function Ib(a){return Array.isArray(a)?a.join(" "):a}const Jm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Fw(a,t,e){for(const i in t)!He(t[i])&&!yw(i,e)&&(a[i]=t[i])}function QN({transformTemplate:a},t){return N.useMemo(()=>{const e=Jm();return Km(e,t,a),Object.assign({},e.vars,e.style)},[t])}function ZN(a,t){const e=a.style||{},i={};return Fw(i,e,a),Object.assign(i,QN(a,t)),i}function JN(a,t){const e={},i=ZN(a,t);return a.drag&&a.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(e.tabIndex=0),e.style=i,e}const zw=()=>({...Jm(),attrs:{}});function tR(a,t,e,i){const r=N.useMemo(()=>{const o=zw();return vw(o,t,xw(i),a.transformTemplate,a.style),{...o.attrs,style:{...o.style}}},[t]);if(a.style){const o={};Fw(o,a.style,a),r.style={...o,...r.style}}return r}const eR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tp(a){return typeof a!="string"||a.includes("-")?!1:!!(eR.indexOf(a)>-1||/[A-Z]/u.test(a))}function nR(a,t,e,{latestValues:i},r,o=!1,c){const d=(c??tp(a)?tR:JN)(t,i,r,a),f=YN(t,typeof a=="string",o),m=a!==N.Fragment?{...f,...d,ref:e}:{},{children:p}=t,b=N.useMemo(()=>He(p)?p.get():p,[p]);return N.createElement(a,{...m,children:b})}function iR({scrapeMotionValuesFromProps:a,createRenderState:t},e,i,r){return{latestValues:sR(e,i,r,a),renderState:t()}}function sR(a,t,e,i){const r={},o=i(a,{});for(const b in o)r[b]=Qc(o[b]);let{initial:c,animate:u}=a;const d=xu(a),f=cw(a);t&&f&&!d&&a.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let m=e?e.initial===!1:!1;m=m||c===!1;const p=m?u:c;if(p&&typeof p!="boolean"&&!bu(p)){const b=Array.isArray(p)?p:[p];for(let x=0;x<b.length;x++){const S=Hm(a,b[x]);if(S){const{transitionEnd:w,transition:T,...E}=S;for(const C in E){let M=E[C];if(Array.isArray(M)){const R=m?M.length-1:0;M=M[R]}M!==null&&(r[C]=M)}for(const C in w)r[C]=w[C]}}}return r}const Iw=a=>(t,e)=>{const i=N.useContext(wu),r=N.useContext(vu),o=()=>iR(a,t,i,r);return e?o():Em(o)},aR=Iw({scrapeMotionValuesFromProps:Qm,createRenderState:Jm}),rR=Iw({scrapeMotionValuesFromProps:ww,createRenderState:zw}),oR=Symbol.for("motionComponentSymbol");function lR(a,t,e){const i=N.useRef(e);N.useInsertionEffect(()=>{i.current=e});const r=N.useRef(null);return N.useCallback(o=>{o&&a.onMount?.(o),t&&(o?t.mount(o):t.unmount());const c=i.current;if(typeof c=="function")if(o){const u=c(o);typeof u=="function"&&(r.current=u)}else r.current?(r.current(),r.current=null):c(o);else c&&(c.current=o)},[t])}const Uw=N.createContext({});function Co(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function cR(a,t,e,i,r,o){const{visualElement:c}=N.useContext(wu),u=N.useContext(jw),d=N.useContext(vu),f=N.useContext(Zm),m=f.reducedMotion,p=f.skipAnimations,b=N.useRef(null),x=N.useRef(!1);i=i||u.renderer,!b.current&&i&&(b.current=i(a,{visualState:t,parent:c,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,skipAnimations:p,isSVG:o}),x.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const S=b.current,w=N.useContext(Uw);S&&!S.projection&&r&&(S.type==="html"||S.type==="svg")&&uR(b.current,e,r,w);const T=N.useRef(!1);N.useInsertionEffect(()=>{S&&T.current&&S.update(e,d)});const E=e[K1],C=N.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return f1(()=>{x.current=!0,S&&(T.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),S.scheduleRenderMicrotask(),C.current&&S.animationState&&S.animationState.animateChanges())}),N.useEffect(()=>{S&&(!C.current&&S.animationState&&S.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),C.current=!1),S.enteringChildren=void 0)}),S}function uR(a,t,e,i){const{layoutId:r,layout:o,drag:c,dragConstraints:u,layoutScroll:d,layoutRoot:f,layoutCrossfade:m}=t;a.projection=new e(a.latestValues,t["data-framer-portal-id"]?void 0:Vw(a.parent)),a.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!c||u&&Co(u),visualElement:a,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:d,layoutRoot:f})}function Vw(a){if(a)return a.options.allowProjection!==!1?a.projection:Vw(a.parent)}function pf(a,{forwardMotionProps:t=!1,type:e}={},i,r){i&&qN(i);const o=e?e==="svg":tp(a),c=o?rR:aR;function u(f,m){let p;const b={...N.useContext(Zm),...f,layoutId:hR(f)},{isStatic:x}=b,S=KN(f),w=c(f,x);if(!x&&d1){dR();const T=fR(b);p=T.MeasureLayout,S.visualElement=cR(a,w,b,r,T.ProjectionNode,o)}return v.jsxs(wu.Provider,{value:S,children:[p&&S.visualElement?v.jsx(p,{visualElement:S.visualElement,...b}):null,nR(a,f,lR(w,S.visualElement,m),w,x,t,o)]})}u.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const d=N.forwardRef(u);return d[oR]=a,d}function hR({layoutId:a}){const t=N.useContext(Sm).id;return t&&a!==void 0?t+"-"+a:a}function dR(a,t){N.useContext(jw).strict}function fR(a){const t=Ow(),{drag:e,layout:i}=t;if(!e&&!i)return{};const r={...e,...i};return{MeasureLayout:e?.isEnabled(a)||i?.isEnabled(a)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function mR(a,t){if(typeof Proxy>"u")return pf;const e=new Map,i=(o,c)=>pf(o,c,a,t),r=(o,c)=>i(o,c);return new Proxy(r,{get:(o,c)=>c==="create"?i:(e.has(c)||e.set(c,pf(c,void 0,a,t)),e.get(c))})}const pR=(a,t)=>t.isSVG??tp(a)?new XM(t):new UM(t,{allowProjection:a!==N.Fragment});class gR extends Ss{constructor(t){super(t),t.animationState||(t.animationState=ZM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();bu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let yR=0;class vR extends Ss{constructor(){super(...arguments),this.id=yR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const bR={animation:{Feature:gR},exit:{Feature:vR}};function el(a){return{point:{x:a.pageX,y:a.pageY}}}const xR=a=>t=>Xm(t)&&a(t,el(t));function Lo(a,t,e,i){return Vo(a,t,xR(e),i)}const Hw=({current:a})=>a?a.ownerDocument.defaultView:null,Ub=(a,t)=>Math.abs(a-t);function wR(a,t){const e=Ub(a.x,t.x),i=Ub(a.y,t.y);return Math.sqrt(e**2+i**2)}const Vb=new Set(["auto","scroll"]);class Gw{constructor(t,e,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=yf(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,w=wR(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!w)return;const{point:T}=x,{timestamp:E}=Be;this.history.push({...T,timestamp:E});const{onStart:C,onMove:M}=this.handlers;S||(C&&C(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,x)},this.handlePointerMove=(x,S)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=gf(S,this.transformPagePoint),Qt.update(this.updatePoint,!0)},this.handlePointerUp=(x,S)=>{this.end();const{onEnd:w,onSessionEnd:T,resumeAnimation:E}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=yf(x.type==="pointercancel"?this.lastMoveEventInfo:gf(S,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,C),T&&T(x,C)},!Xm(t))return;this.dragSnapToOrigin=o,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=r||window;const d=el(t),f=gf(d,this.transformPagePoint),{point:m}=f,{timestamp:p}=Be;this.history=[{...m,timestamp:p}];const{onSessionStart:b}=e;b&&b(t,yf(f,this.history)),this.removeListeners=Zo(Lo(this.contextWindow,"pointermove",this.handlePointerMove),Lo(this.contextWindow,"pointerup",this.handlePointerUp),Lo(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(t){let e=t.parentElement;for(;e;){const i=getComputedStyle(e);(Vb.has(i.overflowX)||Vb.has(i.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const i=t===window,r=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:r.x-e.x,y:r.y-e.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,r),Qt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),vs(this.updatePoint)}}function gf(a,t){return t?{point:t(a.point)}:a}function Hb(a,t){return{x:a.x-t.x,y:a.y-t.y}}function yf({point:a},t){return{point:a,delta:Hb(a,qw(t)),offset:Hb(a,AR(t)),velocity:SR(t,.1)}}function AR(a){return a[0]}function qw(a){return a[a.length-1]}function SR(a,t){if(a.length<2)return{x:0,y:0};let e=a.length-1,i=null;const r=qw(a);for(;e>=0&&(i=a[e],!(r.timestamp-i.timestamp>Oi(t)));)e--;if(!i)return{x:0,y:0};const o=Fn(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const c={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function ER(a,{min:t,max:e},i){return t!==void 0&&a<t?a=i?re(t,a,i.min):Math.max(a,t):e!==void 0&&a>e&&(a=i?re(e,a,i.max):Math.min(a,e)),a}function Gb(a,t,e){return{min:t!==void 0?a.min+t:void 0,max:e!==void 0?a.max+e-(a.max-a.min):void 0}}function TR(a,{top:t,left:e,bottom:i,right:r}){return{x:Gb(a.x,e,r),y:Gb(a.y,t,i)}}function qb(a,t){let e=t.min-a.min,i=t.max-a.max;return t.max-t.min<a.max-a.min&&([e,i]=[i,e]),{min:e,max:i}}function CR(a,t){return{x:qb(a.x,t.x),y:qb(a.y,t.y)}}function _R(a,t){let e=.5;const i=We(a),r=We(t);return r>i?e=Fo(t.min,t.max-i,a.min):i>r&&(e=Fo(a.min,a.max-r,t.min)),di(0,1,e)}function MR(a,t){const e={};return t.min!==void 0&&(e.min=t.min-a.min),t.max!==void 0&&(e.max=t.max-a.min),e}const em=.35;function NR(a=em){return a===!1?a=0:a===!0&&(a=em),{x:$b(a,"left","right"),y:$b(a,"top","bottom")}}function $b(a,t,e){return{min:Xb(a,t),max:Xb(a,e)}}function Xb(a,t){return typeof a=="number"?a:a[t]||0}const RR=new WeakMap;class DR{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ee(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=p=>{e?(this.stopAnimation(),this.snapToCursor(el(p).point)):this.pauseAnimation()},c=(p,b)=>{this.stopAnimation();const{drag:x,dragPropagation:S,onDragStart:w}=this.getProps();if(x&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pM(x),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bn(E=>{let C=this.getAxisMotionValue(E).get()||0;if(ui.test(C)){const{projection:M}=this.visualElement;if(M&&M.layout){const R=M.layout.layoutBox[E];R&&(C=We(R)*(parseFloat(C)/100))}}this.originPoint[E]=C}),w&&Qt.update(()=>w(p,b),!1,!0),Xf(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},u=(p,b)=>{this.latestPointerEvent=p,this.latestPanInfo=b;const{dragPropagation:x,dragDirectionLock:S,onDirectionLock:w,onDrag:T}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:E}=b;if(S&&this.currentDirection===null){this.currentDirection=kR(E),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",b.point,E),this.updateAxis("y",b.point,E),this.visualElement.render(),T&&Qt.update(()=>T(p,b),!1,!0)},d=(p,b)=>{this.latestPointerEvent=p,this.latestPanInfo=b,this.stop(p,b),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Bn(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Gw(t,{onSessionStart:o,onStart:c,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:Hw(this.visualElement),element:this.visualElement.current})}stop(t,e){const i=t||this.latestPointerEvent,r=e||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!i)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&Qt.postRender(()=>u(i,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,i){const{drag:r}=this.getProps();if(!i||!Oc(t,r,this.currentDirection))return;const o=this.getAxisMotionValue(t);let c=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(c=ER(c,this.constraints[t],this.elastic[t])),o.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;t&&Co(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=TR(i.layoutBox,t):this.constraints=!1,this.elastic=NR(e),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Bn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=MR(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Co(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=jM(i,r.root,this.visualElement.getTransformPagePoint());let c=CR(r.layout.layoutBox,o);if(e){const u=e(kM(c));this.hasMutatedConstraints=!!u,u&&(c=dw(u))}return c}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=Bn(m=>{if(!Oc(m,e,this.currentDirection))return;let p=d&&d[m]||{};c&&(p={min:0,max:0});const b=r?200:1e6,x=r?40:1e7,S={type:"inertia",velocity:i?t[m]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(m,S)});return Promise.all(f).then(u)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return Xf(this.visualElement,t),i.start(Vm(t,i,0,e,this.visualElement,!1))}stopAnimation(){Bn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Bn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[e];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Bn(e=>{const{drag:i}=this.getProps();if(!Oc(e,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(e);if(r&&r.layout){const{min:c,max:u}=r.layout.layoutBox[e],d=o.get()||0;o.set(t[e]-re(c,u,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Co(e)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Bn(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const d=u.get();r[c]=_R({min:d,max:d},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Bn(c=>{if(!Oc(c,t,null))return;const u=this.getAxisMotionValue(c),{min:d,max:f}=this.constraints[c];u.set(re(d,f,r[c]))})}addListeners(){if(!this.visualElement.current)return;RR.set(this.visualElement,this);const t=this.visualElement.current,e=Lo(t,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps(),p=d.target,b=p!==t&&xM(p);f&&m&&!b&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Co(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Qt.read(i);const c=Vo(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Bn(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=d[m].translate,p.set(p.get()+d[m].translate))}),this.visualElement.render())}));return()=>{c(),e(),o(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:c=em,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:c,dragMomentum:u}}}function Oc(a,t,e){return(t===!0||t===a)&&(e===null||e===a)}function kR(a,t=10){let e=null;return Math.abs(a.y)>t?e="y":Math.abs(a.x)>t&&(e="x"),e}class LR extends Ss{constructor(t){super(t),this.removeGroupControls=zn,this.removeListeners=zn,this.controls=new DR(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const vf=a=>(t,e)=>{a&&Qt.update(()=>a(t,e),!1,!0)};class PR extends Ss{constructor(){super(...arguments),this.removePointerDownListener=zn}onPointerDown(t){this.session=new Gw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Hw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:vf(t),onStart:vf(e),onMove:vf(i),onEnd:(o,c)=>{delete this.session,r&&Qt.postRender(()=>r(o,c))}}}mount(){this.removePointerDownListener=Lo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let bf=!1;class jR extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=t;o&&(e.group&&e.group.add(o),i&&i.register&&r&&i.register(o),bf&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Zc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:r,isPresent:o}=this.props,{projection:c}=i;return c&&(c.isPresent=o,t.layoutDependency!==e&&c.setOptions({...c.options,layoutDependency:e}),bf=!0,r||t.layoutDependency!==e||e===void 0||t.isPresent!==o?c.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?c.promote():c.relegate()||Qt.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),$m.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:r}=t;bf=!0,r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $w(a){const[t,e]=Pw(),i=N.useContext(Sm);return v.jsx(jR,{...a,layoutGroup:i,switchLayoutGroup:N.useContext(Uw),isPresent:t,safeToRemove:e})}const OR={pan:{Feature:PR},drag:{Feature:LR,ProjectionNode:Lw,MeasureLayout:$w}};function Yb(a,t,e){const{props:i}=a;a.animationState&&i.whileHover&&a.animationState.setActive("whileHover",e==="Start");const r="onHover"+e,o=i[r];o&&Qt.postRender(()=>o(t,el(t)))}class BR extends Ss{mount(){const{current:t}=this.node;t&&(this.unmount=gM(t,(e,i)=>(Yb(this.node,i,"Start"),r=>Yb(this.node,r,"End"))))}unmount(){}}class FR extends Ss{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zo(Vo(this.node.current,"focus",()=>this.onFocus()),Vo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Wb(a,t,e){const{props:i}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&i.whileTap&&a.animationState.setActive("whileTap",e==="Start");const r="onTap"+(e==="End"?"":e),o=i[r];o&&Qt.postRender(()=>o(t,el(t)))}class zR extends Ss{mount(){const{current:t}=this.node;t&&(this.unmount=AM(t,(e,i)=>(Wb(this.node,i,"Start"),(r,{success:o})=>Wb(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nm=new WeakMap,xf=new WeakMap,IR=a=>{const t=nm.get(a.target);t&&t(a)},UR=a=>{a.forEach(IR)};function VR({root:a,...t}){const e=a||document;xf.has(e)||xf.set(e,{});const i=xf.get(e),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(UR,{root:a,...t})),i[r]}function HR(a,t,e){const i=VR(t);return nm.set(a,e),i.observe(a),()=>{nm.delete(a),i.unobserve(a)}}const GR={some:0,all:1};class qR extends Ss{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:r="some",once:o}=t,c={root:e?e.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:GR[r]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:p}=this.node.getProps(),b=f?m:p;b&&b(d)};return HR(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some($R(t,e))&&this.startObserver()}unmount(){}}function $R({viewport:a={}},{viewport:t={}}={}){return e=>a[e]!==t[e]}const XR={inView:{Feature:qR},tap:{Feature:zR},focus:{Feature:FR},hover:{Feature:BR}},YR={layout:{ProjectionNode:Lw,MeasureLayout:$w}},WR={...bR,...XR,...OR,...YR},tt=mR(WR,pR);const KR=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QR=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),Kb=a=>{const t=QR(a);return t.charAt(0).toUpperCase()+t.slice(1)},Xw=(...a)=>a.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),ZR=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var JR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tD=N.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:c,...u},d)=>N.createElement("svg",{ref:d,...JR,width:t,height:t,stroke:a,strokeWidth:i?Number(e)*24/Number(t):e,className:Xw("lucide",r),...!o&&!ZR(u)&&{"aria-hidden":"true"},...u},[...c.map(([f,m])=>N.createElement(f,m)),...Array.isArray(o)?o:[o]]));const ut=(a,t)=>{const e=N.forwardRef(({className:i,...r},o)=>N.createElement(tD,{ref:o,iconNode:t,className:Xw(`lucide-${KR(Kb(a))}`,`lucide-${a}`,i),...r}));return e.displayName=Kb(a),e};const eD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],nD=ut("arrow-left",eD);const iD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Yw=ut("arrow-right",iD);const sD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]],Po=ut("atom",sD);const aD=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],rD=ut("award",aD);const oD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],cu=ut("book-open",oD);const lD=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],cD=ut("bookmark",lD);const uD=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Qb=ut("briefcase",uD);const hD=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Ww=ut("calculator",hD);const dD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hi=ut("calendar",dD);const fD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Zb=ut("chevron-down",fD);const mD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],pD=ut("chevron-left",mD);const gD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yr=ut("chevron-right",gD);const yD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Jb=ut("circle-alert",yD);const vD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bD=ut("circle-check-big",vD);const xD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wD=ut("clock",xD);const AD=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],SD=ut("code",AD);const ED=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],TD=ut("cpu",ED);const CD=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],_D=ut("database",CD);const MD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Kw=ut("download",MD);const ND=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Qw=ut("external-link",ND);const RD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nl=ut("eye",RD);const DD=[["path",{d:"M13.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v11.5",key:"4pqfef"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 12v-1",key:"1ej8lb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M8 7V6",key:"1nbb54"}],["circle",{cx:"8",cy:"20",r:"2",key:"ckkr5m"}]],kD=ut("file-archive",DD);const LD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],tx=ut("file-chart-column-increasing",LD);const PD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],ex=ut("file-code",PD);const jD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Bi=ut("file-text",jD);const OD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],Zw=ut("file",OD);const BD=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],FD=ut("flask-conical",BD);const zD=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],nx=ut("folder-open",zD);const ID=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],UD=ut("funnel",ID);const VD=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Jw=ut("github",VD);const HD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],tA=ut("globe",HD);const GD=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],qD=ut("graduation-cap",GD);const $D=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],ix=ut("hard-drive",$D);const XD=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],YD=ut("heart",XD);const WD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],KD=ut("house",WD);const QD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ZD=ut("image",QD);const JD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],sx=ut("info",JD);const tk=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ek=ut("instagram",tk);const nk=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],ik=ut("linkedin",nk);const sk=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],im=ut("lock",sk);const ak=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],eA=ut("mail",ak);const rk=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],uu=ut("map-pin",rk);const ok=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],lk=ut("menu",ok);const ck=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],uk=ut("moon",ck);const hk=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],sm=ut("newspaper",hk);const dk=[["path",{d:"M20.341 6.484A10 10 0 0 1 10.266 21.85",key:"1enhxb"}],["path",{d:"M3.659 17.516A10 10 0 0 1 13.74 2.152",key:"1crzgf"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}]],ax=ut("orbit",dk);const fk=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],mk=ut("palette",fk);const pk=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],nA=ut("phone",pk);const gk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xs=ut("search",gk);const yk=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],vk=ut("share-2",yk);const bk=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],iA=ut("sparkles",bk);const xk=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],wk=ut("sun",xk);const Ak=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],cr=ut("tag",Ak);const Sk=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Ek=ut("twitter",Sk);const Tk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ck=ut("user",Tk);const _k=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],Mk=ut("waves",_k);const Nk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Au=ut("x",Nk);const Rk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],sA=ut("zap",Rk);const Dk=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],kk=ut("zoom-in",Dk);const Lk=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Pk=ut("zoom-out",Lk),aA="/assets/logo-DKtVRe1F.png",wf=[{path:"/",label:"Home",icon:KD},{path:"/about",label:"About",icon:Ck},{path:"/gallery",label:"Gallery",icon:ZD},{path:"/physics",label:"Physics",icon:Po},{path:"/documents",label:"Documents",icon:Bi,submenu:[{path:"/documents/article",label:"Article"},{path:"/documents/report",label:"Report"},{path:"/documents/journal",label:"Journal"},{path:"/documents/project",label:"Project"}]},{path:"/news",label:"News",icon:sm},{path:"/downloads",label:"Download",icon:Kw}];function In(){const[a,t]=N.useState(!1),[e,i]=N.useState(!1),[r,o]=N.useState(null),{isDark:c,toggleTheme:u}=hC(),d=As();N.useEffect(()=>{const m=()=>{t(window.scrollY>20)};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]);const f=m=>d.pathname===m||d.pathname.startsWith(m+"/");return v.jsxs(v.Fragment,{children:[v.jsx(tt.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.5,ease:"easeOut"},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${a?"nav-glass":"bg-transparent"}`,children:v.jsx("div",{className:"section-container",children:v.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[v.jsxs(Ue,{to:"/",className:"flex items-center gap-2",children:[v.jsx("img",{src:aA,alt:"Logo",className:"w-10 h-10 rounded-xl object-cover"}),v.jsx("span",{className:"text-xl font-bold gradient-text hidden sm:block",children:"NWR"})]}),v.jsx("div",{className:"hidden lg:flex items-center gap-1",children:wf.map(m=>v.jsx("div",{className:"relative",children:m.submenu?v.jsxs("div",{className:"relative",onMouseEnter:()=>o(m.path),onMouseLeave:()=>o(null),children:[v.jsxs("button",{className:`flex items-center gap-1 px-4 py-2 rounded-xl transition-all duration-300 ${f(m.path)?"glass-button text-primary":"hover:bg-white/5"}`,children:[v.jsx(m.icon,{className:"w-4 h-4"}),v.jsx("span",{children:m.label}),v.jsx(Zb,{className:`w-3 h-3 transition-transform ${r===m.path?"rotate-180":""}`})]}),v.jsx(ta,{children:r===m.path&&v.jsx(tt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:"absolute top-full left-0 mt-2 w-48 glass-card py-2 z-50",children:m.submenu.map(p=>v.jsx(Ue,{to:p.path,className:`block px-4 py-2 transition-all duration-200 ${d.pathname===p.path?"text-primary bg-primary/10":"hover:bg-white/5 hover:text-primary"}`,children:p.label},p.path))})})]}):v.jsxs(Ue,{to:m.path,className:`flex items-center gap-1 px-4 py-2 rounded-xl transition-all duration-300 ${f(m.path)?"glass-button text-primary":"hover:bg-white/5"}`,children:[v.jsx(m.icon,{className:"w-4 h-4"}),v.jsx("span",{children:m.label})]})},m.path))}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:u,className:"w-10 h-10 rounded-xl neu-button flex items-center justify-center","aria-label":"Toggle theme",children:c?v.jsx(wk,{className:"w-5 h-5 text-yellow-400"}):v.jsx(uk,{className:"w-5 h-5 text-slate-600"})}),v.jsx("button",{onClick:()=>i(!e),className:"lg:hidden w-10 h-10 rounded-xl neu-button flex items-center justify-center","aria-label":"Toggle menu",children:e?v.jsx(Au,{className:"w-5 h-5"}):v.jsx(lk,{className:"w-5 h-5"})})]})]})})}),v.jsx(ta,{children:e&&v.jsx(tt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"fixed inset-x-0 top-16 z-40 lg:hidden",children:v.jsx("div",{className:"section-container py-4",children:v.jsx("div",{className:"glass-card p-4 space-y-2",children:wf.map(m=>v.jsx("div",{children:m.submenu?v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:()=>o(r===m.path?null:m.path),className:`w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-300 ${f(m.path)?"glass-button text-primary":"hover:bg-white/5"}`,children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(m.icon,{className:"w-5 h-5"}),v.jsx("span",{children:m.label})]}),v.jsx(Zb,{className:`w-4 h-4 transition-transform ${r===m.path?"rotate-180":""}`})]}),v.jsx(ta,{children:r===m.path&&v.jsx(tt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:v.jsx("div",{className:"pl-12 pr-4 py-2 space-y-1",children:m.submenu.map(p=>v.jsx(Ue,{to:p.path,onClick:()=>i(!1),className:`block px-4 py-2 rounded-lg transition-all duration-200 ${d.pathname===p.path?"text-primary bg-primary/10":"hover:bg-white/5 hover:text-primary"}`,children:p.label},p.path))})})})]}):v.jsxs(Ue,{to:m.path,onClick:()=>i(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 ${f(m.path)?"glass-button text-primary":"hover:bg-white/5"}`,children:[v.jsx(m.icon,{className:"w-5 h-5"}),v.jsx("span",{children:m.label})]})},m.path))})})})}),v.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 lg:hidden mobile-nav-glass safe-area-pb",children:v.jsx("div",{className:"flex items-center justify-around py-2",children:wf.slice(0,5).map(m=>v.jsxs(Ue,{to:m.path,className:`flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all duration-300 ${f(m.path)?"text-primary":"text-muted-foreground"}`,children:[v.jsx(m.icon,{className:`w-5 h-5 ${f(m.path)?"animate-pulse-glow":""}`}),v.jsx("span",{className:"text-[10px]",children:m.label})]},m.path))})})]})}const jk=[{icon:Jw,href:"https://github.com",label:"GitHub"},{icon:ik,href:"https://www.linkedin.com/in/shree-aman-shah",label:"LinkedIn"},{icon:Ek,href:"https://twitter.com",label:"Twitter"},{icon:ek,href:"https://instagram.com",label:"Instagram"}],Ok=[{label:"Home",href:"#/"},{label:"About",href:"#/about"},{label:"Gallery",href:"#/gallery"},{label:"Physics",href:"#/physics"},{label:"Documents",href:"#/documents/article"},{label:"News",href:"#/news"},{label:"Downloads",href:"#/downloads"}];function Un(){const a=new Date().getFullYear();return v.jsxs("footer",{className:"relative mt-20",children:[v.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-primary to-transparent"}),v.jsxs("div",{className:"section-container py-16",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10",children:[v.jsxs(tt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-12 h-12 rounded-xl glass-button flex items-center justify-center",children:v.jsx("img",{src:aA,alt:"Logo",className:"w-10 h-10 rounded-xl object-cover"})}),v.jsx("span",{className:"text-2xl font-bold gradient-text",children:"Nepal Wild Research"})]}),v.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Exploring Nepals forests and wildlife through science and research. Building digital experiences that turn knowledge into meaningful conservation action."}),v.jsx("div",{className:"flex items-center gap-3",children:jk.map(t=>v.jsx("a",{href:t.href,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-xl neu-button flex items-center justify-center hover:text-primary transition-colors","aria-label":t.label,children:v.jsx(t.icon,{className:"w-5 h-5"})},t.label))})]}),v.jsxs(tt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-semibold",children:"Quick Links"}),v.jsx("ul",{className:"space-y-2",children:Ok.map(t=>v.jsx("li",{children:v.jsxs("a",{href:t.href,className:"text-muted-foreground hover:text-primary transition-colors duration-200 flex items-center gap-2",children:[v.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary/50"}),t.label]})},t.href))})]}),v.jsxs(tt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-semibold",children:"Contact"}),v.jsxs("ul",{className:"space-y-3",children:[v.jsxs("li",{className:"flex items-start gap-3",children:[v.jsx(eA,{className:"w-5 h-5 text-primary mt-0.5"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),v.jsx("a",{href:"mailto:amangrown@outlook.com",className:"hover:text-primary transition-colors",children:"amangrown@outlook.com"})]})]}),v.jsxs("li",{className:"flex items-start gap-3",children:[v.jsx(nA,{className:"w-5 h-5 text-primary mt-0.5"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),v.jsx("a",{href:"tel:+977-9864164617",className:"hover:text-primary transition-colors",children:"+977 986 4164617"})]})]}),v.jsxs("li",{className:"flex items-start gap-3",children:[v.jsx(uu,{className:"w-5 h-5 text-primary mt-0.5"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),v.jsx("p",{children:"Syuchatar"}),v.jsx("p",{children:"Kirtipur, Kathmandu"})]})]})]})]}),v.jsxs(tt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3},className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-semibold",children:"Newsletter"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Subscribe to get the latest updates and news."}),v.jsxs("form",{className:"space-y-3",onSubmit:t=>t.preventDefault(),children:[v.jsx("input",{type:"email",placeholder:"Enter your email",className:"w-full px-4 py-3 glass-input text-sm"}),v.jsx("button",{type:"submit",className:"w-full py-3 glass-button font-medium text-sm",children:"Subscribe"})]})]})]}),v.jsx(tt.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5,delay:.4},className:"mt-12 pt-8 border-t border-border/50",children:v.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[v.jsxs("p",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[" ",a," Nepal Wild Research. All rights reserved."]}),v.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:["Made with ",v.jsx(YD,{className:"w-4 h-4 text-red-500 animate-pulse"})," by Aman Shah"]})]})})]})]})}function Bk(){const a=N.useRef(null),t=N.useRef([]),e=N.useRef({x:0,y:0}),i=N.useRef(null),r=N.useRef(!0),o=N.useCallback((u,d)=>{const f=Math.min(Math.floor(u*d/15e3),80),m=[];for(let p=0;p<f;p++)m.push({x:Math.random()*u,y:Math.random()*d,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,radius:Math.random()*2+1});return m},[]),c=N.useCallback((u,d,f)=>{const m=t.current,p=e.current;u.clearRect(0,0,d,f),m.forEach((b,x)=>{b.x+=b.vx,b.y+=b.vy,(b.x<0||b.x>d)&&(b.vx*=-1),(b.y<0||b.y>f)&&(b.vy*=-1),b.x=Math.max(0,Math.min(d,b.x)),b.y=Math.max(0,Math.min(f,b.y)),u.beginPath(),u.arc(b.x,b.y,b.radius,0,Math.PI*2),u.fillStyle="rgba(6, 182, 212, 0.8)",u.fill(),m.slice(x+1).forEach(E=>{const C=b.x-E.x,M=b.y-E.y,R=Math.sqrt(C*C+M*M);R<150&&(u.beginPath(),u.moveTo(b.x,b.y),u.lineTo(E.x,E.y),u.strokeStyle=`rgba(6, 182, 212, ${.2*(1-R/150)})`,u.lineWidth=1,u.stroke())});const S=p.x-b.x,w=p.y-b.y,T=Math.sqrt(S*S+w*w);if(T<200){u.beginPath(),u.moveTo(b.x,b.y),u.lineTo(p.x,p.y),u.strokeStyle=`rgba(139, 92, 246, ${.3*(1-T/200)})`,u.lineWidth=1,u.stroke();const E=(200-T)/200*.02;b.vx+=S*E*.01,b.vy+=w*E*.01}});for(let b=0;b<m.length;b++)for(let x=b+1;x<m.length;x++)for(let S=x+1;S<m.length;S++){const w=m[b],T=m[x],E=m[S],C=Math.sqrt((w.x-T.x)**2+(w.y-T.y)**2),M=Math.sqrt((T.x-E.x)**2+(T.y-E.y)**2),R=Math.sqrt((E.x-w.x)**2+(E.y-w.y)**2);C<120&&M<120&&R<120&&(u.beginPath(),u.moveTo(w.x,w.y),u.lineTo(T.x,T.y),u.lineTo(E.x,E.y),u.closePath(),u.fillStyle=`rgba(6, 182, 212, ${.05*(1-Math.max(C,M,R)/120)})`,u.fill())}},[]);return N.useEffect(()=>{const u=a.current;if(!u)return;const d=u.getContext("2d");if(!d)return;const f=()=>{u.width=window.innerWidth,u.height=window.innerHeight,t.current=o(u.width,u.height)},m=S=>{e.current={x:S.clientX,y:S.clientY}},p=()=>{r.current=document.visibilityState==="visible"};f(),window.addEventListener("resize",f),window.addEventListener("mousemove",m),document.addEventListener("visibilitychange",p);let b=0;const x=()=>{r.current&&(b++,b%2===0&&c(d,u.width,u.height)),i.current=requestAnimationFrame(x)};return x(),()=>{window.removeEventListener("resize",f),window.removeEventListener("mousemove",m),document.removeEventListener("visibilitychange",p),i.current&&cancelAnimationFrame(i.current)}},[o,c]),v.jsx("canvas",{ref:a,className:"fixed inset-0 pointer-events-none z-0",style:{opacity:.6}})}const Fk=[{icon:iA,title:"Kande Bhyakur",description:"Shy, elusive, and ground-dwelling bird, usually detected by its loud, melodious, and thrush-like song."},{icon:sA,title:"Siddhartha Gautama Buddha",description:"It is better to travel well than to arrive."},{icon:tA,title:"Quantum Tunneling",description:"Particles can sometimes pass directly through solid barriers."}],zk=[{value:"50+",label:"Projects"},{value:"100+",label:"Articles"},{value:"5+",label:"Years Experience"},{value:"1000+",label:"Downloads"}];function Ik(){return v.jsxs("div",{className:"min-h-screen relative",children:[v.jsx(Bk,{}),v.jsx(In,{}),v.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[v.jsxs("div",{className:"section-container relative z-10 pt-20",children:[v.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[v.jsx(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:v.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full glass-card text-sm font-medium mb-6",children:[v.jsx(iA,{className:"w-4 h-4 text-primary"}),"Together for Nature, Together for Nepal"]})}),v.jsxs(tt.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2,ease:"easeOut"},className:"text-5xl sm:text-6xl lg:text-7xl font-bold mb-6",children:["Hi, I'm"," ",v.jsx("span",{className:"gradient-text",children:"Aman Shah"})]}),v.jsx(tt.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4,ease:"easeOut"},className:"text-xl sm:text-2xl text-muted-foreground mb-8",children:"Physicist | Engineer | Researcher"}),v.jsx(tt.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5,ease:"easeOut"},className:"text-lg text-muted-foreground/80 max-w-2xl mx-auto mb-10",children:"Exploring our wilderness, we reveal the wonders of Nepals wildlife. Learn, engage, and become a guardian of nature."}),v.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6,ease:"easeOut"},className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[v.jsxs(Ue,{to:"/about",className:"group px-8 py-4 glass-button text-lg font-medium flex items-center gap-2",children:["Explore My Work",v.jsx(Yw,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),v.jsx(Ue,{to:"/physics",className:"px-8 py-4 neu-button text-lg font-medium",children:"Physics Concepts"})]})]}),v.jsx(tt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8,ease:"easeOut"},className:"mt-20 grid grid-cols-2 md:grid-cols-4 gap-6",children:zk.map((a,t)=>v.jsxs(tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.9+t*.1},className:"glass-card p-6 text-center",children:[v.jsx("div",{className:"text-3xl sm:text-4xl font-bold gradient-text mb-2",children:a.value}),v.jsx("div",{className:"text-sm text-muted-foreground",children:a.label})]},a.label))})]}),v.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"absolute bottom-10 left-1/2 -translate-x-1/2",children:v.jsx(tt.div,{animate:{y:[0,10,0]},transition:{duration:1.5,repeat:1/0},className:"w-6 h-10 rounded-full border-2 border-primary/50 flex justify-center pt-2",children:v.jsx(tt.div,{animate:{opacity:[1,0],y:[0,12]},transition:{duration:1.5,repeat:1/0},className:"w-1.5 h-1.5 rounded-full bg-primary"})})})]}),v.jsx("section",{className:"relative py-24",children:v.jsxs("div",{className:"section-container relative z-10",children:[v.jsxs(tt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[v.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:["What You'll ",v.jsx("span",{className:"gradient-text",children:"Discover"})]}),v.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"A collection of physics concepts, personal projects, and creative works presented through a modern, interactive interface."})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Fk.map((a,t)=>v.jsxs(tt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:t*.1},className:"glass-card p-8 group",children:[v.jsx("div",{className:"w-14 h-14 rounded-xl glass-button flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:v.jsx(a.icon,{className:"w-7 h-7 text-primary"})}),v.jsx("h3",{className:"text-xl font-semibold mb-3",children:a.title}),v.jsx("p",{className:"text-muted-foreground",children:a.description})]},a.title))})]})}),v.jsx("section",{className:"relative py-24",children:v.jsx("div",{className:"section-container relative z-10",children:v.jsxs(tt.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.6},className:"glass-card p-10 sm:p-16 text-center relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-secondary/10 pointer-events-none"}),v.jsxs("div",{className:"relative z-10",children:[v.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:["Ready to ",v.jsx("span",{className:"gradient-text",children:"Explore?"})]}),v.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto mb-8",children:"Dive into the world of physics, browse through my gallery, or download resources for your own learning journey."}),v.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[v.jsx(Ue,{to:"/gallery",className:"px-8 py-4 glass-button text-lg font-medium",children:"View Gallery"}),v.jsx(Ue,{to:"/downloads",className:"px-8 py-4 neu-button text-lg font-medium",children:"Download Resources"})]})]})]})})}),v.jsx(Un,{})]})}const Uk="/assets/profile-DwZuuv68.jpeg",Vk=[{icon:hi,label:"Date of Birth",value:"Shrawan 07, 2060"},{icon:uu,label:"Address",value:"Syuchatar, Kirtipur, Kathmandu"},{icon:eA,label:"Email",value:"amangrown@outlook.com"},{icon:nA,label:"Phone",value:"+977-9864164617"}],Hk=[{degree:"+2",institution:"MIT",year:"2077 - 2079",description:"Physical Group- Mathematics, Physic and Computer"},{degree:"B.E in Civil Engineering",institution:"Advance College Of Engineering and Management",year:"2079 - Current",description:"Currently Pursuing"},{degree:"B.S. in Physics",institution:"Caltech",year:"2012 - 2016",description:"Minor in Mathematics, Graduated with Honors"}],Gk=[{title:"Calculus",company:"Mathematics",period:"2020 - Present",description:"Working projects in *** physics and developing computational models for data analysis."},{title:"Rain Water Harvesting",company:"Hydro",period:"2025 - present",description:"Working in to collects data, information and analysing."},{title:"K-Os",company:"ANBHAE Lab",period:"2018 - Present",description:"Working till"}],qk=[{name:"Travel & Explorer",level:10,icon:SD},{name:"Python & C++",level:90,icon:_D},{name:"GUI/UX Design",level:85,icon:mk},{name:"Sketch & CAD",level:88,icon:TD},{name:"Playing Chess",level:20,icon:tA},{name:"Physics Simulation",level:72,icon:rD}],$k=[{name:"GitHub",url:"https://github.com",color:"hover:text-gray-400"},{name:"LinkedIn",url:"https://www.linkedin.com/in/shree-aman-shah",color:"hover:text-blue-500"},{name:"Twitter",url:"https://twitter.com",color:"hover:text-sky-400"},{name:"ResearchGate",url:"https://researchgate.net",color:"hover:text-green-500"}];function Xk(){return v.jsxs("div",{className:"min-h-screen",children:[v.jsx(In,{}),v.jsx("section",{className:"relative pt-32 pb-16",children:v.jsxs("div",{className:"section-container",children:[v.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16",children:[v.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:["About ",v.jsx("span",{className:"gradient-text",children:"Me"})]}),v.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Bridging the gap between theoretical physics and practical engineering."})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10 mb-20",children:[v.jsx(tt.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"lg:col-span-1",children:v.jsxs("div",{className:"glass-card p-8 text-center",children:[v.jsxs("div",{className:"relative w-48 h-48 mx-auto mb-6",children:[v.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-cyan-500 to-violet-500 animate-pulse-glow"}),v.jsx("div",{className:"absolute inset-1 rounded-full bg-background"}),v.jsx("img",{src:Uk,alt:"Profile",className:"absolute inset-2 w-[calc(100%-16px)] h-[calc(100%-16px)] rounded-full object-cover"})]}),v.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Aman Shah"}),v.jsx("p",{className:"text-primary font-medium mb-4",children:"Physicist & Engineer"}),v.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:$k.map(a=>v.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:`px-3 py-1.5 rounded-lg glass-button text-sm ${a.color} transition-colors`,children:a.name},a.name))}),v.jsx("a",{href:"mailto:amangrown@outlook.com",className:"w-full py-3 glass-button font-medium",children:"Get In Touch"})]})}),v.jsx(tt.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"lg:col-span-2",children:v.jsxs("div",{className:"glass-card p-8 h-full",children:[v.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[v.jsx(Qb,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8",children:Vk.map(a=>v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-lg glass-button flex items-center justify-center flex-shrink-0",children:v.jsx(a.icon,{className:"w-5 h-5 text-primary"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:a.label}),v.jsx("p",{className:"font-medium",children:a.value})]})]},a.label))}),v.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Bio"}),v.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"I am Aman Shah, a civil engineering student driven by an insatiable curiosity for the intersection of science, nature, and practical innovation. My academic journey is fueled by a deep passion for physics and research. My passion are always driven me to explore the unknown and dive deep into the fundamental workings of the universe. I'm especially fascinated by quantum physics, the laws of space and the cosmos, and the scientific theories that explain them."}),v.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"I thrive on practical application projects that bridge theoretical science with real-world engineering solutions. Whether I'm coding complex systems, designing sustainable infrastructure, or studying celestial mechanics, I approach every challenge with analytical rigor and creative problem-solving. My mission is to contribute meaningfully to environmental conservation, scientific advancement, and innovative engineeringbuilding a future where technology and nature coexist sustainably."})]})})]}),v.jsxs(tt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"mb-20",children:[v.jsxs("h2",{className:"text-3xl font-bold text-center mb-10",children:["My ",v.jsx("span",{className:"gradient-text",children:"Skills"})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:qk.map((a,t)=>v.jsxs(tt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:t*.1},className:"glass-card p-6",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx("div",{className:"w-10 h-10 rounded-lg glass-button flex items-center justify-center",children:v.jsx(a.icon,{className:"w-5 h-5 text-primary"})}),v.jsx("span",{className:"font-medium",children:a.name})]}),v.jsx("div",{className:"relative h-2 bg-muted rounded-full overflow-hidden",children:v.jsx(tt.div,{initial:{width:0},whileInView:{width:`${a.level}%`},viewport:{once:!0},transition:{duration:1,delay:.3+t*.1},className:"absolute inset-y-0 left-0 rounded-full bg-gradient-to-r from-cyan-500 to-violet-500"})}),v.jsxs("div",{className:"mt-2 text-right text-sm text-muted-foreground",children:[a.level,"%"]})]},a.name))})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[v.jsxs(tt.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[v.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[v.jsx(qD,{className:"w-6 h-6 text-primary"}),"Education"]}),v.jsx("div",{className:"space-y-6",children:Hk.map((a,t)=>v.jsxs(tt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:t*.1},className:"glass-card p-6 relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-cyan-500 to-violet-500"}),v.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[v.jsx("span",{className:"tag-glass",children:a.year}),v.jsx("span",{className:"text-sm text-muted-foreground",children:a.institution})]}),v.jsx("h3",{className:"text-lg font-semibold mb-2",children:a.degree}),v.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]},a.degree))})]}),v.jsxs(tt.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[v.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[v.jsx(Qb,{className:"w-6 h-6 text-primary"}),"Experience"]}),v.jsx("div",{className:"space-y-6",children:Gk.map((a,t)=>v.jsxs(tt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:t*.1},className:"glass-card p-6 relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-violet-500 to-cyan-500"}),v.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[v.jsx("span",{className:"tag-glass",children:a.period}),v.jsx("span",{className:"text-sm text-muted-foreground",children:a.company})]}),v.jsx("h3",{className:"text-lg font-semibold mb-2",children:a.title}),v.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]},a.title))})]})]})]})}),v.jsx(Un,{})]})}const Yk="/assets/particle%20accelerator-CT0nSpa4.jpg",rx=[{id:1,title:"CERN Particle Accelerator",image:Yk,location:"Geneva, Switzerland",date:"March 2023",purpose:"Research Visit",description:"Visiting the Large Hadron Collider at CERN to study particle physics experiments and data collection methods.",category:"Research"},{id:2,title:"Quantum Computing Lab",image:"https://images.unsplash.com/photo-1635070041078-e363dbe005cb?w=800&h=600&fit=crop",location:"MIT, Cambridge",date:"June 2023",purpose:"Collaboration",description:"Working with quantum computing researchers to develop new algorithms for physics simulations.",category:"Technology"},{id:3,title:"Astrophotography Session",image:"https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?w=800&h=600&fit=crop",location:"Mauna Kea, Hawaii",date:"August 2023",purpose:"Observation",description:"Capturing deep space images using professional telescopes for educational content.",category:"Astronomy"},{id:4,title:"Coding Workspace Setup",image:"https://images.unsplash.com/photo-1555066931-4365d14bab8c?w=800&h=600&fit=crop",location:"Home Office",date:"Ongoing",purpose:"Development",description:"My personal development environment where I build physics simulations and web applications.",category:"Development"},{id:5,title:"Physics Conference 2023",image:"https://images.unsplash.com/photo-1544531586-fde5298cdd40?w=800&h=600&fit=crop",location:"Berlin, Germany",date:"September 2023",purpose:"Presentation",description:"Presenting research findings on quantum field theory at the International Physics Conference.",category:"Conference"},{id:6,title:"Particle Detector Assembly",image:"https://images.unsplash.com/photo-1581093458791-9f3c3900df4b?w=800&h=600&fit=crop",location:"Fermilab, USA",date:"November 2023",purpose:"Experiment",description:"Assisting in the assembly and calibration of particle detection equipment.",category:"Research"},{id:7,title:"3D Physics Visualization",image:"https://images.unsplash.com/photo-1617791160505-6f00504e3519?w=800&h=600&fit=crop",location:"Virtual",date:"December 2023",purpose:"Education",description:"Creating interactive 3D visualizations of complex physics concepts for students.",category:"Education"},{id:8,title:"Dark Matter Research",image:"https://images.unsplash.com/photo-1462331940025-496dfbfc7564?w=800&h=600&fit=crop",location:"Underground Lab",date:"January 2024",purpose:"Research",description:"Working in an underground laboratory to minimize background radiation for dark matter detection.",category:"Research"}],Wk=["All","Research","Technology","Astronomy","Development","Conference","Education"];function Kk(){const[a,t]=N.useState(null),[e,i]=N.useState("All"),r=e==="All"?rx:rx.filter(o=>o.category===e);return v.jsxs("div",{className:"min-h-screen",children:[v.jsx(In,{}),v.jsx("section",{className:"relative pt-32 pb-20",children:v.jsxs("div",{className:"section-container",children:[v.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[v.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:["Visual ",v.jsx("span",{className:"gradient-text",children:"Journey"})]}),v.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"A collection of moments from my research, travels, and projects in the world of physics and technology."})]}),v.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"flex flex-wrap justify-center gap-2 mb-12",children:Wk.map(o=>v.jsx("button",{onClick:()=>i(o),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${e===o?"glass-button":"glass-card hover:bg-white/5"}`,children:o},o))}),v.jsx(tt.div,{layout:!0,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:v.jsx(ta,{mode:"popLayout",children:r.map((o,c)=>v.jsx(tt.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.4,delay:c*.05},onClick:()=>t(o),className:"group cursor-pointer",children:v.jsxs("div",{className:"glass-card overflow-hidden",children:[v.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[v.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),v.jsx("div",{className:"absolute inset-0 flex items-end p-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:v.jsxs("div",{className:"text-white",children:[v.jsx("span",{className:"tag-glass text-xs mb-2 inline-block",children:o.category}),v.jsx("h3",{className:"font-semibold text-sm",children:o.title})]})})]}),v.jsxs("div",{className:"p-4",children:[v.jsx("h3",{className:"font-semibold mb-1 truncate",children:o.title}),v.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[v.jsx(uu,{className:"w-3 h-3"}),v.jsx("span",{className:"truncate",children:o.location})]})]})]})},o.id))})})]})}),v.jsx(ta,{children:a&&v.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:()=>t(null),children:v.jsxs(tt.div,{initial:{opacity:0,scale:.9,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:50},transition:{duration:.3},className:"glass-card max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:o=>o.stopPropagation(),children:[v.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border/50",children:[v.jsx("span",{className:"tag-glass",children:a.category}),v.jsx("button",{onClick:()=>t(null),className:"w-8 h-8 rounded-lg neu-button flex items-center justify-center hover:text-red-500 transition-colors",children:v.jsx(Au,{className:"w-4 h-4"})})]}),v.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:[v.jsx("div",{className:"aspect-video relative",children:v.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover"})}),v.jsxs("div",{className:"p-6",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4",children:a.title}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[v.jsxs("div",{className:"flex items-center gap-3 glass-card p-3",children:[v.jsx(uu,{className:"w-5 h-5 text-primary"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Location"}),v.jsx("p",{className:"text-sm font-medium",children:a.location})]})]}),v.jsxs("div",{className:"flex items-center gap-3 glass-card p-3",children:[v.jsx(hi,{className:"w-5 h-5 text-primary"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Date"}),v.jsx("p",{className:"text-sm font-medium",children:a.date})]})]}),v.jsxs("div",{className:"flex items-center gap-3 glass-card p-3",children:[v.jsx(sx,{className:"w-5 h-5 text-primary"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-muted-foreground",children:"Purpose"}),v.jsx("p",{className:"text-sm font-medium",children:a.purpose})]})]})]}),v.jsxs("div",{className:"glass-card p-4",children:[v.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[v.jsx(sx,{className:"w-4 h-4 text-primary"}),"Description"]}),v.jsx("p",{className:"text-muted-foreground leading-relaxed",children:a.description})]}),v.jsx("div",{className:"mt-6 flex justify-end",children:v.jsxs("button",{onClick:()=>t(null),className:"px-6 py-2 glass-button flex items-center gap-2",children:[v.jsx(Qw,{className:"w-4 h-4"}),"Close"]})})]})]})]})})}),v.jsx(Un,{})]})}const ox=[{id:"quantum-mechanics",title:"Quantum Mechanics",description:"Explore the fundamental theory describing nature at the smallest scales of energy levels of atoms and subatomic particles.",icon:Po,category:"Quantum Physics",difficulty:"Advanced"},{id:"relativity",title:"Theory of Relativity",description:"Einstein's theories of special and general relativity, describing the relationship between space, time, and gravity.",icon:ax,category:"Classical Physics",difficulty:"Advanced"},{id:"thermodynamics",title:"Thermodynamics",description:"Study of heat, work, temperature, and energy, including the four laws that govern energy transfer.",icon:FD,category:"Classical Physics",difficulty:"Intermediate"},{id:"electromagnetism",title:"Electromagnetism",description:"Understanding the interactions between electric and magnetic fields, Maxwell's equations, and electromagnetic waves.",icon:sA,category:"Classical Physics",difficulty:"Intermediate"},{id:"particle-physics",title:"Particle Physics",description:"Study of fundamental particles and their interactions, including the Standard Model of particle physics.",icon:Po,category:"Quantum Physics",difficulty:"Advanced"},{id:"wave-mechanics",title:"Wave Mechanics",description:"Analysis of wave phenomena, including mechanical waves, electromagnetic waves, and quantum wave functions.",icon:Mk,category:"Classical Physics",difficulty:"Intermediate"},{id:"nuclear-physics",title:"Nuclear Physics",description:"Study of atomic nuclei, nuclear reactions, radioactivity, and applications in energy and medicine.",icon:Po,category:"Quantum Physics",difficulty:"Advanced"},{id:"computational-physics",title:"Computational Physics",description:"Using numerical methods and computer simulations to solve complex physics problems.",icon:Ww,category:"Applied Physics",difficulty:"Intermediate"},{id:"astrophysics",title:"Astrophysics",description:"Application of physics principles to understand celestial objects and the universe as a whole.",icon:ax,category:"Applied Physics",difficulty:"Advanced"}],Qk=["All","Quantum Physics","Classical Physics","Applied Physics"],Zk=["All","Beginner","Intermediate","Advanced"];function Jk(){const[a,t]=N.useState(""),[e,i]=N.useState("All"),[r,o]=N.useState("All"),c=ox.filter(d=>{const f=d.title.toLowerCase().includes(a.toLowerCase())||d.description.toLowerCase().includes(a.toLowerCase()),m=e==="All"||d.category===e,p=r==="All"||d.difficulty===r;return f&&m&&p}),u=d=>{switch(d){case"Beginner":return"bg-green-500/20 text-green-400 border-green-500/30";case"Intermediate":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"Advanced":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return v.jsxs("div",{className:"min-h-screen",children:[v.jsx(In,{}),v.jsx("section",{className:"relative pt-32 pb-20",children:v.jsxs("div",{className:"section-container",children:[v.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[v.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:["Physics ",v.jsx("span",{className:"gradient-text",children:"Concepts"})]}),v.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Explore the fundamental laws of the universe through interactive content and detailed explanations of key physics concepts."})]}),v.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-2xl mx-auto mb-10",children:v.jsxs("div",{className:"relative",children:[v.jsx(xs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),v.jsx("input",{type:"text",placeholder:"Search physics topics...",value:a,onChange:d=>t(d.target.value),className:"w-full pl-12 pr-4 py-4 glass-input text-lg"})]})}),v.jsxs(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"flex flex-wrap justify-center gap-4 mb-12",children:[v.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[v.jsx("span",{className:"text-sm text-muted-foreground py-2",children:"Category:"}),Qk.map(d=>v.jsx("button",{onClick:()=>i(d),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${e===d?"glass-button":"glass-card hover:bg-white/5"}`,children:d},d))]}),v.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[v.jsx("span",{className:"text-sm text-muted-foreground py-2",children:"Difficulty:"}),Zk.map(d=>v.jsx("button",{onClick:()=>o(d),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${r===d?"glass-button":"glass-card hover:bg-white/5"}`,children:d},d))]})]}),v.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-center mb-8",children:v.jsxs("p",{className:"text-muted-foreground",children:["Showing ",c.length," of ",ox.length," topics"]})}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((d,f)=>v.jsx(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*f},children:v.jsx(Ue,{to:`/physics/${d.id}`,children:v.jsxs("div",{className:"glass-card p-6 h-full group hover:scale-[1.02] transition-transform duration-300",children:[v.jsxs("div",{className:"flex items-start justify-between mb-4",children:[v.jsx("div",{className:"w-14 h-14 rounded-xl glass-button flex items-center justify-center group-hover:scale-110 transition-transform",children:v.jsx(d.icon,{className:"w-7 h-7 text-primary"})}),v.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${u(d.difficulty)}`,children:d.difficulty})]}),v.jsx("span",{className:"tag-glass text-xs mb-2 inline-block",children:d.category}),v.jsx("h3",{className:"text-xl font-semibold mb-3 group-hover:text-primary transition-colors",children:d.title}),v.jsx("p",{className:"text-muted-foreground text-sm mb-4 line-clamp-3",children:d.description}),v.jsxs("div",{className:"flex items-center gap-2 text-primary text-sm font-medium",children:[v.jsx(cu,{className:"w-4 h-4"}),"Read More",v.jsx(Yw,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})})},d.id))}),c.length===0&&v.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[v.jsx("div",{className:"w-20 h-20 rounded-full glass-card flex items-center justify-center mx-auto mb-6",children:v.jsx(xs,{className:"w-10 h-10 text-muted-foreground"})}),v.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No topics found"}),v.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search or filters to find what you're looking for."})]})]})}),v.jsx(Un,{})]})}const Xe=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),am=[.001,0,0,.001,0,0],Af=1.35,bn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ci={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Ho="pdfjs_internal_editor_",At={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Dt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},rA={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Oe={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},jo={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},me={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Xa={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},il={ERRORS:0,WARNINGS:1,INFOS:5},ur={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Bc={moveTo:0,lineTo:1,curveTo:2,closePath:3},oA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Su=il.WARNINGS;function tL(a){Number.isInteger(a)&&(Su=a)}function eL(){return Su}function Eu(a){Su>=il.INFOS&&console.info(`Info: ${a}`)}function St(a){Su>=il.WARNINGS&&console.warn(`Warning: ${a}`)}function Kt(a){throw new Error(a)}function Lt(a,t){a||Kt(t)}function nL(a){switch(a?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ep(a,t=null,e=null){if(!a)return null;if(e&&typeof a=="string"&&(e.addDefaultProtocol&&a.startsWith("www.")&&a.match(/\./g)?.length>=2&&(a=`http://${a}`),e.tryConvertEncoding))try{a=oL(a)}catch{}const i=t?URL.parse(a,t):URL.parse(a);return nL(i)?i:null}function np(a,t,e=!1){const i=URL.parse(a);return i?(i.hash=t,i.href):e&&ep(a,"http://example.com")?a.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Ct(a,t,e,i=!1){return Object.defineProperty(a,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const aa=(function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t})();class lx extends aa{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Sf extends aa{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class hu extends aa{constructor(t){super(t,"InvalidPDFException")}}class Go extends aa{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class iL extends aa{constructor(t){super(t,"FormatError")}}class Ii extends aa{constructor(t){super(t,"AbortException")}}function lA(a){(typeof a!="object"||a?.length===void 0)&&Kt("Invalid argument for bytesToString");const t=a.length,e=8192;if(t<e)return String.fromCharCode.apply(null,a);const i=[];for(let r=0;r<t;r+=e){const o=Math.min(r+e,t),c=a.subarray(r,o);i.push(String.fromCharCode.apply(null,c))}return i.join("")}function sl(a){typeof a!="string"&&Kt("Invalid argument for stringToBytes");const t=a.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=a.charCodeAt(i)&255;return e}function sL(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function aL(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function rL(){try{return new Function(""),!0}catch{return!1}}class Re{static get isLittleEndian(){return Ct(this,"isLittleEndian",aL())}static get isEvalSupported(){return Ct(this,"isEvalSupported",rL())}static get isOffscreenCanvasSupported(){return Ct(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ct(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Ct(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Ct(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Ef=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));class it{static makeHexColor(t,e,i){return`#${Ef[t]}${Ef[e]}${Ef[i]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,i=0){const r=t[i],o=t[i+1];t[i]=r*e[0]+o*e[2]+e[4],t[i+1]=r*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const r=e[0],o=e[1],c=e[2],u=e[3],d=e[4],f=e[5];for(let m=0;m<6;m+=2){const p=t[i+m],b=t[i+m+1];t[i+m]=p*r+b*c+d,t[i+m+1]=p*o+b*u+f}}static applyInverseTransform(t,e){const i=t[0],r=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-i*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,i){const r=e[0],o=e[1],c=e[2],u=e[3],d=e[4],f=e[5],m=t[0],p=t[1],b=t[2],x=t[3];let S=r*m+d,w=S,T=r*b+d,E=T,C=u*p+f,M=C,R=u*x+f,D=R;if(o!==0||c!==0){const P=o*m,j=o*b,F=c*p,H=c*x;S+=F,E+=F,T+=H,w+=H,C+=P,D+=P,R+=j,M+=j}i[0]=Math.min(i[0],S,T,w,E),i[1]=Math.min(i[1],C,R,M,D),i[2]=Math.max(i[2],S,T,w,E),i[3]=Math.max(i[3],C,R,M,D)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],r=t[1],o=t[2],c=t[3],u=i**2+r**2,d=i*o+r*c,f=o**2+c**2,m=(u+f)/2,p=Math.sqrt(m**2-(u*f-d**2));e[0]=Math.sqrt(m+p||1),e[1]=Math.sqrt(m-p||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>r)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>c?null:[i,o,r,c]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,r,o){o[0]=Math.min(o[0],t,i),o[1]=Math.min(o[1],e,r),o[2]=Math.max(o[2],t,i),o[3]=Math.max(o[3],e,r)}static#t(t,e,i,r,o,c,u,d,f,m){if(f<=0||f>=1)return;const p=1-f,b=f*f,x=b*f,S=p*(p*(p*t+3*f*e)+3*b*i)+x*r,w=p*(p*(p*o+3*f*c)+3*b*u)+x*d;m[0]=Math.min(m[0],S),m[1]=Math.min(m[1],w),m[2]=Math.max(m[2],S),m[3]=Math.max(m[3],w)}static#e(t,e,i,r,o,c,u,d,f,m,p,b){if(Math.abs(f)<1e-12){Math.abs(m)>=1e-12&&this.#t(t,e,i,r,o,c,u,d,-p/m,b);return}const x=m**2-4*p*f;if(x<0)return;const S=Math.sqrt(x),w=2*f;this.#t(t,e,i,r,o,c,u,d,(-m+S)/w,b),this.#t(t,e,i,r,o,c,u,d,(-m-S)/w,b)}static bezierBoundingBox(t,e,i,r,o,c,u,d,f){f[0]=Math.min(f[0],t,u),f[1]=Math.min(f[1],e,d),f[2]=Math.max(f[2],t,u),f[3]=Math.max(f[3],e,d),this.#e(t,i,o,u,e,r,c,d,3*(-t+3*(i-o)+u),6*(t-2*i+o),3*(i-t),f),this.#e(t,i,o,u,e,r,c,d,3*(-e+3*(r-c)+d),6*(e-2*r+c),3*(r-e),f)}}function oL(a){return decodeURIComponent(escape(a))}let Tf=null,cx=null;function cA(a){return Tf||(Tf=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,cx=new Map([["","t"]])),a.replaceAll(Tf,(t,e,i)=>e?e.normalize("NFKC"):cx.get(i))}function ip(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const a=new Uint8Array(32);return crypto.getRandomValues(a),lA(a)}const sp="pdfjs_internal_id_";function lL(a,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,r,...o]=e;if(!a(i)&&!Number.isInteger(i)||!t(r))return!1;const c=o.length;let u=!0;switch(r.name){case"XYZ":if(c<2||c>3)return!1;break;case"Fit":case"FitB":return c===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(c>1)return!1;break;case"FitR":if(c!==4)return!1;u=!1;break;default:return!1}for(const d of o)if(!(typeof d=="number"||u&&d===null))return!1;return!0}function Ie(a,t,e){return Math.min(Math.max(a,t),e)}function uA(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(lA(a))}function cL(a){return Uint8Array.fromBase64?Uint8Array.fromBase64(a):sl(atob(a))}typeof Promise.try!="function"&&(Promise.try=function(a,...t){return new Promise(e=>{e(a(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(a){return a.reduce((t,e)=>t+e,0)});class qo{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function r(o){if(!o)return;let c=null;const u=o.name;if(u==="#text")c=o.value;else if(qo.shouldBuildText(u))o?.attributes?.textContent?c=o.attributes.textContent:o.value&&(c=o.value);else return;if(c!==null&&e.push({str:c}),!!o.children)for(const d of o.children)r(d)}return r(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class ap{static setupStorage(t,e,i,r,o){const c=r.getValue(e,{value:null});switch(i.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),o==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(c.value===i.attributes.xfaOn?t.setAttribute("checked",!0):c.value===i.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",u=>{r.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),o==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const u of i.children)u.attributes.value===c.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const d=u.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:r,linkService:o}){const{attributes:c}=e,u=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[d,f]of Object.entries(c))if(f!=null)switch(d){case"class":f.length&&t.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!u||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,f)}u&&o.addLinkAttributes(t,c.href,c.newWindow),i&&c.dataId&&this.setupStorage(t,c.dataId,e,i)}static render(t){const e=t.annotationStorage,i=t.linkService,r=t.xfaHtml,o=t.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:o,linkService:i});const u=o!=="richText",d=t.div;if(d.append(c),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=p}u&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);c.append(p),u&&qo.shouldBuildText(r.name)&&f.push(p)}return{textDivs:f}}const m=[[r,-1,c]];for(;m.length>0;){const[p,b,x]=m.at(-1);if(b+1===p.children.length){m.pop();continue}const S=p.children[++m.at(-1)[1]];if(S===null)continue;const{name:w}=S;if(w==="#text"){const E=document.createTextNode(S.value);f.push(E),x.append(E);continue}const T=S?.attributes?.xmlns?document.createElementNS(S.attributes.xmlns,w):document.createElement(w);if(x.append(T),S.attributes&&this.setAttributes({html:T,element:S,storage:e,intent:o,linkService:i}),S.children?.length>0)m.push([S,-1,T]);else if(S.value){const E=document.createTextNode(S.value);u&&qo.shouldBuildText(w)&&f.push(E),T.append(E)}}for(const p of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Li="http://www.w3.org/2000/svg";class ea{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function vr(a,t="text"){if(_o(a,document.baseURI)){const e=await fetch(a);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const r=new XMLHttpRequest;r.open("GET",a,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class al{constructor({viewBox:t,userUnit:e,scale:i,rotation:r,offsetX:o=0,offsetY:c=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=r,this.offsetX=o,this.offsetY=c,i*=e;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let m,p,b,x;switch(r%=360,r<0&&(r+=360),r){case 180:m=-1,p=0,b=0,x=1;break;case 90:m=0,p=1,b=1,x=0;break;case 270:m=0,p=-1,b=-1,x=0;break;case 0:m=1,p=0,b=0,x=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(b=-b,x=-x);let S,w,T,E;m===0?(S=Math.abs(f-t[1])*i+o,w=Math.abs(d-t[0])*i+c,T=(t[3]-t[1])*i,E=(t[2]-t[0])*i):(S=Math.abs(d-t[0])*i+o,w=Math.abs(f-t[1])*i+c,T=(t[2]-t[0])*i,E=(t[3]-t[1])*i),this.transform=[m*i,p*i,b*i,x*i,S-m*i*d-b*i*f,w-p*i*d-x*i*f],this.width=T,this.height=E}get rawDims(){const t=this.viewBox;return Ct(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new al({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:o})}convertToViewportPoint(t,e){const i=[t,e];return it.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];it.applyTransform(e,this.transform);const i=[t[2],t[3]];return it.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return it.applyInverseTransform(i,this.transform),i}}class Tu extends aa{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function rl(a){const t=a.length;let e=0;for(;e<t&&a[e].trim()==="";)e++;return a.substring(e,e+5).toLowerCase()==="data:"}function Cu(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function hA(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function dA(a,t="document.pdf"){if(typeof a!="string")return t;if(rl(a))return St('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(a);if(!i)return t;const r=u=>{try{let d=decodeURIComponent(u);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:u):d}catch{return u}},o=/\.pdf$/i,c=i.pathname.split("/").at(-1);if(o.test(c))return r(c);if(i.searchParams.size>0){const u=Array.from(i.searchParams.values()).reverse();for(const f of u)if(o.test(f))return r(f);const d=Array.from(i.searchParams.keys()).reverse();for(const f of d)if(o.test(f))return r(f)}if(i.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(d)return r(d[0])}return t}class ux{started=Object.create(null);times=[];time(t){t in this.started&&St(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||St(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:r,end:o}of this.times)t.push(`${i.padEnd(e)} ${o-r}ms
`);return t.join("")}}function _o(a,t){const e=t?URL.parse(a,t):URL.parse(a);return e?.protocol==="http:"||e?.protocol==="https:"}function An(a){a.preventDefault()}function ae(a){a.preventDefault(),a.stopPropagation()}function uL(a){console.log("Deprecated API usage: "+a)}class du{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const i=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const f=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let p=parseInt(e[9],10)||0;return p=p>=0&&p<=59?p:0,f==="-"?(c+=m,u+=p):f==="+"&&(c-=m,u-=p),new Date(Date.UTC(i,r,o,c,u,d))}}function fA(a,{scale:t=1,rotation:e=0}){const{width:i,height:r}=a.attributes.style,o=[0,0,parseInt(i),parseInt(r)];return new al({viewBox:o,userUnit:1,scale:t,rotation:e})}function br(a){if(a.startsWith("#")){const t=parseInt(a.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(t=>parseInt(t)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(St(`Not a valid color format: "${a}"`),[0,0,0])}function hL(a){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of a.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;a.set(e,br(i))}t.remove()}function se(a){const{a:t,b:e,c:i,d:r,e:o,f:c}=a.getTransform();return[t,e,i,r,o,c]}function si(a){const{a:t,b:e,c:i,d:r,e:o,f:c}=a.getTransform().invertSelf();return[t,e,i,r,o,c]}function ws(a,t,e=!1,i=!0){if(t instanceof al){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:c}=a,u=Re.isCSSRoundSupported,d=`var(--total-scale-factor) * ${r}px`,f=`var(--total-scale-factor) * ${o}px`,m=u?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,p=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(c.width=m,c.height=p):(c.width=p,c.height=m)}i&&a.setAttribute("data-main-rotation",t.rotation)}class Qn{constructor(){const{pixelRatio:t}=Qn;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,r,o=-1){let c=1/0,u=1/0,d=1/0;i=Qn.capPixels(i,o),i>0&&(c=Math.sqrt(i/(t*e))),r!==-1&&(u=r/t,d=r/e);const f=Math.min(c,u,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const fu=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class dL{static get isDarkMode(){return Ct(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class mA{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:i}=window.getComputedStyle(t);return t.remove(),Ct(this,"commentForegroundColor",br(i))}}function pA(a,t,e,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return a=Math.round(a*i+r),t=Math.round(t*i+r),e=Math.round(e*i+r),[a,t,e]}function hx(a,t){const e=a[0]/255,i=a[1]/255,r=a[2]/255,o=Math.max(e,i,r),c=Math.min(e,i,r),u=(o+c)/2;if(o===c)t[0]=t[1]=0;else{const d=o-c;switch(t[1]=u<.5?d/(o+c):d/(2-o-c),o){case e:t[0]=((i-r)/d+(i<r?6:0))*60;break;case i:t[0]=((r-e)/d+2)*60;break;case r:t[0]=((e-i)/d+4)*60;break}}t[2]=u}function rm(a,t){const e=a[0],i=a[1],r=a[2],o=(1-Math.abs(2*r-1))*i,c=o*(1-Math.abs(e/60%2-1)),u=r-o/2;switch(Math.floor(e/60)){case 0:t[0]=o+u,t[1]=c+u,t[2]=u;break;case 1:t[0]=c+u,t[1]=o+u,t[2]=u;break;case 2:t[0]=u,t[1]=o+u,t[2]=c+u;break;case 3:t[0]=u,t[1]=c+u,t[2]=o+u;break;case 4:t[0]=c+u,t[1]=u,t[2]=o+u;break;case 5:case 6:t[0]=o+u,t[1]=u,t[2]=c+u;break}}function dx(a){return a<=.03928?a/12.92:((a+.055)/1.055)**2.4}function fx(a,t,e){rm(a,e),e.map(dx);const i=.2126*e[0]+.7152*e[1]+.0722*e[2];rm(t,e),e.map(dx);const r=.2126*e[0]+.7152*e[1]+.0722*e[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const mx=new Map;function gA(a,t){const e=a[0]+a[1]*256+a[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let i=mx.get(e);if(i)return i;const r=new Float32Array(9),o=r.subarray(0,3),c=r.subarray(3,6);hx(a,c);const u=r.subarray(6,9);hx(t,u);const d=u[2]<.5,f=d?12:4.5;if(c[2]=d?Math.sqrt(c[2]):1-Math.sqrt(1-c[2]),fx(c,u,o)<f){let m,p;d?(m=c[2],p=1):(m=0,p=c[2]);const b=.005;for(;p-m>b;){const x=c[2]=(m+p)/2;d===fx(c,u,o)<f?m=x:p=x}c[2]=d?p:m}return rm(c,o),i=it.makeHexColor(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)),mx.set(e,i),i}function rp({html:a,dir:t,className:e},i){const r=document.createDocumentFragment();if(typeof a=="string"){const o=document.createElement("p");o.dir=t||"auto";const c=a.split(/(?:\r\n?|\n)/);for(let u=0,d=c.length;u<d;++u){const f=c[u];o.append(document.createTextNode(f)),u<d-1&&o.append(document.createElement("br"))}r.append(o)}else ap.render({xfaHtml:a,div:r,intent:"richText"});r.firstChild.classList.add("richText",e),i.append(r)}class Oo{#t=null;#e=null;#i;#n=null;#r=null;#s=null;#a=null;#o=null;static#c=null;constructor(t){this.#i=t,Oo.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",An,{signal:e}),t.addEventListener("pointerdown",Oo.#l,{signal:e}));const i=this.#n=document.createElement("div");i.className="buttons",t.append(i);const r=this.#i.toolbarPosition;if(r){const{style:o}=t,c=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*c}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#d(t){this.#i._focusEventsAllowed=!1,ae(t)}#h(t){this.#i._focusEventsAllowed=!0,ae(t)}#f(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",An,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#r?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",Oo.#c[t]),this.#f(i)&&i.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#n.append(i)}get#g(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#f(e),this.#n.append(e,this.#g),this.#r=t}addComment(t,e=null){if(this.#s)return;const i=t.renderForToolbar();if(!i)return;this.#f(i);const r=this.#a=this.#g;e?(this.#n.insertBefore(i,e),this.#n.insertBefore(r,e)):this.#n.append(i,r),this.#s=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#f(e),this.#n.append(e,this.#g)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#f(e),this.#n.append(e,this.#g)}removeButton(t){t==="comment"&&(this.#s?.removeToolbarCommentButton(),this.#s=null,this.#a?.remove(),this.#a=null)}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,i){const r=this.#n.querySelector(i);r&&t==="comment"&&this.addComment(e,r)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class fL{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",An,{signal:e});const i=this.#t=document.createElement("div");return i.className="buttons",t.append(i),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#r(t,e){let i=0,r=0;for(const o of t){const c=o.y+o.height;if(c<i)continue;const u=o.x+(e?o.width:0);if(c>i){r=u,i=c;continue}e?u>r&&(r=u):u<r&&(r=u)}return[e?1-r:r,i]}show(t,e,i){const[r,o]=this.#r(e,i),{style:c}=this.#e||=this.#n();t.append(this.#e),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(t,e,i,r){const o=document.createElement("button");o.classList.add("basic",t),o.tabIndex=0,o.setAttribute("data-l10n-id",e);const c=document.createElement("span");o.append(c),c.className="visuallyHidden",c.setAttribute("data-l10n-id",i);const u=this.#i._signal;u instanceof AbortSignal&&!u.aborted&&(o.addEventListener("contextmenu",An,{signal:u}),o.addEventListener("click",r,{signal:u})),this.#t.append(o)}}function yA(a,t,e){for(const i of e)t.addEventListener(i,a[i].bind(a))}class mL{#t=0;get id(){return`${Ho}${this.#t++}`}}class op{#t=ip();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const o=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Ct(this,"_isSVGFittingCanvas",o)}async#n(t,e){this.#i||=new Map;let i=this.#i.get(t);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(i.url=e,r=await vr(e,"blob")):e instanceof File?r=i.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const o=op._isSVGFittingCanvas,c=new FileReader,u=new Image,d=new Promise((f,m)=>{u.onload=()=>{i.bitmap=u,i.isSvg=!0,f()},c.onload=async()=>{const p=i.svgUrl=c.result;u.src=await o?`${p}#svgView(preserveAspectRatio(none))`:p},u.onerror=c.onerror=m});c.readAsDataURL(r),await d}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){St(r),i=null}return this.#i.set(t,i),i&&this.#i.set(i.id,i),i}async getFromFile(t){const{lastModified:e,name:i,size:r,type:o}=t;return this.#n(`${e}_${i}_${r}_${o}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const i=await e;return this.#n(t,i)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let i=this.#i.get(t);if(i?.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,i),this.#i.set(i.id,i),i}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=r.convertToBlob()}i.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class pL{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:i,mustExec:r,type:o=NaN,overwriteIfSameType:c=!1,keepUndo:u=!1}){if(r&&t(),this.#e)return;const d={cmd:t,undo:e,post:i,type:o};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(d);return}if(c&&this.#t[this.#n].type===o){u&&(d.undo=this.#t[this.#n].undo),this.#t[this.#n]=d;return}const f=this.#n+1;f===this.#i?this.#t.splice(0,1):(this.#n=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(d)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class ol{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Re.platform;for(const[i,r,o={}]of t)for(const c of i){const u=c.startsWith("mac+");e&&u?(this.callbacks.set(c.slice(4),{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1))):!e&&!u&&(this.callbacks.set(c,{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(this.#t(e));if(!i)return;const{callback:r,options:{bubbles:o=!1,args:c=[],checker:u=null}}=i;u&&!u(t,e)||(r.bind(t,...c,e)(),o||ae(e))}}class lp{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return hL(t),Ct(this,"_colors",t)}convert(t){const e=br(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,r]of this._colors)if(r.every((o,c)=>o===e[c]))return lp._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?it.makeHexColor(...e):t}}class Ui{#t=new AbortController;#e=null;#i=null;#n=new Map;#r=new Map;#s=null;#a=null;#o=null;#c=new pL;#l=null;#d=null;#h=null;#f=0;#g=new Set;#m=null;#u=null;#p=new Set;_editorUndoBar=null;#y=!1;#b=!1;#v=!1;#T=null;#S=null;#x=null;#_=null;#A=!1;#E=null;#R=new mL;#M=!1;#N=!1;#B=!1;#k=null;#P=null;#F=null;#j=null;#G=null;#C=At.NONE;#w=new Set;#L=null;#z=null;#U=null;#X=null;#$=null;#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#V=[0,0];#O=null;#q=null;#Z=null;#J=null;#I=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Ui.prototype,e=c=>c.#q.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),i=(c,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new ol([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&c.#q.contains(u)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&c.#q.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,i,r,o,c,u,d,f,m,p,b,x,S,w,T){const E=this._signal=this.#t.signal;this.#q=t,this.#Z=e,this.#J=i,this.#s=r,this.#l=o,this.#z=c,this.#$=d,this._eventBus=u,u._on("editingaction",this.onEditingAction.bind(this),{signal:E}),u._on("pagechanging",this.onPageChanging.bind(this),{signal:E}),u._on("scalechanging",this.onScaleChanging.bind(this),{signal:E}),u._on("rotationchanging",this.onRotationChanging.bind(this),{signal:E}),u._on("setpreference",this.onSetPreference.bind(this),{signal:E}),u._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:E}),window.addEventListener("pointerdown",()=>{this.#N=!0},{capture:!0,signal:E}),window.addEventListener("pointerup",()=>{this.#N=!1},{capture:!0,signal:E}),this.#lt(),this.#dt(),this.#et(),this.#a=d.annotationStorage,this.#T=d.filterFactory,this.#U=f,this.#_=m||null,this.#y=p,this.#b=b,this.#v=x,this.#G=S||null,this.viewParameters={realScale:ea.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=w||null,this._supportsPinchToZoom=T!==!1,o?.setSidebarUiManager(this)}destroy(){this.#I?.resolve(),this.#I=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#r.values())t.destroy();this.#r.clear(),this.#n.clear(),this.#p.clear(),this.#j?.clear(),this.#e=null,this.#w.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#z?.destroy(),this.#E?.hide(),this.#E=null,this.#F?.destroy(),this.#F=null,this.#i=null,this.#S&&(clearTimeout(this.#S),this.#S=null),this.#O&&(clearTimeout(this.#O),this.#O=null),this._editorUndoBar?.destroy(),this.#$=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#G}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return Ct(this,"hcmFilter",this.#U?this.#T.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Ct(this,"direction",getComputedStyle(this.#q).direction)}get _highlightColors(){return Ct(this,"_highlightColors",this.#_?new Map(this.#_.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Ct(this,"highlightColors",null);const e=new Map,i=!!this.#U;for(const[r,o]of t){const c=r.endsWith("_HCM");if(i&&c){e.set(r.replace("_HCM",""),o);continue}!i&&!c&&e.set(r,o)}return Ct(this,"highlightColors",e)}get highlightColorNames(){return Ct(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=t}setMainHighlightColorPicker(t){this.#F=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,i,r){this.#l?.showDialog(this,t,e,i,r)}selectComment(t,e){this.#r.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,i=void 0){this.#l?.toggleCommentPopup(t,e,i)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#r.has(t-1))return;const{resolve:e,promise:i}=Promise.withResolvers(),r=o=>{o.pageNumber===t&&(this._eventBus._off("editorsrendered",r),e())};this._eventBus.on("editorsrendered",r),await i}getSignature(t){this.#z?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#z}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){t==="enableNewAltTextWhenAddingImage"&&(this.#v=e)}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#q.focus()}findParent(t,e){for(const i of this.#r.values()){const{x:r,y:o,width:c,height:u}=i.div.getBoundingClientRect();if(t>=r&&t<=r+c&&e>=o&&e<=o+u)return i}return null}disableUserSelect(t=!1){this.#Z.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*ea.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Q({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of this.#r.values())if(i.hasTextLayer(t))return i;return null}highlightSelection(t="",e=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:o,focusNode:c,focusOffset:u}=i,d=i.toString(),m=this.#Q(i).closest(".textLayer"),p=this.getSelectionBoxes(m);if(!p)return;i.empty();const b=this.#tt(m),x=this.#C===At.NONE,S=()=>{const w=b?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:r,anchorOffset:o,focusNode:c,focusOffset:u,text:d});x&&this.showAllEditors("highlight",!0,!0),e&&w?.editComment()};if(x){this.switchToMode(At.HIGHLIGHT,S);return}S()}commentSelection(t=""){this.highlightSelection(t,!0)}#rt(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=this.#Q(t).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(this.#E||=new fL(this),this.#E.show(i,r,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#a)return null;const e=`${Ho}${t}`,i=this.#a.getRawValue(e);return i&&this.#a.remove(e),i}addToAnnotationStorage(t){!t.isEmpty()&&this.#a&&!this.#a.has(t.id)&&this.#a.setValue(t.id,t)}a11yAlert(t,e=null){const i=this.#J;i&&(i.setAttribute("data-l10n-id",t),e?i.setAttribute("data-l10n-args",JSON.stringify(e)):i.removeAttribute("data-l10n-args"))}#ot(){const t=document.getSelection();if(!t||t.isCollapsed){this.#L&&(this.#E?.hide(),this.#L=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#L)return;const r=this.#Q(t).closest(".textLayer");if(!r){this.#L&&(this.#E?.hide(),this.#L=null,this.#D({hasSelectedText:!1}));return}if(this.#E?.hide(),this.#L=e,this.#D({hasSelectedText:!0}),!(this.#C!==At.HIGHLIGHT&&this.#C!==At.NONE)&&(this.#C===At.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#A=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#C===At.HIGHLIGHT?this.#tt(r):null;if(o?.toggleDrawing(),this.#N){const c=new AbortController,u=this.combinedSignal(c),d=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),o?.toggleDrawing(!0),f.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}else o?.toggleDrawing(!0),this.#W("main_toolbar")}}#W(t=""){this.#C===At.HIGHLIGHT?this.highlightSelection(t):this.#y&&this.#rt()}#lt(){document.addEventListener("selectionchange",this.#ot.bind(this),{signal:this._signal})}#ct(){if(this.#x)return;this.#x=new AbortController;const t=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ut(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#A&&(this.#A=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#w)if(e.div.contains(t)){this.#P=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#P)return;const[t,e]=this.#P;this.#P=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#k)return;this.#k=new AbortController;const t=this.combinedSignal(this.#k);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ht(){this.#k?.abort(),this.#k=null}#nt(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#it(){this.#d?.abort(),this.#d=null}#dt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.#nt()}removeEditListeners(){this.#ht(),this.#it()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const i of this.#w){const r=i.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const c of this.#u)if(c.isHandlingMimeForPasting(o.type)){c.paste(o,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(o){St(`paste: "${o.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const d of i){const f=await r.deserialize(d);if(!f)return;o.push(f)}const c=()=>{for(const d of o)this.#st(d);this.#at(o)},u=()=>{for(const d of o)d.remove()};this.addCommands({cmd:c,undo:u,mustExec:!0})}catch(o){St(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#C!==At.NONE&&!this.isEditorHandlingKeyboard&&Ui._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#A&&(this.#A=!1,this.#W("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#D(t){Object.entries(t).some(([i,r])=>this.#Y[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,t)}),this.#C===At.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#H([[Dt.HIGHLIGHT_FREE,!0]]))}#H(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ct(),this.#nt(),this.#D({isEditing:this.#C!==At.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ut(),this.#it(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const e of this.#u)this.#H(e.defaultPropertiesToUpdate)}}getId(){return this.#R.id}get currentLayer(){return this.#r.get(this.#f)}getLayer(t){return this.#r.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#r.set(t.pageIndex,t),this.#M?t.enable():t.disable()}removeLayer(t){this.#r.delete(t.pageIndex)}async updateMode(t,e=null,i=!1,r=!1,o=!1){if(this.#C!==t&&!(this.#I&&(await this.#I.promise,!this.#I))){if(this.#I=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#C===At.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#C=t,t===At.NONE){this.setEditingState(!1),this.#mt();for(const c of this.#n.values())c.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#I.resolve();return}for(const c of this.#n.values())c.addStandaloneCommentButton();t===At.SIGNATURE&&await this.#z?.loadSignatures(),this.setEditingState(!0),await this.#ft(),this.unselectAll();for(const c of this.#r.values())c.updateMode(t);if(t===At.POPUP){this.#i||=await this.#$.getAnnotationsByType(new Set(this.#u.map(d=>d._editorType)));const c=new Set,u=[];for(const d of this.#n.values()){const{annotationElementId:f,hasComment:m,deleted:p}=d;f&&c.add(f),m&&!p&&u.push(d.getData())}for(const d of this.#i){const{id:f,popupRef:m,contentsObj:p}=d;m&&p?.str&&!c.has(f)&&!this.#g.has(f)&&u.push(d)}this.#l?.showSidebar(u)}if(!e){i&&this.addNewEditorFromKeyboard(),this.#I.resolve();return}for(const c of this.#n.values())c.uid===e?(this.setSelected(c),o?c.editComment():r?c.enterInEditMode():c.focus()):c.unselect();this.#I.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#C&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#u){switch(t){case Dt.CREATE:this.currentLayer.addNewEditor(e);return;case Dt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#X||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const i of this.#w)i.updateParams(t,e);else for(const i of this.#u)i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){for(const o of this.#n.values())o.editorType===t&&o.show(e);(this.#X?.get(Dt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#H([[Dt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#B!==t){this.#B=t;for(const e of this.#r.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ft(){if(!this.#M){this.#M=!0;const t=[];for(const e of this.#r.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#mt(){if(this.unselectAll(),this.#M){this.#M=!1;for(const t of this.#r.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#S&&clearTimeout(this.#S),this.#S=setTimeout(()=>{this.focusMainContainer(),this.#S=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#j?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#g.has(t.annotationElementId))&&this.#a?.remove(t.id)}addDeletedAnnotationElement(t){this.#g.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#g.has(t)}removeDeletedAnnotationElement(t){this.#g.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#st(t){const e=this.#r.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#H(t.propertiesToUpdate))}get#pt(){let t=null;for(t of this.#w);return t}updateUI(t){this.#pt===t&&this.#H(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#H(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#w.has(t)){this.#w.delete(t),t.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#w.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#h?.commitOrRemove();for(const e of this.#w)e!==t&&e.unselect();this.#w.clear(),this.#w.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(t){return this.#w.has(t)}get firstSelectedEditor(){return this.#w.values().next().value}unselect(t){t.unselect(),this.#w.delete(t),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#w.size!==0}get isEnterHandled(){return this.#w.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#D({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(t){this.#c.add(t),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(t){this.#c.cleanType(t)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#w],i=()=>{this._editorUndoBar?.show(r,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},r=()=>{for(const o of e)this.#st(o)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#at(t){for(const e of this.#w)e.unselect();this.#w.clear();for(const e of t)e.isEmpty()||(this.#w.add(e),e.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#w)t.commit();this.#at(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#C!==At.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const t of this.#w)t.unselect();this.#w.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#V[0]+=t,this.#V[1]+=e;const[r,o]=this.#V,c=[...this.#w],u=1e3;this.#O&&clearTimeout(this.#O),this.#O=setTimeout(()=>{this.#O=null,this.#V[0]=this.#V[1]=0,this.addCommands({cmd:()=>{for(const d of c)this.#n.has(d.id)&&(d.translateInPage(r,o),d.translationDone())},undo:()=>{for(const d of c)this.#n.has(d.id)&&(d.translateInPage(-r,-o),d.translationDone())},mustExec:!1})},u);for(const d of c)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#m=new Map;for(const t of this.#w)this.#m.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#m)return!1;this.disableUserSelect(!1);const t=this.#m;this.#m=null;let e=!1;for(const[{x:r,y:o,pageIndex:c},u]of t)u.newX=r,u.newY=o,u.newPageIndex=c,e||=r!==u.savedX||o!==u.savedY||c!==u.savedPageIndex;if(!e)return!1;const i=(r,o,c,u)=>{if(this.#n.has(r.id)){const d=this.#r.get(u);d?r._setParentAndPosition(d,o,c):(r.pageIndex=u,r.x=o,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:c,newPageIndex:u}]of t)i(r,o,c,u)},undo:()=>{for(const[r,{savedX:o,savedY:c,savedPageIndex:u}]of t)i(r,o,c,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#m)for(const i of this.#m.keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#w.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#C}isEditingMode(){return this.#C!==At.NONE}get imageManager(){return Ct(this,"imageManager",new op)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,m=e.rangeCount;f<m;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:i,y:r,width:o,height:c}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(f,m,p,b)=>({x:(m-r)/c,y:1-(f+p-i)/o,width:b/c,height:p/o});break;case"180":u=(f,m,p,b)=>({x:1-(f+p-i)/o,y:1-(m+b-r)/c,width:p/o,height:b/c});break;case"270":u=(f,m,p,b)=>({x:1-(m+b-r)/c,y:(f-i)/o,width:b/c,height:p/o});break;default:u=(f,m,p,b)=>({x:(f-i)/o,y:(m-r)/c,width:p/o,height:b/c});break}const d=[];for(let f=0,m=e.rangeCount;f<m;f++){const p=e.getRangeAt(f);if(!p.collapsed)for(const{x:b,y:x,width:S,height:w}of p.getClientRects())S===0||w===0||d.push(u(b,x,S,w))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const i=this.#a.getRawValue(e);i&&(this.#C===At.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){const r=this.#j?.get(t);r&&(r.setCanvas(e,i),this.#j.delete(t))}addMissingCanvas(t,e){(this.#j||=new Map).set(t,e)}}class oi{#t=null;#e=!1;#i=null;#n=null;#r=null;#s=null;#a=!1;#o=null;#c=null;#l=null;#d=null;#h=!1;static#f=null;static _l10n=null;constructor(t){this.#c=t,this.#h=t._uiManager.useNewAltTextFlow,oi.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){oi._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",oi.#f.missing),e.setAttribute("data-l10n-id",oi.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#c._uiManager._signal;t.addEventListener("contextmenu",An,{signal:i}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:i});const r=o=>{o.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#h&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#a=!0,r(o))},{signal:i}),await this.#m(),t}get#g(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#a}),this.#a=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#d=await oi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#m())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:r,cancel:o=!1}){i&&(this.#l=i,this.#d=r),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#m())}toggle(t=!1){this.#i&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#r=null,this.#o?.remove(),this.#o=null}async#m(){const t=this.#i;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",oi.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",oi.#f[`${this.#g}-label`]),!this.#t){this.#r?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#r?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#r;if(!e){this.#r=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const r=100,o=this.#c._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#r.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#r?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Fc{#t=null;#e=null;#i=!1;#n=null;#r=null;#s=null;#a=null;#o=null;#c=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#d(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:i}=t;i.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const r=this.#n.commentButtonColor;r&&(i.backgroundColor=r)}return this.#d(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:i}=this.#t.getBoundingClientRect(),{x:r,y:o,width:c,height:u}=this.#n.parent.boundingClientRect;return[(t-r)/c,(e+i-o)/u]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#d(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const i=this.#n._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return t;t.addEventListener("contextmenu",An,{signal:i}),e&&(t.addEventListener("focusin",o=>{this.#n._focusEventsAllowed=!1,ae(o)},{capture:!0,signal:i}),t.addEventListener("focusout",o=>{this.#n._focusEventsAllowed=!0,ae(o)},{capture:!0,signal:i})),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:i});const r=o=>{o.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#i=!0,r(o))},{signal:i}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:i}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:i}),t}edit(t){const e=this.commentPopupPositionInLayer;let i,r;if(e)[i,r]=e;else{[i,r]=this.#n.commentButtonPosition;const{width:m,height:p,x:b,y:x}=this.#n;i=b+i*m,r=x+r*p}const o=this.#n.parent.boundingClientRect,{x:c,y:u,width:d,height:f}=o;this.#n._uiManager.editComment(this.#n,c+i*d,u+r*f,{...t,parentDimensions:o})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#a===""}isEmpty(){return this.#a===null}hasBeenEdited(){return this.isDeleted()||this.#a!==this.#r}serialize(){return this.data}get data(){return{text:this.#a,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#a&&(this.#s=null),t===null){this.#a="",this.#c=!0;return}this.#a=t,this.#o=new Date,this.#c=!1}setInitialText(t,e=null){this.#r=t,this.data=t,this.#o=null,this.#s=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#a="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class ll{#t;#e=!1;#i=null;#n;#r;#s;#a;#o=null;#c;#l=null;#d;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:o=null,onPinchEnd:c=null,signal:u}){this.#t=t,this.#i=i,this.#n=e,this.#r=r,this.#s=o,this.#a=c,this.#d=new AbortController,this.#c=AbortSignal.any([u,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Qn.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,o=AbortSignal.any([this.#c,r.signal]),c=this.#t,u={capture:!0,signal:o,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(ae(f),d(f))},u),c.addEventListener("pointerup",d,u),c.addEventListener("pointercancel",d,u);return}if(!this.#h){this.#h=new AbortController;const r=AbortSignal.any([this.#c,this.#h.signal]),o=this.#t,c={signal:r,capture:!1,passive:!1};o.addEventListener("touchmove",this.#g.bind(this),c);const u=this.#m.bind(this);o.addEventListener("touchend",u,c),o.addEventListener("touchcancel",u,c),c.capture=!0,o.addEventListener("pointerdown",ae,c),o.addEventListener("pointermove",ae,c),o.addEventListener("pointercancel",ae,c),o.addEventListener("pointerup",ae,c),this.#r?.()}if(ae(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#g(t){if(!this.#l||t.touches.length!==2)return;ae(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:r,screenY:o}=e,{screenX:c,screenY:u}=i,d=this.#l,{touch0X:f,touch0Y:m,touch1X:p,touch1Y:b}=d,x=p-f,S=b-m,w=c-r,T=u-o,E=Math.hypot(w,T)||1,C=Math.hypot(x,S)||1;if(!this.#e&&Math.abs(C-E)<=ll.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=r,d.touch0Y=o,d.touch1X=c,d.touch1Y=u,!this.#e){this.#e=!0;return}const M=[(r+c)/2,(o+u)/2];this.#s?.(M,C,E)}#m(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#a?.()),this.#l&&(ae(t),this.#l=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class pt{#t=null;#e=null;#i=null;#n=null;#r=null;#s=!1;#a=null;#o="";#c=null;#l=null;#d=null;#h=null;#f=null;#g="";#m=!1;#u=null;#p=!1;#y=!1;#b=!1;#v=null;#T=0;#S=0;#x=null;#_=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#A=!1;#E=pt._zIndex++;static _borderLineWidth=-1;static _colorManager=new lp;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=pt.prototype._resizeWithKeyboard,e=Ui.TRANSLATE_SMALL,i=Ui.TRANSLATE_BIG;return Ct(this,"_resizerKeyboardManager",new ol([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],pt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:r,pageX:o,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[o,c];const[u,d]=this.parentDimensions;this.x=t.x/u,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ct(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new gL({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(pt._l10n??=t,pt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),pt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);pt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Kt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#A}set _isDraggable(t){this.#A=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#E}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#O(),this.#h?.remove(),this.#h=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#m?this.#m=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,r){const[o,c]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(t+i)/o,this.y=(e+r)/c,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,r]=this.parentDimensions;this.setAt(t*i,e*r,this.width*i,this.height*r),this._onTranslated()}#R([t,e],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#R(this.parentDimensions,t,e)}translateInPage(t,e){this.#u||=[this.x,this.y,this.width,this.height],this.#R(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#u||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[r,o]}=this;if(this.x+=t/r,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:u}=this;const[d,f]=this.getBaseTranslation();c+=d,u+=f;const{style:m}=i;m.left=`${(100*c).toFixed(2)}%`,m.top=`${(100*u).toFixed(2)}%`,this._onTranslating(c,u),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=pt,r=i/t,o=i/e;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,r]}=this;let{x:o,y:c,width:u,height:d}=this;if(u*=i,d*=r,o*=i,c*=r,this._mustFixPosition)switch(t){case 0:o=Ie(o,0,i-u),c=Ie(c,0,r-d);break;case 90:o=Ie(o,0,i-d),c=Ie(c,u,r);break;case 180:o=Ie(o,u,i),c=Ie(c,d,r);break;case 270:o=Ie(o,d,i),c=Ie(c,0,r-u);break}this.x=o/=i,this.y=c/=r;const[f,m]=this.getBaseTranslation();o+=f,c+=m,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}static#M(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return pt.#M(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return pt.#M(t,e,360-this.parentRotation)}#N(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(){const{div:{style:t},width:e,height:i}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#B(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const r=document.createElement("div");this.#c.append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",this.#k.bind(this,i),{signal:e}),r.addEventListener("contextmenu",An,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#c)}#k(t,e){e.preventDefault();const{isMac:i}=Re.platform;if(e.button!==0||e.ctrlKey&&i)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const o=new AbortController,c=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#j.bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",ae,{passive:!1,signal:c}),window.addEventListener("contextmenu",An,{signal:c}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=u,this.div.style.cursor=d,this.#F()};window.addEventListener("pointerup",f,{signal:c}),window.addEventListener("blur",f,{signal:c})}#P(t,e,i,r){this.width=i,this.height=r,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#F(){if(!this.#d)return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:r}=this.#d;this.#d=null;const o=this.x,c=this.y,u=this.width,d=this.height;o===t&&c===e&&u===i&&d===r||this.addCommands({cmd:this.#P.bind(this,o,c,u,d),undo:this.#P.bind(this,t,e,i,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#j(t,e){const[i,r]=this.parentDimensions,o=this.x,c=this.y,u=this.width,d=this.height,f=pt.MIN_SIZE/i,m=pt.MIN_SIZE/r,p=this.#N(this.rotation),b=(B,V)=>[p[0]*B+p[2]*V,p[1]*B+p[3]*V],x=this.#N(360-this.rotation),S=(B,V)=>[x[0]*B+x[2]*V,x[1]*B+x[3]*V];let w,T,E=!1,C=!1;switch(t){case"topLeft":E=!0,w=(B,V)=>[0,0],T=(B,V)=>[B,V];break;case"topMiddle":w=(B,V)=>[B/2,0],T=(B,V)=>[B/2,V];break;case"topRight":E=!0,w=(B,V)=>[B,0],T=(B,V)=>[0,V];break;case"middleRight":C=!0,w=(B,V)=>[B,V/2],T=(B,V)=>[0,V/2];break;case"bottomRight":E=!0,w=(B,V)=>[B,V],T=(B,V)=>[0,0];break;case"bottomMiddle":w=(B,V)=>[B/2,V],T=(B,V)=>[B/2,0];break;case"bottomLeft":E=!0,w=(B,V)=>[0,V],T=(B,V)=>[B,0];break;case"middleLeft":C=!0,w=(B,V)=>[0,V/2],T=(B,V)=>[B,V/2];break}const M=w(u,d),R=T(u,d);let D=b(...R);const P=pt._round(o+D[0]),j=pt._round(c+D[1]);let F=1,H=1,Y,J;if(e.fromKeyboard)({deltaX:Y,deltaY:J}=e);else{const{screenX:B,screenY:V}=e,[Q,lt]=this.#l;[Y,J]=this.screenToPageTranslation(B-Q,V-lt),this.#l[0]=B,this.#l[1]=V}if([Y,J]=S(Y/i,J/r),E){const B=Math.hypot(u,d);F=H=Math.max(Math.min(Math.hypot(R[0]-M[0]-Y,R[1]-M[1]-J)/B,1/u,1/d),f/u,m/d)}else C?F=Ie(Math.abs(R[0]-M[0]-Y),f,1)/u:H=Ie(Math.abs(R[1]-M[1]-J),m,1)/d;const at=pt._round(u*F),ft=pt._round(d*H);D=b(...T(at,ft));const rt=P-D[0],vt=j-D[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=at,this.height=ft,this.x=rt,this.y=vt,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new Oo(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,i]of t)await this._editToolbar.addButton(e,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(oi.initialize(pt._l10n),this.#i=new oi(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new Fc(this)}addStandaloneCommentButton(){if(this.#r){this._uiManager.isEditingMode()&&this.#r.classList.remove("hidden");return}this.hasComment&&(this.#r=this.#n.renderForStandalone(),this.div.append(this.#r))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#r=null}hideStandaloneCommentButton(){this.#r?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:i,deleted:r}}=this.#n;return{text:e,richText:t,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new Fc(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:i}){if(!e||(this.#n||=new Fc(this),this.#n.setInitialText(t,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new Fc(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,r]=t.rect,[o]=this.pageDimensions,[c]=this.pageTranslation,u=c+o+1,d=r-100,f=u+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[u,d,f,r]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#s?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#U();const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[r,o]=this.getInitialTranslation();return this.translate(r,o),yA(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#_||=new ll({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#G.bind(this),onPinching:this.#C.bind(this),onPinchEnd:this.#w.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#G(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#C(t,e,i){let o=.7*(i/e)+1-.7;if(o===1)return;const c=this.#N(this.rotation),u=(P,j)=>[c[0]*P+c[2]*j,c[1]*P+c[3]*j],[d,f]=this.parentDimensions,m=this.x,p=this.y,b=this.width,x=this.height,S=pt.MIN_SIZE/d,w=pt.MIN_SIZE/f;o=Math.max(Math.min(o,1/b,1/x),S/b,w/x);const T=pt._round(b*o),E=pt._round(x*o);if(T===b&&E===x)return;this.#u||=[m,p,b,x];const C=u(b/2,x/2),M=pt._round(m+C[0]),R=pt._round(p+C[1]),D=u(T/2,E/2);this.x=M-D[0],this.y=R-D[1],this.width=T,this.height=E,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#w(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#F()}pointerdown(t){const{isMac:e}=Re.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#m=!0,this._isDraggable){this.#z(t);return}this.#L(t)}#L(t){const{isMac:e}=Re.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#z(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,o=this._uiManager.combinedSignal(r),c={capture:!0,passive:!1,signal:o},u=f=>{r.abort(),this.#a=null,this.#m=!1,this._uiManager.endDragSession()||this.#L(f),i&&this._onStopDragging()};e&&(this.#T=t.clientX,this.#S=t.clientY,this.#a=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",f=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:m,clientY:p,pointerId:b}=f;if(b!==this.#a){ae(f);return}const[x,S]=this.screenToPageTranslation(m-this.#T,p-this.#S);this.#T=m,this.#S=p,this._uiManager.dragSelectedEditors(x,S)},c),window.addEventListener("touchmove",ae,c),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#_||f.isPrimary)&&u(f),ae(f)},c));const d=f=>{if(!this.#a||this.#a===f.pointerId){u(f);return}ae(f)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const r=this.parentScale,[o,c]=this.pageDimensions,[u,d]=this.pageTranslation,f=t/r,m=e/r,p=this.x*o,b=this.y*c,x=this.width*o,S=this.height*c;switch(i){case 0:return[p+f+u,c-b-m-S+d,p+f+x+u,c-b-m+d];case 90:return[p+m+u,c-b+f+d,p+m+S+u,c-b+f+x+d];case 180:return[p-f-x+u,c-b+m+d,p-f+u,c-b+m+S+d];case 270:return[p-m-S+u,c-b-f-x+d,p-m+u,c-b-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,r,o,c]=t,u=o-i,d=c-r;switch(this.rotation){case 0:return[i,e-c,u,d];case 90:return[i,e-r,d,u];case 180:return[o,e-r,u,d];case 270:return[o,e-c,d,u];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&pt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:i,opacity:r,deleted:o,richText:c},uid:u,pageIndex:d,creationDate:f,modificationDate:m}=this;return{id:u,pageIndex:d,rect:this.getPDFRect(),richText:c,contentsObj:{str:t},creationDate:f,modificationDate:i||m,popupRef:!o,color:e,opacity:r}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:o,innerWidth:c}=window;return e<c&&r>0&&t<o&&i>0}#U(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#U()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,i){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[o,c]=r.pageDimensions,[u,d,f,m]=r.getRectInCurrentCoords(t.rect,c);return r.x=u/o,r.y=d/c,r.width=f/o,r.height=m/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#O(),this.removeEditToolbar(),this.#x){for(const t of this.#x.values())clearTimeout(t);this.#x=null}this.parent=null,this.#_?.destroy(),this.#_=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#B(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[i,r,o,c]=this.getPDFRect();return[pt._round(i+(o-i)*t),pt._round(r+(c-r)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#e){this.#e=Array.from(e);const c=this.#X.bind(this),u=this.#$.bind(this),d=this._uiManager._signal;for(const f of this.#e){const m=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",c,{signal:d}),f.addEventListener("blur",u,{signal:d}),f.addEventListener("focus",this.#Y.bind(this,m),{signal:d}),f.setAttribute("data-l10n-id",pt._l10nResizer[m])}}const i=this.#e[0];let r=0;for(const c of e){if(c===i)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==r){if(o<r)for(let u=0;u<r-o;u++)this.#c.append(this.#c.firstChild);else if(o>r)for(let u=0;u<o-r;u++)this.#c.firstChild.before(this.#c.lastChild);let c=0;for(const u of e){const f=this.#e[c++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",pt._l10nResizer[f])}}this.#V(0),this.#b=!0,this.#c.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#X(t){pt._resizerKeyboardManager.exec(this,t)}#$(t){this.#b&&t.relatedTarget?.parentNode!==this.#c&&this.#O()}#Y(t){this.#g=this.#b?t:""}#V(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#b&&this.#j(this.#g,{deltaX:t,deltaY:e,fromKeyboard:!0})}#O(){this.#b=!1,this.#V(-1),this.#F()}_stopResizingWithKeyboard(){this.#O(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#x||=new Map;const{action:i}=t;let r=this.#x.get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#x.delete(i),this.#x.size===0&&(this.#x=null)},pt._telemetryTimeout),this.#x.set(i,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(t){if(!this.#h&&!this.deleted){this.#h=t.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class gL extends pt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const px=3285377520,Ln=4294901760,ai=65535;class vA{constructor(t){this.h1=t?t&4294967295:px,this.h2=t?t&4294967295:px}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let w=0,T=t.length;w<T;w++){const E=t.charCodeAt(w);E<=255?e[i++]=E:(e[i++]=E>>>8,e[i++]=E&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,o=i-r*4,c=new Uint32Array(e.buffer,0,r);let u=0,d=0,f=this.h1,m=this.h2;const p=3432918353,b=461845907,x=p&ai,S=b&ai;for(let w=0;w<r;w++)w&1?(u=c[w],u=u*p&Ln|u*x&ai,u=u<<15|u>>>17,u=u*b&Ln|u*S&ai,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(d=c[w],d=d*p&Ln|d*x&ai,d=d<<15|d>>>17,d=d*b&Ln|d*S&ai,m^=d,m=m<<13|m>>>19,m=m*5+3864292196);switch(u=0,o){case 3:u^=e[r*4+2]<<16;case 2:u^=e[r*4+1]<<8;case 1:u^=e[r*4],u=u*p&Ln|u*x&ai,u=u<<15|u>>>17,u=u*b&Ln|u*S&ai,r&1?f^=u:m^=u}this.h1=f,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Ln|t*36045&ai,e=e*4283543511&Ln|((e<<16|t>>>16)*2950163797&Ln)>>>16,t^=e>>>1,t=t*444984403&Ln|t*60499&ai,e=e*3301882366&Ln|((e<<16|t>>>16)*3120437893&Ln)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const om=Object.freeze({map:null,hash:"",transfer:void 0});class cp{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=this.#n.get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof pt&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of this.#n.values())if(i instanceof pt)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=this.#n.get(t);let r=!1;if(i!==void 0)for(const[o,c]of Object.entries(e))i[o]!==c&&(r=!0,i[o]=c);else r=!0,this.#n.set(t,e);r&&this.#r(),e instanceof pt&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#r(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new bA(this)}get serializable(){if(this.#n.size===0)return om;const t=new Map,e=new vA,i=[],r=Object.create(null);let o=!1;for(const[c,u]of this.#n){const d=u instanceof pt?u.serialize(!1,r):u;d&&(t.set(c,d),e.update(`${c}:${JSON.stringify(d)}`),o||=!!d.bitmap)}if(o)for(const c of t.values())c.bitmap&&i.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:om}get editorStats(){let t=null;const e=new Map;let i=0,r=0;for(const o of this.#n.values()){if(!(o instanceof pt)){o.popup&&(o.popup.deleted?r+=1:i+=1);continue}o.isCommentDeleted?r+=1:o.hasEditedComment&&(i+=1);const c=o.telemetryFinalData;if(!c)continue;const{type:u}=c;e.has(u)||e.set(u,Object.getPrototypeOf(o).constructor),t||=Object.create(null);const d=t[u]||=new Map;for(const[f,m]of Object.entries(c)){if(f==="type")continue;let p=d.get(f);p||(p=new Map,d.set(f,p));const b=p.get(m)??0;p.set(m,b+1)}}if((r>0||i>0)&&(t||=Object.create(null),t.comments={deleted:r,edited:i}),!t)return null;for(const[o,c]of e)t[o]=c.computeTelemetryFinalData(t[o]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const i=this.#i?.get(t);return i?(i.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class bA extends cp{#t;constructor(t){super();const{map:e,hash:i,transfer:r}=t.serializable,o=structuredClone(e,r?{transfer:r}:null);this.#t={map:o,hash:i,transfer:r}}get print(){Kt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Ct(this,"modifiedIds",{ids:new Set,hash:""})}}class yL{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||this.#t.has(t.loadedName))){if(Lt(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:o,style:c}=t,u=new FontFace(r,o,c);this.addNativeFontFace(u);try{await u.load(),this.#t.add(r),i?.(t)}catch{St(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Kt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw St(`Failed to load font '${i.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Ct(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Ct(this,"isSyncFontLoadingSupported",Xe||Re.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Lt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const o=i.shift();setTimeout(o.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:e,callback:t};return i.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ct(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(R,D){return R.charCodeAt(D)<<24|R.charCodeAt(D+1)<<16|R.charCodeAt(D+2)<<8|R.charCodeAt(D+3)&255}function r(R,D,P,j){const F=R.substring(0,D),H=R.substring(D+P);return F+j+H}let o,c;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let f=0;function m(R,D){if(++f>30){St("Load test font never loaded."),D();return}if(d.font="30px "+R,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(m.bind(null,R,D))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=r(b,976,p.length,p);const S=16,w=1482184792;let T=i(b,S);for(o=0,c=p.length-3;o<c;o+=4)T=T-w+i(p,o)|0;o<p.length&&(T=T-w+i(p+"XXX",o)|0),b=r(b,S,4,sL(T));const E=`url(data:font/opentype;base64,${btoa(b)});`,C=`@font-face {font-family:"${p}";src:${E}}`;this.insertRule(C);const M=this._document.createElement("div");M.style.visibility="hidden",M.style.width=M.style.height="10px",M.style.position="absolute",M.style.top=M.style.left="0px";for(const R of[t.loadedName,p]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=R,M.append(D)}this._document.body.append(M),m(p,()=>{M.remove(),e.complete()})}}class vL{#t;constructor(t,e=null,i,r){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${uA(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let r;try{r=t.get(i)}catch(c){St(`getPathGenerator - ignoring character: "${c}".`)}const o=new Path2D(r||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=o}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}function bL(a){if(a instanceof URL)return a.href;if(typeof a=="string"){if(Xe)return a;const t=URL.parse(a,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function xL(a){if(Xe&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return sl(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a?.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function zc(a){if(typeof a!="string")return null;if(a.endsWith("/"))return a;throw new Error(`Invalid factory url: "${a}" must include trailing slash.`)}const lm=a=>typeof a=="object"&&Number.isInteger(a?.num)&&a.num>=0&&Number.isInteger(a?.gen)&&a.gen>=0,wL=a=>typeof a=="object"&&typeof a?.name=="string",xA=lL.bind(null,lm,wL);class AL{#t=new Map;#e=Promise.resolve();postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,i)})}addEventListener(t,e,i=null){let r=null;if(i?.signal instanceof AbortSignal){const{signal:o}=i;if(o.aborted){St("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);r=()=>o.removeEventListener("abort",c),o.addEventListener("abort",c)}this.#t.set(e,r)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Ic={DATA:1,ERROR:2},we={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function gx(){}function rn(a){if(a instanceof Ii||a instanceof hu||a instanceof lx||a instanceof Go||a instanceof Sf)return a;switch(a instanceof Error||typeof a=="object"&&a!==null||Kt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new Ii(a.message);case"InvalidPDFException":return new hu(a.message);case"PasswordException":return new lx(a.message,a.code);case"ResponseException":return new Go(a.message,a.status,a.missing);case"UnknownErrorException":return new Sf(a.message,a.details)}return new Sf(a.message,a.toString())}class Mo{#t=new AbortController;constructor(t,e,i){this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const i=t.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===Ic.DATA)r.resolve(t.data);else if(t.callback===Ic.ERROR)r.reject(rn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,r=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(c){o.postMessage({sourceName:i,targetName:r,callback:Ic.DATA,callbackId:t.callbackId,data:c})},function(c){o.postMessage({sourceName:i,targetName:r,callback:Ic.ERROR,callbackId:t.callbackId,reason:rn(c)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},i)}catch(c){o.reject(c)}return o.promise}sendWithStream(t,e,i,r){const o=this.streamId++,c=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const m=Promise.withResolvers();return this.streamControllers[o]={controller:f,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:c,targetName:u,action:t,streamId:o,data:e,desiredSize:f.desiredSize},r),m.promise},pull:f=>{const m=Promise.withResolvers();return this.streamControllers[o].pullCall=m,d.postMessage({sourceName:c,targetName:u,stream:we.PULL,streamId:o,desiredSize:f.desiredSize}),m.promise},cancel:f=>{Lt(f instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[o].cancelCall=m,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:c,targetName:u,stream:we.CANCEL,streamId:o,reason:rn(f)}),m.promise}},i)}#i(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,o=this.comObj,c=this,u=this.actionHandler[t.action],d={enqueue(f,m=1,p){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=m,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:i,targetName:r,stream:we.ENQUEUE,streamId:e,chunk:f},p)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:r,stream:we.CLOSE,streamId:e}),delete c.streamSinks[e])},error(f){Lt(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:r,stream:we.ERROR,streamId:e,reason:rn(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(u,t.data,d).then(function(){o.postMessage({sourceName:i,targetName:r,stream:we.START_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:r,stream:we.START_COMPLETE,streamId:e,reason:rn(f)})})}#n(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,o=this.comObj,c=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case we.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(rn(t.reason));break;case we.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(rn(t.reason));break;case we.PULL:if(!u){o.postMessage({sourceName:i,targetName:r,stream:we.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||gx).then(function(){o.postMessage({sourceName:i,targetName:r,stream:we.PULL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:r,stream:we.PULL_COMPLETE,streamId:e,reason:rn(f)})});break;case we.ENQUEUE:if(Lt(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case we.CLOSE:if(Lt(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),this.#r(c,e);break;case we.ERROR:Lt(c,"error should have stream controller"),c.controller.error(rn(t.reason)),this.#r(c,e);break;case we.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(rn(t.reason)),this.#r(c,e);break;case we.CANCEL:if(!u)break;const d=rn(t.reason);Promise.try(u.onCancel||gx,d).then(function(){o.postMessage({sourceName:i,targetName:r,stream:we.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:r,stream:we.CANCEL_COMPLETE,streamId:e,reason:rn(f)})}),u.sinkCapability.reject(d),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#r(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class wA{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Kt("Abstract method `_createCanvas` called.")}}class SL extends wA{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class AA{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Kt("Abstract method `_fetch` called.")}}class yx extends AA{async _fetch(t){const e=await vr(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):sl(e)}}class SA{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,r,o){return"none"}destroy(t=!1){}}class EL extends SA{#t;#e;#i;#n;#r;#s;#a=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#r=e}get#o(){return this.#e||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#i){const t=this.#r.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const i=this.#r.createElementNS(Li,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#i=this.#r.createElementNS(Li,"defs"),t.append(i),i.append(this.#i),this.#r.body.append(t)}return this.#i}#d(t){if(t.length===1){const d=t[0],f=new Array(256);for(let p=0;p<256;p++)f[p]=d[p]/255;const m=f.join(",");return[m,m,m]}const[e,i,r]=t,o=new Array(256),c=new Array(256),u=new Array(256);for(let d=0;d<256;d++)o[d]=e[d]/255,c[d]=i[d]/255,u[d]=r[d]/255;return[o.join(","),c.join(","),u.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#r.URL;e!==this.#r.baseURI&&(rl(e)?St('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=np(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[i,r,o]=this.#d(t),c=t.length===1?i:`${i}${r}${o}`;if(e=this.#o.get(c),e)return this.#o.set(t,e),e;const u=`g_${this.#n}_transfer_map_${this.#a++}`,d=this.#h(u);this.#o.set(t,d),this.#o.set(c,d);const f=this.#m(u);return this.#p(i,r,o,f),d}addHCMFilter(t,e){const i=`${t}-${e}`,r="base";let o=this.#c.get(r);if(o?.key===i||(o?(o.filter?.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},this.#c.set(r,o)),!t||!e))return o.url;const c=this.#b(t);t=it.makeHexColor(...c);const u=this.#b(e);if(e=it.makeHexColor(...u),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const d=new Array(256);for(let x=0;x<=255;x++){const S=x/255;d[x]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const f=d.join(","),m=`g_${this.#n}_hcm_filter`,p=o.filter=this.#m(m);this.#p(f,f,f,p),this.#g(p);const b=(x,S)=>{const w=c[x]/255,T=u[x]/255,E=new Array(S+1);for(let C=0;C<=S;C++)E[C]=w+C/S*(T-w);return E.join(",")};return this.#p(b(0,5),b(1,5),b(2,5),p),o.url=this.#h(m),o.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[i]=this.#d([t]),r=`alpha_${i}`;if(e=this.#o.get(r),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_alpha_map_${this.#a++}`,c=this.#h(o);this.#o.set(t,c),this.#o.set(r,c);const u=this.#m(o);return this.#y(i,u),c}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let i,r;if(t?([i]=this.#d([t]),r=`luminosity_${i}`):r="luminosity",e=this.#o.get(r),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_luminosity_map_${this.#a++}`,c=this.#h(o);this.#o.set(t,c),this.#o.set(r,c);const u=this.#m(o);return this.#f(u),t&&this.#y(i,u),c}addHighlightHCMFilter(t,e,i,r,o){const c=`${e}-${i}-${r}-${o}`;let u=this.#c.get(t);if(u?.key===c||(u?(u.filter?.remove(),u.key=c,u.url="none",u.filter=null):(u={key:c,url:"none",filter:null},this.#c.set(t,u)),!e||!i))return u.url;const[d,f]=[e,i].map(this.#b.bind(this));let m=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),p=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[b,x]=[r,o].map(this.#b.bind(this));p<m&&([m,p,b,x]=[p,m,x,b]),this.#l.style.color="";const S=(E,C,M)=>{const R=new Array(256),D=(p-m)/M,P=E/255,j=(C-E)/(255*M);let F=0;for(let H=0;H<=M;H++){const Y=Math.round(m+H*D),J=P+H*j;for(let at=F;at<=Y;at++)R[at]=J;F=Y+1}for(let H=F;H<256;H++)R[H]=R[F-1];return R.join(",")},w=`g_${this.#n}_hcm_${t}_filter`,T=u.filter=this.#m(w);return this.#g(T),this.#p(S(b[0],x[0],5),S(b[1],x[1],5),S(b[2],x[2],5),T),u.url=this.#h(w),u.url}destroy(t=!1){t&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#a=0)}#f(t){const e=this.#r.createElementNS(Li,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#g(t){const e=this.#r.createElementNS(Li,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#m(t){const e=this.#r.createElementNS(Li,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,i){const r=this.#r.createElementNS(Li,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),t.append(r)}#p(t,e,i,r){const o=this.#r.createElementNS(Li,"feComponentTransfer");r.append(o),this.#u(o,"feFuncR",t),this.#u(o,"feFuncG",e),this.#u(o,"feFuncB",i)}#y(t,e){const i=this.#r.createElementNS(Li,"feComponentTransfer");e.append(i),this.#u(i,"feFuncA",t)}#b(t){return this.#l.style.color=t,br(getComputedStyle(this.#l).getPropertyValue("color"))}}class EA{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Kt("Abstract method `_fetch` called.")}}class vx extends EA{async _fetch(t){const e=await vr(t,"arraybuffer");return new Uint8Array(e)}}class TA{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Kt("Abstract method `_fetch` called.")}}class bx extends TA{async _fetch(t){const e=await vr(t,"arraybuffer");return new Uint8Array(e)}}Xe&&St("Please use the `legacy` build in Node.js environments.");async function up(a){const e=await process.getBuiltinModule("fs").promises.readFile(a);return new Uint8Array(e)}class TL extends SA{}class CL extends wA{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class _L extends AA{async _fetch(t){return up(t)}}class ML extends EA{async _fetch(t){return up(t)}}class NL extends TA{async _fetch(t){return up(t)}}const $a="__forcedDependency",{floor:xx,ceil:wx}=Math;function Uc(a,t,e,i,r,o){a[t*4+0]=Math.min(a[t*4+0],e),a[t*4+1]=Math.min(a[t*4+1],i),a[t*4+2]=Math.max(a[t*4+2],r),a[t*4+3]=Math.max(a[t*4+3],o)}const cm=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class RL{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===cm}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const Vc=(a,t)=>{if(!a)return;let e=a.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},a.set(t,e)),e};class DL{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[$a]:[]};#i=new Map;#n=[];#r=[];#s=[[1,0,0,1,0,0]];#a=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#d=new Map;#h=new Map;#f;#g;#m;#u;#p;constructor(t,e,i=!1){this.#f=t.width,this.#g=t.height,this.#y(e),i&&(this.#p=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#y(t,this.#u)}#y(t,e){const i=new ArrayBuffer(t*4);this.#m=new Uint8ClampedArray(i),this.#u=new Uint32Array(i),e&&e.length>0?(this.#u.set(e),this.#u.fill(cm,e.length)):this.#u.fill(cm)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[$a]:{__proto__:this.#e[$a]}},this.#a={__proto__:this.#a},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#a=Object.getPrototypeOf(this.#a);const i=this.#n.pop();return i!==void 0&&(Vc(this.#p,t)?.dependencies.add(i),this.#u[t]=this.#u[i]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(Vc(this.#p,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}beginMarkedContent(t){return this.#r.push(t),this}endMarkedContent(t){const e=this.#r.pop();return e!==void 0&&(Vc(this.#p,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}pushBaseTransform(t){return this.#s.push(it.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,i){this.#t[t]=this.#i.get(e)??i}recordFutureForcedDependency(t,e){return this.recordIncrementalData($a,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency($a,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,i,r,o,c){const u=it.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform()),d=[1/0,1/0,-1/0,-1/0];it.axialAlignedBoundingBox([i,o,r,c],u,d);const f=it.intersect(this.#a,d);return f?(this.#a[0]=f[0],this.#a[1]=f[1],this.#a[2]=f[2],this.#a[3]=f[3]):(this.#a[0]=this.#a[1]=1/0,this.#a[2]=this.#a[3]=-1/0),this}recordBBox(t,e,i,r,o,c){const u=this.#a;if(u[0]===1/0)return this;const d=it.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform());if(u[0]===-1/0)return it.axialAlignedBoundingBox([i,o,r,c],d,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return it.axialAlignedBoundingBox([i,o,r,c],d,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],u[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],u[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],u[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],u[3])),this}recordCharacterBBox(t,e,i,r=1,o=0,c=0,u){const d=i.bbox;let f,m;if(d&&(f=d[2]!==d[0]&&d[3]!==d[1]&&this.#h.get(i),f!==!1&&(m=[0,0,0,0],it.axialAlignedBoundingBox(d,i.fontMatrix,m),(r!==1||o!==0||c!==0)&&it.scaleMinMax([r,0,0,-r,o,c],m),f)))return this.recordBBox(t,e,m[0],m[2],m[1],m[3]);if(!u)return this.recordFullPageBBox(t);const p=u();return d&&m&&f===void 0&&(f=m[0]<=o-p.actualBoundingBoxLeft&&m[2]>=o+p.actualBoundingBoxRight&&m[1]<=c-p.actualBoundingBoxAscent&&m[3]>=c+p.actualBoundingBoxDescent,this.#h.set(i,f),f)?this.recordBBox(t,e,m[0],m[2],m[1],m[3]):this.recordBBox(t,e,o-p.actualBoundingBoxLeft,o+p.actualBoundingBoxRight,c-p.actualBoundingBoxAscent,c+p.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#a[0]),this.#o[1]=Math.max(0,this.#a[1]),this.#o[2]=Math.min(this.#f,this.#a[2]),this.#o[3]=Math.min(this.#g,this.#a[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const i=this.#l,r=this.#t,o=this.#e;for(const c of e)c in this.#t?i.add(r[c]):c in o&&o[c].forEach(i.add,i);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[$a]),this.#p){const i=Vc(this.#p,t),{dependencies:r}=i;this.#l.forEach(r.add,r),this.#n.forEach(r.add,r),this.#r.forEach(r.add,r),r.delete(t),i.isRenderingOperation=!0}if(this.#c===t){const i=xx(this.#o[0]*256/this.#f),r=xx(this.#o[1]*256/this.#g),o=wx(this.#o[2]*256/this.#f),c=wx(this.#o[3]*256/this.#g);Uc(this.#m,t,i,r,o,c);for(const u of this.#l)u!==t&&Uc(this.#m,u,i,r,o,c);for(const u of this.#n)u!==t&&Uc(this.#m,u,i,r,o,c);for(const u of this.#r)u!==t&&Uc(this.#m,u,i,r,o,c);e||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,e=!1){const i=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#c===t&&(this.#c=-1,this.#a[0]=Math.max(this.#a[0],this.#o[0]),this.#a[1]=Math.max(this.#a[1],this.#o[1]),this.#a[2]=Math.min(this.#a[2],this.#o[2]),this.#a[3]=Math.min(this.#a[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#d.get(t);return this.#d.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#h.clear(),new RL(this.#u,this.#m)}takeDebugMetadata(){return this.#p}}class mu{#t;#e;#i;#n=0;#r=0;constructor(t,e,i){if(t instanceof mu&&t.#i===!!i)return t;this.#t=t,this.#e=e,this.#i=!!i}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#r++,this.#t.save(this.#e),this}restore(t){return this.#r>0&&(this.#t.restore(this.#e),this.#r--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,i){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,i,r,o,c){return this.#i||this.#t.recordClipBox(this.#e,e,i,r,o,c),this}recordBBox(t,e,i,r,o,c){return this.#i||this.#t.recordBBox(this.#e,e,i,r,o,c),this}recordCharacterBBox(t,e,i,r,o,c,u){return this.#i||this.#t.recordCharacterBBox(this.#e,e,i,r,o,c,u),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Pn={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Fe={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function um(a,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,i),a.clip(r)}class hp{isModifyingCurrentTransform(){return!1}getPattern(){Kt("Abstract method `getPattern` called.")}}class kL extends hp{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,r){let o;if(r===Fe.STROKE||r===Fe.FILL){const c=e.current.getClippedPathBoundingBox(r,se(t))||[0,0,0,0],u=Math.ceil(c[2]-c[0])||1,d=Math.ceil(c[3]-c[1])||1,f=e.cachedCanvases.getCanvas("pattern",u,d),m=f.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-c[0],-c[1]),i=it.transform(i,[1,0,0,1,c[0],c[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),um(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),o=t.createPattern(f.canvas,"no-repeat");const p=new DOMMatrix(i);o.setTransform(p)}else um(t,this._bbox),o=this._createGradient(t);return o}}function Cf(a,t,e,i,r,o,c,u){const d=t.coords,f=t.colors,m=a.data,p=a.width*4;let b;d[e+1]>d[i+1]&&(b=e,e=i,i=b,b=o,o=c,c=b),d[i+1]>d[r+1]&&(b=i,i=r,r=b,b=c,c=u,u=b),d[e+1]>d[i+1]&&(b=e,e=i,i=b,b=o,o=c,c=b);const x=(d[e]+t.offsetX)*t.scaleX,S=(d[e+1]+t.offsetY)*t.scaleY,w=(d[i]+t.offsetX)*t.scaleX,T=(d[i+1]+t.offsetY)*t.scaleY,E=(d[r]+t.offsetX)*t.scaleX,C=(d[r+1]+t.offsetY)*t.scaleY;if(S>=C)return;const M=f[o],R=f[o+1],D=f[o+2],P=f[c],j=f[c+1],F=f[c+2],H=f[u],Y=f[u+1],J=f[u+2],at=Math.round(S),ft=Math.round(C);let rt,vt,B,V,Q,lt,xt,L;for(let $=at;$<=ft;$++){if($<T){const ht=$<S?0:(S-$)/(S-T);rt=x-(x-w)*ht,vt=M-(M-P)*ht,B=R-(R-j)*ht,V=D-(D-F)*ht}else{let ht;$>C?ht=1:T===C?ht=0:ht=(T-$)/(T-C),rt=w-(w-E)*ht,vt=P-(P-H)*ht,B=j-(j-Y)*ht,V=F-(F-J)*ht}let Z;$<S?Z=0:$>C?Z=1:Z=(S-$)/(S-C),Q=x-(x-E)*Z,lt=M-(M-H)*Z,xt=R-(R-Y)*Z,L=D-(D-J)*Z;const et=Math.round(Math.min(rt,Q)),dt=Math.round(Math.max(rt,Q));let gt=p*$+et*4;for(let ht=et;ht<=dt;ht++)Z=(rt-ht)/(rt-Q),Z<0?Z=0:Z>1&&(Z=1),m[gt++]=vt-(vt-lt)*Z|0,m[gt++]=B-(B-xt)*Z|0,m[gt++]=V-(V-L)*Z|0,m[gt++]=255}}function LL(a,t,e){const i=t.coords,r=t.colors;let o,c;switch(t.type){case"lattice":const u=t.verticesPerRow,d=Math.floor(i.length/u)-1,f=u-1;for(o=0;o<d;o++){let m=o*u;for(let p=0;p<f;p++,m++)Cf(a,e,i[m],i[m+1],i[m+u],r[m],r[m+1],r[m+u]),Cf(a,e,i[m+u+1],i[m+1],i[m+u],r[m+u+1],r[m+1],r[m+u])}break;case"triangles":for(o=0,c=i.length;o<c;o+=3)Cf(a,e,i[o],i[o+1],i[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class PL extends hp{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,m=Math.ceil(this._bounds[3])-d,p=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),x=f/p,S=m/b,w={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/x,scaleY:1/S},T=p+4,E=b+4,C=i.getCanvas("mesh",T,E),M=C.context,R=M.createImageData(p,b);if(e){const P=R.data;for(let j=0,F=P.length;j<F;j+=4)P[j]=e[0],P[j+1]=e[1],P[j+2]=e[2],P[j+3]=255}for(const P of this._figures)LL(R,P,w);return M.putImageData(R,2,2),{canvas:C.canvas,offsetX:u-2*x,offsetY:d-2*S,scaleX:x,scaleY:S}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,r){um(t,this._bbox);const o=new Float32Array(2);if(r===Fe.SHADING)it.singularValueDecompose2dScale(se(t),o);else if(this.matrix){it.singularValueDecompose2dScale(this.matrix,o);const[u,d]=o;it.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=u,o[1]*=d}else it.singularValueDecompose2dScale(e.baseTransform,o);const c=this._createMeshCanvas(o,r===Fe.SHADING?null:this._background,e.cachedCanvases);return r!==Fe.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class jL extends hp{getPattern(){return"hotpink"}}function OL(a){switch(a[0]){case"RadialAxial":return new kL(a);case"Mesh":return new PL(a);case"Dummy":return new jL}throw new Error(`Unknown IR type: ${a[0]}`)}const Ax={COLORED:1,UNCOLORED:2};class dp{static MAX_PATTERN_SIZE=3e3;constructor(t,e,i,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(t,e){const{bbox:i,operatorList:r,paintType:o,tilingType:c,color:u,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:m}=this;f=Math.abs(f),m=Math.abs(m),Eu("TilingType: "+c);const p=i[0],b=i[1],x=i[2],S=i[3],w=x-p,T=S-b,E=new Float32Array(2);it.singularValueDecompose2dScale(this.matrix,E);const[C,M]=E;it.singularValueDecompose2dScale(this.baseTransform,E);const R=C*E[0],D=M*E[1];let P=w,j=T,F=!1,H=!1;const Y=Math.ceil(f*R),J=Math.ceil(m*D),at=Math.ceil(w*R),ft=Math.ceil(T*D);Y>=at?P=f:F=!0,J>=ft?j=m:H=!0;const rt=this.getSizeAndScale(P,this.ctx.canvas.width,R),vt=this.getSizeAndScale(j,this.ctx.canvas.height,D),B=t.cachedCanvases.getCanvas("pattern",rt.size,vt.size),V=B.context,Q=d.createCanvasGraphics(V,e);if(Q.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(Q,o,u),V.translate(-rt.scale*p,-vt.scale*b),Q.transform(0,rt.scale,0,0,vt.scale,0,0),V.save(),Q.dependencyTracker?.save(),this.clipBbox(Q,p,b,x,S),Q.baseTransform=se(Q.ctx),Q.executeOperatorList(r),Q.endDrawing(),Q.dependencyTracker?.restore(),V.restore(),F||H){const lt=B.canvas;F&&(P=f),H&&(j=m);const xt=this.getSizeAndScale(P,this.ctx.canvas.width,R),L=this.getSizeAndScale(j,this.ctx.canvas.height,D),$=xt.size,Z=L.size,et=t.cachedCanvases.getCanvas("pattern-workaround",$,Z),dt=et.context,gt=F?Math.floor(w/f):0,ht=H?Math.floor(T/m):0;for(let $t=0;$t<=gt;$t++)for(let jt=0;jt<=ht;jt++)dt.drawImage(lt,$*$t,Z*jt,$,Z,0,0,$,Z);return{canvas:et.canvas,scaleX:xt.scale,scaleY:L.scale,offsetX:p,offsetY:b}}return{canvas:B.canvas,scaleX:rt.scale,scaleY:vt.scale,offsetX:p,offsetY:b}}getSizeAndScale(t,e,i){const r=Math.max(dp.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*i);return o>=r?o=r:i=o/t,{scale:i,size:o}}clipBbox(t,e,i,r,o){const c=r-e,u=o-i;t.ctx.rect(e,i,c,u),it.axialAlignedBoundingBox([e,i,r,o],se(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const r=t.ctx,o=t.current;switch(e){case Ax.COLORED:const{fillStyle:c,strokeStyle:u}=this.ctx;r.fillStyle=o.fillColor=c,r.strokeStyle=o.strokeColor=u;break;case Ax.UNCOLORED:r.fillStyle=r.strokeStyle=i,o.fillColor=o.strokeColor=i;break;default:throw new iL(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,r,o){let c=i;r!==Fe.SHADING&&(c=it.transform(c,e.baseTransform),this.matrix&&(c=it.transform(c,this.matrix)));const u=this.createPatternCanvas(e,o);let d=new DOMMatrix(c);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(d),f}}function BL({src:a,srcPos:t=0,dest:e,width:i,height:r,nonBlackColor:o=4294967295,inverseDecode:c=!1}){const u=Re.isLittleEndian?4278190080:255,[d,f]=c?[o,u]:[u,o],m=i>>3,p=i&7,b=a.length;e=new Uint32Array(e.buffer);let x=0;for(let S=0;S<r;S++){for(const T=t+m;t<T;t++){const E=t<b?a[t]:255;e[x++]=E&128?f:d,e[x++]=E&64?f:d,e[x++]=E&32?f:d,e[x++]=E&16?f:d,e[x++]=E&8?f:d,e[x++]=E&4?f:d,e[x++]=E&2?f:d,e[x++]=E&1?f:d}if(p===0)continue;const w=t<b?a[t++]:255;for(let T=0;T<p;T++)e[x++]=w&1<<7-T?f:d}return{srcPos:t,destPos:x}}const Sx=16,Ex=100,FL=15,Tx=10,on=16,_f=new DOMMatrix,wn=new Float32Array(2),Ja=new Float32Array([1/0,1/0,-1/0,-1/0]);function zL(a,t){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){t.save(),this.__originalSave()},a.restore=function(){t.restore(),this.__originalRestore()},a.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},a.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},a.transform=function(e,i,r,o,c,u){t.transform(e,i,r,o,c,u),this.__originalTransform(e,i,r,o,c,u)},a.setTransform=function(e,i,r,o,c,u){t.setTransform(e,i,r,o,c,u),this.__originalSetTransform(e,i,r,o,c,u)},a.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},a.rotate=function(e){t.rotate(e),this.__originalRotate(e)},a.clip=function(e){t.clip(e),this.__originalClip(e)},a.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},a.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},a.bezierCurveTo=function(e,i,r,o,c,u){t.bezierCurveTo(e,i,r,o,c,u),this.__originalBezierCurveTo(e,i,r,o,c,u)},a.rect=function(e,i,r,o){t.rect(e,i,r,o),this.__originalRect(e,i,r,o)},a.closePath=function(){t.closePath(),this.__originalClosePath()},a.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class IL{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,i)):(r=this.canvasFactory.create(e,i),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Hc(a,t,e,i,r,o,c,u,d,f){const[m,p,b,x,S,w]=se(a);if(p===0&&b===0){const C=c*m+S,M=Math.round(C),R=u*x+w,D=Math.round(R),P=(c+d)*m+S,j=Math.abs(Math.round(P)-M)||1,F=(u+f)*x+w,H=Math.abs(Math.round(F)-D)||1;return a.setTransform(Math.sign(m),0,0,Math.sign(x),M,D),a.drawImage(t,e,i,r,o,0,0,j,H),a.setTransform(m,p,b,x,S,w),[j,H]}if(m===0&&x===0){const C=u*b+S,M=Math.round(C),R=c*p+w,D=Math.round(R),P=(u+f)*b+S,j=Math.abs(Math.round(P)-M)||1,F=(c+d)*p+w,H=Math.abs(Math.round(F)-D)||1;return a.setTransform(0,Math.sign(p),Math.sign(b),0,M,D),a.drawImage(t,e,i,r,o,0,0,H,j),a.setTransform(m,p,b,x,S,w),[H,j]}a.drawImage(t,e,i,r,o,c,u,d,f);const T=Math.hypot(m,p),E=Math.hypot(b,x);return[T*d,E*f]}class Cx{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=am;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Oe.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,i){i?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Ja.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Fe.FILL,e=null){const i=this.minMax.slice();if(t===Fe.STROKE){e||Kt("Stroke bounding box must include transform."),it.singularValueDecompose2dScale(e,wn);const r=wn[0]*this.lineWidth/2,o=wn[1]*this.lineWidth/2;i[0]-=r,i[1]-=o,i[2]+=r,i[3]+=o}return i}updateClipFromPath(){const t=it.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Ja,0)}getClippedPathBoundingBox(t=Fe.FILL,e=null){return it.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function _x(a,t){if(t instanceof ImageData){a.putImageData(t,0,0);return}const e=t.height,i=t.width,r=e%on,o=(e-r)/on,c=r===0?o:o+1,u=a.createImageData(i,on);let d=0,f;const m=t.data,p=u.data;let b,x,S,w;if(t.kind===jo.GRAYSCALE_1BPP){const T=m.byteLength,E=new Uint32Array(p.buffer,0,p.byteLength>>2),C=E.length,M=i+7>>3,R=4294967295,D=Re.isLittleEndian?4278190080:255;for(b=0;b<c;b++){for(S=b<o?on:r,f=0,x=0;x<S;x++){const P=T-d;let j=0;const F=P>M?i:P*8-7,H=F&-8;let Y=0,J=0;for(;j<H;j+=8)J=m[d++],E[f++]=J&128?R:D,E[f++]=J&64?R:D,E[f++]=J&32?R:D,E[f++]=J&16?R:D,E[f++]=J&8?R:D,E[f++]=J&4?R:D,E[f++]=J&2?R:D,E[f++]=J&1?R:D;for(;j<F;j++)Y===0&&(J=m[d++],Y=128),E[f++]=J&Y?R:D,Y>>=1}for(;f<C;)E[f++]=0;a.putImageData(u,0,b*on)}}else if(t.kind===jo.RGBA_32BPP){for(x=0,w=i*on*4,b=0;b<o;b++)p.set(m.subarray(d,d+w)),d+=w,a.putImageData(u,0,x),x+=on;b<c&&(w=i*r*4,p.set(m.subarray(d,d+w)),a.putImageData(u,0,x))}else if(t.kind===jo.RGB_24BPP)for(S=on,w=i*S,b=0;b<c;b++){for(b>=o&&(S=r,w=i*S),f=0,x=w;x--;)p[f++]=m[d++],p[f++]=m[d++],p[f++]=m[d++],p[f++]=255;a.putImageData(u,0,b*on)}else throw new Error(`bad image kind: ${t.kind}`)}function Mx(a,t){if(t.bitmap){a.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,r=e%on,o=(e-r)/on,c=r===0?o:o+1,u=a.createImageData(i,on);let d=0;const f=t.data,m=u.data;for(let p=0;p<c;p++){const b=p<o?on:r;({srcPos:d}=BL({src:f,srcPos:d,dest:m,width:i,height:b,nonBlackColor:0})),a.putImageData(u,0,p*on)}}function xo(a,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)a[i]!==void 0&&(t[i]=a[i]);a.setLineDash!==void 0&&(t.setLineDash(a.getLineDash()),t.lineDashOffset=a.lineDashOffset)}function Gc(a){a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0);const{filter:t}=a;t!=="none"&&t!==""&&(a.filter="none")}function Nx(a,t){if(t)return!0;it.singularValueDecompose2dScale(a,wn);const e=Math.fround(Qn.pixelRatio*ea.PDF_TO_CSS_UNITS);return wn[0]<=e&&wn[1]<=e}const UL=["butt","round","square"],VL=["miter","round","bevel"],HL={},Rx={};class nr{constructor(t,e,i,r,o,{optionalContentConfig:c,markedContentStack:u=null},d,f,m){this.ctx=t,this.current=new Cx(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=c,this.cachedCanvases=new IL(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=m??null}getObject(t,e,i=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):i}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:r=null}){const o=this.ctx.canvas.width,c=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,c),this.ctx.fillStyle=u,i){const d=this.cachedCanvases.getCanvas("transparent",o,c);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...se(this.compositeCtx))}this.ctx.save(),Gc(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=se(this.ctx)}executeOperatorList(t,e,i,r,o){const c=t.argsArray,u=t.fnArray;let d=e||0;const f=c.length;if(f===d)return d;const m=f-d>Tx&&typeof i=="function",p=m?Date.now()+FL:0;let b=0;const x=this.commonObjs,S=this.objs;let w,T;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,i),d;if(!o||o(d))if(w=u[d],T=c[d]??null,w!==ur.dependency)T===null?this[w](d):this[w](d,...T);else for(const E of T){this.dependencyTracker?.recordNamedData(E,d);const C=E.startsWith("g_")?x:S;if(!C.has(E))return C.get(E,i),d}if(d++,d===f)return d;if(m&&++b>Tx){if(Date.now()>p)return i(),d;b=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const i=t.width??t.displayWidth,r=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),u=i,d=r,f="prescale1",m,p;for(;o>2&&u>1||c>2&&d>1;){let b=u,x=d;o>2&&u>1&&(b=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),o/=u/b),c>2&&d>1&&(x=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,c/=d/x),m=this.cachedCanvases.getCanvas(f,b,x),p=m.context,p.clearRect(0,0,b,x),p.drawImage(t,0,0,u,d,0,0,b,x),t=m.canvas,u=b,d=x,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:d}}_createMaskCanvas(t,e){const i=this.ctx,{width:r,height:o}=e,c=this.current.fillColor,u=this.current.patternFill,d=se(i);let f,m,p,b;if((e.bitmap||e.data)&&e.count>1){const Y=e.bitmap||e.data.buffer;m=JSON.stringify(u?d:[d.slice(0,4),c]),f=this._cachedBitmapsMap.get(Y),f||(f=new Map,this._cachedBitmapsMap.set(Y,f));const J=f.get(m);if(J&&!u){const at=Math.round(Math.min(d[0],d[2])+d[4]),ft=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(t,Pn.transformAndFill),{canvas:J,offsetX:at,offsetY:ft}}p=J}p||(b=this.cachedCanvases.getCanvas("maskCanvas",r,o),Mx(b.context,e));let x=it.transform(d,[1/r,0,0,-1/o,0,0]);x=it.transform(x,[1,0,0,1,0,-o]);const S=Ja.slice();it.axialAlignedBoundingBox([0,0,r,o],x,S);const[w,T,E,C]=S,M=Math.round(E-w)||1,R=Math.round(C-T)||1,D=this.cachedCanvases.getCanvas("fillCanvas",M,R),P=D.context,j=w,F=T;P.translate(-j,-F),P.transform(...x),p||(p=this._scaleImage(b.canvas,si(P)),p=p.img,f&&u&&f.set(m,p)),P.imageSmoothingEnabled=Nx(se(P),e.interpolate),Hc(P,p,0,0,p.width,p.height,0,0,r,o),P.globalCompositeOperation="source-in";const H=it.transform(si(P),[1,0,0,1,-j,-F]);return P.fillStyle=u?c.getPattern(i,this,H,Fe.FILL,t):c,P.fillRect(0,0,r,o),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(m,D.canvas)),this.dependencyTracker?.recordDependencies(t,Pn.transformAndFill),{canvas:D.canvas,offsetX:Math.round(j),offsetY:Math.round(F)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=UL[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=VL[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,i){this.dependencyTracker?.recordSimpleData("dash",t);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=i)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[i,r]of e)switch(i){case"LW":this.setLineWidth(t,r);break;case"LC":this.setLineCap(t,r);break;case"LJ":this.setLineJoin(t,r);break;case"ML":this.setMiterLimit(t,r);break;case"D":this.setDash(t,r[0],r[1]);break;case"RI":this.setRenderingIntent(t,r);break;case"FL":this.setFlatness(t,r);break;case"Font":this.setFont(t,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(r,e,i);this.suspendedCtx=this.ctx;const c=this.ctx=o.context;c.setTransform(this.suspendedCtx.getTransform()),xo(this.suspendedCtx,c),zL(c,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),xo(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,r){const o=r[0],c=r[1],u=r[2]-o,d=r[3]-c;u===0||d===0||(this.genericComposeSMask(e.context,i,u,d,e.subtype,e.backdrop,e.transferMap,o,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,r,o,c,u,d,f,m,p){let b=t.canvas,x=d-m,S=f-p;if(c)if(x<0||S<0||x+i>b.width||S+r>b.height){const T=this.cachedCanvases.getCanvas("maskExtension",i,r),E=T.context;E.drawImage(b,-x,-S),E.globalCompositeOperation="destination-atop",E.fillStyle=c,E.fillRect(0,0,i,r),E.globalCompositeOperation="source-over",b=T.canvas,x=S=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(x,S,i,r),t.clip(T),t.globalCompositeOperation="destination-atop",t.fillStyle=c,t.fillRect(x,S,i,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const w=new Path2D;w.rect(d,f,i,r),e.clip(w),e.globalCompositeOperation="destination-in",e.drawImage(b,x,S,i,r,d,f,i,r),e.restore()}save(t){this.inSMaskMode&&xo(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&xo(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,r,o,c,u){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,i,r,o,c,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i,r){let[o]=i;if(!r){o||=i[0]=new Path2D,this[e](t,o);return}if(this.dependencyTracker!==null){const c=e===ur.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,r[0]-c,r[2]+c,r[1]-c,r[3]+c).recordDependencies(t,["transform"])}if(!(o instanceof Path2D)){const c=i[0]=new Path2D;for(let u=0,d=o.length;u<d;)switch(o[u++]){case Bc.moveTo:c.moveTo(o[u++],o[u++]);break;case Bc.lineTo:c.lineTo(o[u++],o[u++]);break;case Bc.curveTo:c.bezierCurveTo(o[u++],o[u++],o[u++],o[u++],o[u++],o[u++]);break;case Bc.closePath:c.closePath();break;default:St(`Unrecognized drawing path operator: ${o[u-1]}`);break}o=c}it.axialAlignedBoundingBox(r,se(this.ctx),this.current.minMax),this[e](t,o),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,i=!0){const r=this.ctx,o=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&o?.getPattern){const c=o.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=o.getPattern(r,this,si(r),Fe.STROKE,t),c){const u=new Path2D;u.addPath(e,r.getTransform().invertSelf().multiplySelf(c)),e=u}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,Pn.stroke),i&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(Fe.STROKE,se(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,i=!0){const r=this.ctx,o=this.current.fillColor,c=this.current.patternFill;let u=!1;if(c){const f=o.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(t),r.save(),r.fillStyle=o.getPattern(r,this,si(r),Fe.FILL,t),f){const m=new Path2D;m.addPath(e,r.getTransform().invertSelf().multiplySelf(f)),e=m}u=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),this.dependencyTracker?.recordDependencies(t,Pn.fill),u&&(r.restore(),this.dependencyTracker?.restore(t)),i&&this.consumePath(t,e,d)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,Pn.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=HL}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=Rx}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;e!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",t),r.recordCloseMarker(t)}if(e!==void 0){const r=new Path2D,o=i.getTransform().invertSelf();for(const{transform:c,x:u,y:d,fontSize:f,path:m}of e)m&&r.addPath(m,new DOMMatrix(c).preMultiplySelf(o).translate(u,d).scale(f,-f));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,i){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const r=this.commonObjs.get(e),o=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=r.fontMatrix||am,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&St("Invalid font matrix for font "+e),i<0?(i=-i,o.fontDirection=-1):o.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const c=r.loadedName||"sans-serif",u=r.systemFontInfo?.css||`"${c}", ${r.fallbackName}`;let d="normal";r.black?d="900":r.bold&&(d="bold");const f=r.italic?"italic":"normal";let m=i;i<Sx?m=Sx:i>Ex&&(m=Ex),this.current.fontSizeScale=i/m,this.ctx.font=`${f} ${d} ${m}px ${u}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,i){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,e,i){this.setLeading(t,-i),this.moveText(t,e,i)}setTextMatrix(t,e){this.dependencyTracker?.recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,i){const r=new Path2D;return r.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),r}paintChar(t,e,i,r,o,c){const u=this.ctx,d=this.current,f=d.font,m=d.textRenderingMode,p=d.fontSize/d.fontSizeScale,b=m&Oe.FILL_STROKE_MASK,x=!!(m&Oe.ADD_TO_PATH_FLAG),S=d.patternFill&&!f.missingFile,w=d.patternStroke&&!f.missingFile;let T;if((f.disableFontFace||x||S||w)&&!f.missingFile&&(T=f.getPathGenerator(this.commonObjs,e)),T&&(f.disableFontFace||S||w)){u.save(),u.translate(i,r),u.scale(p,-p),this.dependencyTracker?.recordCharacterBBox(t,u,f);let E;if(b===Oe.FILL||b===Oe.FILL_STROKE)if(o){E=u.getTransform(),u.setTransform(...o);const C=this.#i(T,E,o);u.fill(C)}else u.fill(T);if(b===Oe.STROKE||b===Oe.FILL_STROKE)if(c){E||=u.getTransform(),u.setTransform(...c);const{a:C,b:M,c:R,d:D}=E,P=it.inverseTransform(c),j=it.transform([C,M,R,D,0,0],P);it.singularValueDecompose2dScale(j,wn),u.lineWidth*=Math.max(wn[0],wn[1])/p,u.stroke(this.#i(T,E,c))}else u.lineWidth/=p,u.stroke(T);u.restore()}else(b===Oe.FILL||b===Oe.FILL_STROKE)&&(u.fillText(e,i,r),this.dependencyTracker?.recordCharacterBBox(t,u,f,p,i,r,()=>u.measureText(e))),(b===Oe.STROKE||b===Oe.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,u,f,p,i,r,()=>u.measureText(e)).recordDependencies(t,Pn.stroke),u.strokeText(e,i,r));x&&((this.pendingTextPaths||=[]).push({transform:se(u),x:i,y:r,fontSize:p,path:T}),this.dependencyTracker?.recordCharacterBBox(t,u,f,p,i,r))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){i=!0;break}return Ct(this,"isFontSubpixelAAEnabled",i)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Pn.showText).resetBBox(t),this.current.textRenderingMode&Oe.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const o=i.fontSize;if(o===0){this.dependencyTracker?.recordOperation(t);return}const c=this.ctx,u=i.fontSizeScale,d=i.charSpacing,f=i.wordSpacing,m=i.fontDirection,p=i.textHScale*m,b=e.length,x=r.vertical,S=x?1:-1,w=r.defaultVMetrics,T=o*i.fontMatrix[0],E=i.textRenderingMode===Oe.FILL&&!r.disableFontFace&&!i.patternFill;c.save(),i.textMatrix&&c.transform(...i.textMatrix),c.translate(i.x,i.y+i.textRise),m>0?c.scale(p,-1):c.scale(p,1);let C,M;if(i.patternFill){c.save();const F=i.fillColor.getPattern(c,this,si(c),Fe.FILL,t);C=se(c),c.restore(),c.fillStyle=F}if(i.patternStroke){c.save();const F=i.strokeColor.getPattern(c,this,si(c),Fe.STROKE,t);M=se(c),c.restore(),c.strokeStyle=F}let R=i.lineWidth;const D=i.textMatrixScale;if(D===0||R===0){const F=i.textRenderingMode&Oe.FILL_STROKE_MASK;(F===Oe.STROKE||F===Oe.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=D;if(u!==1&&(c.scale(u,u),R/=u),c.lineWidth=R,r.isInvalidPDFjsFont){const F=[];let H=0;for(const J of e)F.push(J.unicode),H+=J.width;const Y=F.join("");if(c.fillText(Y,0,0),this.dependencyTracker!==null){const J=c.measureText(Y);this.dependencyTracker.recordBBox(t,this.ctx,-J.actualBoundingBoxLeft,J.actualBoundingBoxRight,-J.actualBoundingBoxAscent,J.actualBoundingBoxDescent).recordShowTextOperation(t)}i.x+=H*T*p,c.restore(),this.compose();return}let P=0,j;for(j=0;j<b;++j){const F=e[j];if(typeof F=="number"){P+=S*F*o/1e3;continue}let H=!1;const Y=(F.isSpace?f:0)+d,J=F.fontChar,at=F.accent;let ft,rt,vt=F.width;if(x){const Q=F.vmetric||w,lt=-(F.vmetric?Q[1]:vt*.5)*T,xt=Q[2]*T;vt=Q?-Q[0]:vt,ft=lt/u,rt=(P+xt)/u}else ft=P/u,rt=0;let B;if(r.remeasure&&vt>0){B=c.measureText(J);const Q=B.width*1e3/o*u;if(vt<Q&&this.isFontSubpixelAAEnabled){const lt=vt/Q;H=!0,c.save(),c.scale(lt,1),ft/=lt}else vt!==Q&&(ft+=(vt-Q)/2e3*o/u)}if(this.contentVisible&&(F.isInFont||r.missingFile)){if(E&&!at)c.fillText(J,ft,rt),this.dependencyTracker?.recordCharacterBBox(t,c,B?{bbox:null}:r,o/u,ft,rt,()=>B??c.measureText(J));else if(this.paintChar(t,J,ft,rt,C,M),at){const Q=ft+o*at.offset.x/u,lt=rt-o*at.offset.y/u;this.paintChar(t,at.fontChar,Q,lt,C,M)}}const V=x?vt*T-Y*m:vt*T+Y*m;P+=V,H&&c.restore()}x?i.y-=P:i.x+=P*p,c.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const i=this.ctx,r=this.current,o=r.font,c=r.fontSize,u=r.fontDirection,d=o.vertical?1:-1,f=r.charSpacing,m=r.wordSpacing,p=r.textHScale*u,b=r.fontMatrix||am,x=e.length,S=r.textRenderingMode===Oe.INVISIBLE;let w,T,E,C;if(S||c===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(p,u);const M=this.dependencyTracker;for(this.dependencyTracker=M?new mu(M,t):null,w=0;w<x;++w){if(T=e[w],typeof T=="number"){C=d*T*c/1e3,this.ctx.translate(C,0),r.x+=C*p;continue}const R=(T.isSpace?m:0)+f,D=o.charProcOperatorList[T.operatorListId];D?this.contentVisible&&(this.save(),i.scale(c,c),i.transform(...b),this.executeOperatorList(D),this.restore()):St(`Type3 character "${T.operatorListId}" is not available.`);const P=[T.width,0];it.applyTransform(P,b),E=P[0]*c+R,i.translate(E,0),r.x+=E*p}i.restore(),M&&(this.dependencyTracker=M)}setCharWidth(t,e,i){}setCharWidthAndBounds(t,e,i,r,o,c,u){const d=new Path2D;d.rect(r,o,c-r,u-o),this.ctx.clip(d),this.dependencyTracker?.recordBBox(t,this.ctx,r,c,o,u).recordClipBox(t,this.ctx,r,c,o,u),this.endPath(t)}getColorN_Pattern(t,e){let i;if(e[0]==="TilingPattern"){const r=this.baseTransform||se(this.ctx),o={createCanvasGraphics:(c,u)=>new nr(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new mu(this.dependencyTracker,u,!0):null)};i=new dp(e,this.ctx,o,r)}else i=this._getPattern(t,e[1],e[2]);return i}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,i=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=OL(this.getObject(t,e)),this.cachedPatterns.set(e,r)),i&&(r.matrix=i),r}shadingFill(t,e){if(!this.contentVisible)return;const i=this.ctx;this.save(t);const r=this._getPattern(t,e);i.fillStyle=r.getPattern(i,this,si(i),Fe.SHADING,t);const o=si(i);if(o){const{width:c,height:u}=i.canvas,d=Ja.slice();it.axialAlignedBoundingBox([0,0,c,u],o,d);const[f,m,p,b]=d;this.ctx.fillRect(f,m,p-f,b-m)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Pn.transform).recordDependencies(t,Pn.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){Kt("Should not call beginInlineImage")}beginImageData(){Kt("Should not call beginImageData")}paintFormXObjectBegin(t,e,i){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=se(this.ctx),i)){it.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[r,o,c,u]=i,d=new Path2D;d.rect(r,o,c-r,u-o),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(t,this.ctx,r,c,o,u),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||Eu("TODO: Support non-isolated groups."),e.knockout&&St("Knockout groups not supported.");const r=se(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=Ja.slice();it.axialAlignedBoundingBox(e.bbox,se(i),o);const c=[0,0,i.canvas.width,i.canvas.height];o=it.intersect(o,c)||[0,0,0,0];const u=Math.floor(o[0]),d=Math.floor(o[1]),f=Math.max(Math.ceil(o[2])-u,1),m=Math.max(Math.ceil(o[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,m]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(p,f,m),x=b.context;x.translate(-u,-d),x.transform(...r);let S=new Path2D;const[w,T,E,C]=e.bbox;if(S.rect(w,T,E-w,C-T),e.matrix){const M=new Path2D;M.addPath(S,new DOMMatrix(e.matrix)),S=M}x.clip(S),e.smask&&this.smaskStack.push({canvas:b.canvas,context:x,offsetX:u,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(u,d),i.save()),xo(i,x),this.ctx=x,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=se(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...o);const c=Ja.slice();it.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],o,c),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(c)}}beginAnnotation(t,e,i,r,o,c){if(this.#t(),Gc(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const u=i[2]-i[0],d=i[3]-i[1];if(c&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=u,i[3]=d,it.singularValueDecompose2dScale(se(this.ctx),wn);const{viewportScale:f}=this,m=Math.ceil(u*this.outputScaleX*f),p=Math.ceil(d*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(m,p);const{canvas:b,context:x}=this.annotationCanvas;this.annotationCanvasMap.set(e,b),this.annotationCanvas.savedCtx=this.ctx,this.ctx=x,this.ctx.save(),this.ctx.setTransform(wn[0],0,0,-wn[1],0,d*wn[1]),Gc(this.ctx)}else{Gc(this.ctx),this.endPath(t);const f=new Path2D;f.rect(i[0],i[1],u,d),this.ctx.clip(f)}}this.current=new Cx(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...r),this.transform(t,...o)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const i=e.count;e=this.getObject(t,e.data,e),e.count=i;const r=this.ctx,o=this._createMaskCanvas(t,e),c=o.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(c,o.offsetX,o.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,o.offsetX,o.offsetX+c.width,o.offsetY,o.offsetY+c.height).recordOperation(t),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i,r=0,o=0,c,u){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const d=this.ctx;d.save();const f=se(d);d.transform(i,r,o,c,0,0);const m=this._createMaskCanvas(t,e);d.setTransform(1,0,0,1,m.offsetX-f[4],m.offsetY-f[5]),this.dependencyTracker?.resetBBox(t);for(let p=0,b=u.length;p<b;p+=2){const x=it.transform(f,[i,r,o,c,u[p],u[p+1]]);d.drawImage(m.canvas,x[4],x[5]),this.dependencyTracker?.recordBBox(t,this.ctx,x[4],x[4]+m.canvas.width,x[5],x[5]+m.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,o=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,Pn.transformAndFill);for(const c of e){const{data:u,width:d,height:f,transform:m}=c,p=this.cachedCanvases.getCanvas("maskCanvas",d,f),b=p.context;b.save();const x=this.getObject(t,u,c);Mx(b,x),b.globalCompositeOperation="source-in",b.fillStyle=o?r.getPattern(b,this,si(i),Fe.FILL,t):r,b.fillRect(0,0,d,f),b.restore(),i.save(),i.transform(...m),i.scale(1,-1),Hc(i,p.canvas,0,0,d,f,0,-1,1,1),this.dependencyTracker?.recordBBox(t,i,0,d,0,f),i.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const i=this.getObject(t,e);if(!i){St("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,i)}paintImageXObjectRepeat(t,e,i,r,o){if(!this.contentVisible)return;const c=this.getObject(t,e);if(!c){St("Dependent image isn't ready yet");return}const u=c.width,d=c.height,f=[];for(let m=0,p=o.length;m<p;m+=2)f.push({transform:[i,0,0,r,o[m],o[m+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(t,c,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",i,r),c=o.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",o.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const i=e.width,r=e.height,o=this.ctx;this.save(t);const{filter:c}=o;c!=="none"&&c!==""&&(o.filter="none"),o.scale(1/i,-1/r);let u;if(e.bitmap)u=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)u=e;else{const m=this.cachedCanvases.getCanvas("inlineImage",i,r).context;_x(m,e),u=this.applyTransferMapsToCanvas(m)}const d=this._scaleImage(u,si(o));o.imageSmoothingEnabled=Nx(se(o),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,o,0,i,-r,0).recordDependencies(t,Pn.imageXObject).recordOperation(t),Hc(o,d.img,0,0,d.paintWidth,d.paintHeight,0,-r,i,r),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,i){if(!this.contentVisible)return;const r=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const c=e.width,u=e.height,f=this.cachedCanvases.getCanvas("inlineImage",c,u).context;_x(f,e),o=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(t);for(const c of i)r.save(),r.transform(...c.transform),r.scale(1,-1),Hc(r,o,c.x,c.y,c.w,c.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Pn.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,i){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,i){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,i){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const o=this.ctx;this.pendingClip?(r||(this.pendingClip===Rx?o.clip(e,"evenodd"):o.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=se(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:r,d:o}=this.ctx.getTransform();let c,u;if(i===0&&r===0){const d=Math.abs(e),f=Math.abs(o);if(d===f)if(t===0)c=u=1/d;else{const m=d*t;c=u=m<1?1/m:1}else if(t===0)c=1/d,u=1/f;else{const m=d*t,p=f*t;c=m<1?1/m:1,u=p<1?1/p:1}}else{const d=Math.abs(e*o-i*r),f=Math.hypot(e,i),m=Math.hypot(r,o);if(t===0)c=m/d,u=f/d;else{const p=t*d;c=m>p?m/p:1,u=f>p?f/p:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:r}}=this,[o,c]=this.getScaleForStroking();if(o===c){i.lineWidth=(r||1)*o,i.stroke(t);return}const u=i.getLineDash();e&&i.save(),i.scale(o,c),_f.a=1/o,_f.d=1/c;const d=new Path2D;if(d.addPath(t,_f),u.length>0){const f=Math.max(o,c);i.setLineDash(u.map(m=>m/f)),i.lineDashOffset/=f}i.lineWidth=r||1,i.stroke(d),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const a in ur)nr.prototype[a]!==void 0&&(nr.prototype[ur[a]]=nr.prototype[a]);class ir{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,i={};let r=0;for(const f of ir.strings){const m=e.encode(t[f]);i[f]=m,r+=4+m.length}const o=new ArrayBuffer(r),c=new Uint8Array(o),u=new DataView(o);let d=0;for(const f of ir.strings){const m=i[f],p=m.length;u.setUint32(d,p),c.set(m,d+4),d+=4+p}return Lt(d===o.byteLength,"CssFontInfo.write: Buffer overflow"),o}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){Lt(t<ir.strings.length,"Invalid string index");let e=0;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const i=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,i))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class sr{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,i={};let r=0;for(const b of sr.strings){const x=e.encode(t[b]);i[b]=x,r+=4+x.length}r+=4;let o,c,u=1+r;t.style&&(o=e.encode(t.style.style),c=e.encode(t.style.weight),u+=4+o.length+4+c.length);const d=new ArrayBuffer(u),f=new Uint8Array(d),m=new DataView(d);let p=0;m.setUint8(p++,t.guessFallback?1:0),m.setUint32(p,0),p+=4,r=0;for(const b of sr.strings){const x=i[b],S=x.length;r+=4+S,m.setUint32(p,S),f.set(x,p+4),p+=4+S}return m.setUint32(p-r-4,r),t.style&&(m.setUint32(p,o.length),f.set(o,p+4),p+=4+o.length,m.setUint32(p,c.length),f.set(c,p+4),p+=4+c.length),Lt(p<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(p)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){Lt(t<sr.strings.length,"Invalid string index");let e=5;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const i=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,i))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),i=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const r=this.#e.getUint32(t),o=this.#i.decode(new Uint8Array(this.#t,t+4,r));return{style:i,weight:o}}}class qt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#r=this.#n+1+6;#s;#a;#o;constructor({data:t,extra:e}){this.#s=t,this.#a=new TextDecoder,this.#o=new DataView(this.#s),e&&Object.assign(this,e)}#c(t){Lt(t<qt.bools.length,"Invalid boolean index");const e=Math.floor(t/4),i=t*2%8,r=this.#o.getUint8(e)>>i&3;return r===0?void 0:r===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(t){return Lt(t<qt.numbers.length,"Invalid number index"),this.#o.getFloat64(qt.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=qt.#e;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let r=0;r<4;r++)i.push(this.#o.getInt16(t,!0)),t+=2;return i}get fontMatrix(){let t=qt.#i;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let r=0;r<6;r++)i.push(this.#o.getFloat64(t,!0)),t+=8;return i}get defaultVMetrics(){let t=qt.#n;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let r=0;r<3;r++)i.push(this.#o.getInt16(t,!0)),t+=2;return i}#d(t){Lt(t<qt.strings.length,"Invalid string index");let e=qt.#r+4;for(let o=0;o<t;o++)e+=this.#o.getUint32(e)+4;const i=this.#o.getUint32(e),r=new Uint8Array(i);return r.set(new Uint8Array(this.#s,e+4,i)),this.#a.decode(r)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let t=qt.#r;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const r=this.#o.getUint32(t);t+=4+r;const o=this.#o.getUint32(t);if(o!==0)return new Uint8Array(this.#s,t+4,o)}clearData(){let t=qt.#r;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const r=this.#o.getUint32(t);t+=4+r;const o=this.#o.getUint32(t);new Uint8Array(this.#s,t+4,o).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=qt.#r;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const r=this.#o.getUint32(t);if(r===0)return null;const o=new Uint8Array(r);return o.set(new Uint8Array(this.#s,t+4,r)),new ir(o.buffer)}get systemFontInfo(){let t=qt.#r;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(this.#s,t+4,i)),new sr(r.buffer)}static write(t){const e=t.systemFontInfo?sr.write(t.systemFontInfo):null,i=t.cssFontInfo?ir.write(t.cssFontInfo):null,r=new TextEncoder,o={};let c=0;for(const w of qt.strings)o[w]=r.encode(t[w]),c+=4+o[w].length;const u=qt.#r+4+c+4+(e?e.byteLength:0)+4+(i?i.byteLength:0)+4+(t.data?t.data.length:0),d=new ArrayBuffer(u),f=new Uint8Array(d),m=new DataView(d);let p=0;const b=qt.bools.length;let x=0,S=0;for(let w=0;w<b;w++){const T=t[qt.bools[w]];x|=(T===void 0?0:T?2:1)<<S,S+=2,(S===8||w===b-1)&&(m.setUint8(p++,x),x=0,S=0)}Lt(p===qt.#t,"FontInfo.write: Boolean properties offset mismatch");for(const w of qt.numbers)m.setFloat64(p,t[w]),p+=8;if(Lt(p===qt.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){m.setUint8(p++,4);for(const w of t.bbox)m.setInt16(p,w,!0),p+=2}else m.setUint8(p++,0),p+=8;if(Lt(p===qt.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){m.setUint8(p++,6);for(const w of t.fontMatrix)m.setFloat64(p,w,!0),p+=8}else m.setUint8(p++,0),p+=48;if(Lt(p===qt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){m.setUint8(p++,1);for(const w of t.defaultVMetrics)m.setInt16(p,w,!0),p+=2}else m.setUint8(p++,0),p+=6;Lt(p===qt.#r,"FontInfo.write: DefaultVMetrics properties offset mismatch"),m.setUint32(qt.#r,0),p+=4;for(const w of qt.strings){const T=o[w],E=T.length;m.setUint32(p,E),f.set(T,p+4),p+=4+E}if(m.setUint32(qt.#r,p-qt.#r-4),!e)m.setUint32(p,0),p+=4;else{const w=e.byteLength;m.setUint32(p,w),Lt(p+4+w<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(e),p+4),p+=4+w}if(!i)m.setUint32(p,0),p+=4;else{const w=i.byteLength;m.setUint32(p,w),Lt(p+4+w<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(i),p+4),p+=4+w}return t.data===void 0?(m.setUint32(p,0),p+=4):(m.setUint32(p,t.data.length),f.set(t.data,p+4),p+=4+t.data.length),Lt(p<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(p)}}class ys{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class GL{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Ya=Symbol("INTERNAL");class qL{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:i,usage:r,rbGroups:o}){this.#t=!!(t&bn.DISPLAY),this.#e=!!(t&bn.PRINT),this.name=e,this.intent=i,this.usage=r,this.rbGroups=o}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,i=!1){t!==Ya&&Kt("Internal method `_setVisible` called."),this.#i=i,this.#n=e}}class $L{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=bn.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const i of t.groups)this.#e.set(i.id,new qL(e,i));if(t.baseState==="OFF")for(const i of this.#e.values())i._setVisible(Ya,!1);for(const i of t.on)this.#e.get(i)._setVisible(Ya,!0);for(const i of t.off)this.#e.get(i)._setVisible(Ya,!1);this.#i=this.getHash()}}#r(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let r=1;r<e;r++){const o=t[r];let c;if(Array.isArray(o))c=this.#r(o);else if(this.#e.has(o))c=this.#e.get(o).visible;else return St(`Optional content group not found: ${o}`),!0;switch(i){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return i==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return Eu("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(St(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#r(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return St(`Unknown optional content policy ${t.policy}.`),!0}return St(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){const r=this.#e.get(t);if(!r){St(`Optional content group not found: ${t}`);return}if(i&&e&&r.rbGroups.length)for(const o of r.rbGroups)for(const c of o)c!==t&&this.#e.get(c)?._setVisible(Ya,!1,!0);r._setVisible(Ya,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let i;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const o=this.#e.get(r);if(o)switch(i){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new vA;for(const[e,i]of this.#e)t.update(`${e}:${i.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class XL{constructor(t,{disableRange:e=!1,disableStream:i=!1}){Lt(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:c,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=u,o?.length>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),t.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(i),!0)});Lt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Lt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new YL(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new WL(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class YL{constructor(t,e,i=!1,r=null){this._stream=t,this._done=i||!1,this._filename=Cu(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class WL{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function KL(a){let t=!0,e=i("filename\\*","i").exec(a);if(e){e=e[1];let m=u(e);return m=unescape(m),m=d(m),m=f(m),o(m)}if(e=c(a),e){const m=f(e);return o(m)}if(e=i("filename","i").exec(a),e){e=e[1];let m=u(e);return m=f(m),o(m)}function i(m,p){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function r(m,p){if(m){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const b=new TextDecoder(m,{fatal:!0}),x=sl(p);p=b.decode(x),t=!1}catch{}}return p}function o(m){return t&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),t&&(m=r("iso-8859-1",m))),m}function c(m){const p=[];let b;const x=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=x.exec(m))!==null;){let[,w,T,E]=b;if(w=parseInt(w,10),w in p){if(w===0)break;continue}p[w]=[T,E]}const S=[];for(let w=0;w<p.length&&w in p;++w){let[T,E]=p[w];E=u(E),T&&(E=unescape(E),w===0&&(E=d(E))),S.push(E)}return S.join("")}function u(m){if(m.startsWith('"')){const p=m.slice(1).split('\\"');for(let b=0;b<p.length;++b){const x=p[b].indexOf('"');x!==-1&&(p[b]=p[b].slice(0,x),p.length=b+1),p[b]=p[b].replaceAll(/\\(.)/g,"$1")}m=p.join('"')}return m}function d(m){const p=m.indexOf("'");if(p===-1)return m;const b=m.slice(0,p),S=m.slice(p+1).replace(/^[^']*'/,"");return r(b,S)}function f(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,b,x,S){if(x==="q"||x==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,T){return String.fromCharCode(parseInt(T,16))}),r(b,S);try{S=atob(S)}catch{}return r(b,S)})}return""}function CA(a,t){const e=new Headers;if(!a||!t||typeof t!="object")return e;for(const i in t){const r=t[i];r!==void 0&&e.append(i,r)}return e}function _u(a){return URL.parse(a)?.origin??null}function _A({responseHeaders:a,isHttp:t,rangeChunkSize:e,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(a.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*e)||i||!t||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function MA(a){const t=a.get("Content-Disposition");if(t){let e=KL(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Cu(e))return e}return null}function cl(a,t){return new Go(`Unexpected server response (${a}) while retrieving PDF "${t}".`,a,a===404||a===0&&t.startsWith("file:"))}function NA(a){return a===200||a===206}function RA(a,t,e){return{method:"GET",headers:a,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function DA(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(St(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class QL{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=CA(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Lt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ZL(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new JL(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class ZL{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),r=e.url;fetch(r,RA(i,this._withCredentials,this._abortController)).then(o=>{if(t._responseOrigin=_u(o.url),!NA(o.status))throw cl(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const c=o.headers,{allowRangeRequests:u,suggestedLength:d}=_A({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=MA(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ii("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:DA(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class JL{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${i-1}`);const c=r.url;fetch(c,RA(o,this._withCredentials,this._abortController)).then(u=>{const d=_u(u.url);if(d!==t._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${t._responseOrigin}".`);if(!NA(u.status))throw cl(u.status,c);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:DA(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const Mf=200,Nf=206;function tP(a){const t=a.response;return typeof t!="string"?t:sl(t).buffer}class eP{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=CA(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,c]of this.headers)e.setRequestHeader(o,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=Nf):r.expectedStatus=Mf,e.responseType="arraybuffer",Lt(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){const i=this.pendingRequests[t];i&&i.onProgress?.(e)}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){i.onError(r.status);return}const o=r.status||Mf;if(!(o===Mf&&i.expectedStatus===Nf)&&o!==i.expectedStatus){i.onError(r.status);return}const u=tP(r);if(o===Nf){const d=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?i.onDone({begin:parseInt(f[1],10),chunk:u}):(St('Missing or invalid "Content-Range" header.'),i.onError(0))}else u?i.onDone({begin:0,chunk:u}):i.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class nP{constructor(t){this._source=t,this._manager=new eP(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Lt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new iP(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new sP(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class iP{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=_u(e.responseURL);const i=e.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:c}=_A({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=MA(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=cl(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class sP{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=_u(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=cl(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const aP=/^[a-z][a-z0-9\-+.]+:/i;function rP(a){if(aP.test(a))return new URL(a);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(a))}class oP{constructor(t){this.source=t,this.url=rP(t.url),Lt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Lt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new lP(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new cP(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class lP{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=cl(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ii("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class cP{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const wo=Symbol("INITIAL_DATA");class kA{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:wo}}get(t,e=null){if(e){const r=this.#e(t);return r.promise.then(()=>e(r.data)),null}const i=this.#t[t];if(!i||i.data===wo)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=this.#t[t];return!!e&&e.data!==wo}delete(t){const e=this.#t[t];return!e||e.data===wo?!1:(delete this.#t[t],!0)}resolve(t,e=null){const i=this.#e(t);i.data=e,i.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==wo&&(yield[t,e])}}}const uP=1e5,Dx=30;let $o=class On{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#r=null;#s=null;#a=0;#o=0;#c=null;#l=null;#d=0;#h=0;#f=Object.create(null);#g=[];#m=null;#u=[];#p=new WeakMap;#y=null;static#b=new Map;static#v=new Map;static#T=new WeakMap;static#S=null;static#x=new Set;constructor({textContentSource:t,container:e,viewport:i}){if(t instanceof ReadableStream)this.#m=t;else if(typeof t=="object")this.#m=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=i.scale*Qn.pixelRatio,this.#d=i.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:o,pageX:c,pageY:u}=i.rawDims;this.#y=[1,0,0,-1,-c,u+o],this.#o=r,this.#a=o,On.#N(),ws(e,i),this.#t.promise.finally(()=>{On.#x.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Re.platform;return Ct(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:i})=>{if(i){this.#t.resolve();return}this.#r??=e.lang,Object.assign(this.#f,e.styles),this.#_(e.items),t()},this.#t.reject)};return this.#c=this.#m.getReader(),On.#x.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const i=t.scale*Qn.pixelRatio,r=t.rotation;if(r!==this.#d&&(e?.(),this.#d=r,ws(this.#l,{rotation:r})),i!==this.#h){e?.(),this.#h=i;const o={div:null,properties:null,ctx:On.#R(this.#r)};for(const c of this.#u)o.properties=this.#p.get(c),o.div=c,this.#E(o)}}cancel(){const t=new Ii("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#_(t){if(this.#i)return;this.#s.ctx??=On.#R(this.#r);const e=this.#u,i=this.#g;for(const r of t){if(e.length>uP){St("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id&&this.#e.setAttribute("id",`${r.id}`),o.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}i.push(r.str),this.#A(r)}}#A(t){const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const r=it.transform(this.#y,t.transform);let o=Math.atan2(r[1],r[0]);const c=this.#f[t.fontName];c.vertical&&(o+=Math.PI/2);let u=this.#n&&c.fontSubstitution||c.fontFamily;u=On.fontFamilyMap.get(u)||u;const d=Math.hypot(r[2],r[3]),f=d*On.#B(u,c,this.#r);let m,p;o===0?(m=r[4],p=r[5]-f):(m=r[4]+f*Math.sin(o),p=r[5]-f*Math.cos(o));const b="calc(var(--total-scale-factor) *",x=e.style;this.#e===this.#l?(x.left=`${(100*m/this.#o).toFixed(2)}%`,x.top=`${(100*p/this.#a).toFixed(2)}%`):(x.left=`${b}${m.toFixed(2)}px)`,x.top=`${b}${p.toFixed(2)}px)`),x.fontSize=`${b}${(On.#S*d).toFixed(2)}px)`,x.fontFamily=u,i.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),o!==0&&(i.angle=o*(180/Math.PI));let S=!1;if(t.str.length>1)S=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const w=Math.abs(t.transform[0]),T=Math.abs(t.transform[3]);w!==T&&Math.max(w,T)/Math.min(w,T)>1.5&&(S=!0)}if(S&&(i.canvasWidth=c.vertical?t.height:t.width),this.#p.set(e,i),this.#s.div=e,this.#s.properties=i,this.#E(this.#s),i.hasText&&this.#e.append(e),i.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),this.#e.append(w)}}#E(t){const{div:e,properties:i,ctx:r}=t,{style:o}=e;let c="";if(On.#S>1&&(c=`scale(${1/On.#S})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:u}=o,{canvasWidth:d,fontSize:f}=i;On.#M(r,f*this.#h,u);const{width:m}=r.measureText(e.textContent);m>0&&(c=`scaleX(${d*this.#h/m}) ${c}`)}i.angle!==0&&(c=`rotate(${i.angle}deg) ${c}`),c.length>0&&(o.transform=c)}static cleanup(){if(!(this.#x.size>0)){this.#b.clear();for(const{canvas:t}of this.#v.values())t.remove();this.#v.clear()}}static#R(t=null){let e=this.#v.get(t||="");if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#v.set(t,e),this.#T.set(e,{size:0,family:""})}return e}static#M(t,e,i){const r=this.#T.get(t);e===r.size&&i===r.family||(t.font=`${e}px ${i}`,r.size=e,r.family=i)}static#N(){if(this.#S!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#S=t.getBoundingClientRect().height,t.remove()}static#B(t,e,i){const r=this.#b.get(t);if(r)return r;const o=this.#R(i);o.canvas.width=o.canvas.height=Dx,this.#M(o,Dx,t);const c=o.measureText(""),u=c.fontBoundingBoxAscent,d=Math.abs(c.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let f=.8;return u?f=u/(u+d):(Re.platform.isFirefox&&St("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#b.set(t,f),f}};const hP=100;function fp(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const t=new mp,{docId:e}=t,i=a.url?bL(a.url):null,r=a.data?xL(a.data):null,o=a.httpHeaders||null,c=a.withCredentials===!0,u=a.password??null,d=a.range instanceof pp?a.range:null,f=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:2**16;let m=a.worker instanceof hr?a.worker:null;const p=a.verbosity,b=typeof a.docBaseUrl=="string"&&!rl(a.docBaseUrl)?a.docBaseUrl:null,x=zc(a.cMapUrl),S=a.cMapPacked!==!1,w=a.CMapReaderFactory||(Xe?_L:yx),T=zc(a.iccUrl),E=zc(a.standardFontDataUrl),C=a.StandardFontDataFactory||(Xe?ML:vx),M=zc(a.wasmUrl),R=a.WasmFactory||(Xe?NL:bx),D=a.stopAtErrors!==!0,P=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,j=a.isEvalSupported!==!1,F=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!Xe,H=typeof a.isImageDecoderSupported=="boolean"?a.isImageDecoderSupported:!Xe&&(Re.platform.isFirefox||!globalThis.chrome),Y=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,J=typeof a.disableFontFace=="boolean"?a.disableFontFace:Xe,at=a.fontExtraProperties===!0,ft=a.enableXfa===!0,rt=a.ownerDocument||globalThis.document,vt=a.disableRange===!0,B=a.disableStream===!0,V=a.disableAutoFetch===!0,Q=a.pdfBug===!0,lt=a.CanvasFactory||(Xe?CL:SL),xt=a.FilterFactory||(Xe?TL:EL),L=a.enableHWA===!0,$=a.useWasm!==!1,Z=d?d.length:a.length??NaN,et=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!Xe&&!J,dt=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:!!(w===yx&&C===vx&&R===bx&&x&&E&&M&&_o(x,document.baseURI)&&_o(E,document.baseURI)&&_o(M,document.baseURI)),gt=null;tL(p);const ht={canvasFactory:new lt({ownerDocument:rt,enableHWA:L}),filterFactory:new xt({docId:e,ownerDocument:rt}),cMapReaderFactory:dt?null:new w({baseUrl:x,isCompressed:S}),standardFontDataFactory:dt?null:new C({baseUrl:E}),wasmFactory:dt?null:new R({baseUrl:M})};m||(m=hr.create({verbosity:p,port:ys.workerPort}),t._worker=m);const $t={docId:e,apiVersion:"5.4.296",data:r,password:u,disableAutoFetch:V,rangeChunkSize:f,length:Z,docBaseUrl:b,enableXfa:ft,evaluatorOptions:{maxImageSize:P,disableFontFace:J,ignoreErrors:D,isEvalSupported:j,isOffscreenCanvasSupported:F,isImageDecoderSupported:H,canvasMaxAreaInBytes:Y,fontExtraProperties:at,useSystemFonts:et,useWasm:$,useWorkerFetch:dt,cMapUrl:x,iccUrl:T,standardFontDataUrl:E,wasmUrl:M}},jt={ownerDocument:rt,pdfBug:Q,styleElement:gt,loadingParams:{disableAutoFetch:V,enableXfa:ft}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Ge=m.messageHandler.sendWithPromise("GetDocRequest",$t,r?[r.buffer]:null);let zt;if(d)zt=new XL(d,{disableRange:vt,disableStream:B});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const ln=_o(i)?QL:Xe?oP:nP;zt=new ln({url:i,length:Z,httpHeaders:o,withCredentials:c,rangeChunkSize:f,disableRange:vt,disableStream:B})}return Ge.then(ln=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Xt=new Mo(e,ln,m.port),Pt=new mP(Xt,t,zt,jt,ht,L);t._transport=Pt,Xt.send("Ready",null)})}).catch(t._capability.reject),t}class mp{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${mp.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let pp=class{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#r=[];constructor(t,e,i=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(t){this.#r.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const i of this.#r)i(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const i of this.#n)i(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Kt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class dP{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class fP{#t=!1;constructor(t,e,i,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=r?new ux:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new kA,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:o=!1}={}){return new al({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:i,intent:r="display",annotationMode:o=ci.ENABLE,transform:c=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:m=null,printAnnotationStorage:p=null,isEditing:b=!1,recordOperations:x=!1,operationsFilter:S=null}){this._stats?.time("Overall");const w=this._transport.getRenderingIntent(r,o,p,b),{renderingIntent:T,cacheKey:E}=w;this.#t=!1,d||=this._transport.getOptionalContentConfig(T);let C=this._intentStates.get(E);C||(C=Object.create(null),this._intentStates.set(E,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const M=!!(T&bn.PRINT);C.displayReadyCapability||(C.displayReadyCapability=Promise.withResolvers(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(w));const R=!!(this._pdfBug&&globalThis.StepperManager?.enabled),D=!this.recordedBBoxes&&(x||R),P=H=>{if(C.renderTasks.delete(j),D){const Y=j.gfx?.dependencyTracker.take();Y&&(j.stepper&&j.stepper.setOperatorBBoxes(Y,j.gfx.dependencyTracker.takeDebugMetadata()),x&&(this.recordedBBoxes=Y))}M&&(this.#t=!0),this.#e(),H?(j.capability.reject(H),this._abortOperatorList({intentState:C,reason:H instanceof Error?H:new Error(H)})):j.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},j=new tr({callback:P,params:{canvas:e,canvasContext:t,dependencyTracker:D?new DL(e,C.operatorList.length,R):null,viewport:i,transform:c,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:m,enableHWA:this._transport.enableHWA,operationsFilter:S});(C.renderTasks||=new Set).add(j);const F=j.task;return Promise.all([C.displayReadyCapability.promise,d]).then(([H,Y])=>{if(this.destroyed){P();return}if(this._stats?.time("Rendering"),!(Y.renderingIntent&T))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");j.initializeGraphics({transparency:H,optionalContentConfig:Y}),j.operatorListChanged()}).catch(P),F}getOperatorList({intent:t="display",annotationMode:e=ci.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){function o(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const c=this._transport.getRenderingIntent(t,e,i,r,!0);let u=this._intentStates.get(c.cacheKey);u||(u=Object.create(null),this._intentStates.set(c.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(c)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>qo.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,r){function o(){c.read().then(function({value:d,done:f}){if(f){i(u);return}u.lang??=d.lang,Object.assign(u.styles,d.styles),u.items.push(...d.items),o()},r)}const c=e.getReader(),u={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new ux),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const i=this._intentStates.get(e);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let i=0,r=t.length;i<r;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:r}){const{map:o,transfer:c}=i,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:r},c).getReader(),f=this._intentStates.get(e);f.streamReader=d;const m=()=>{d.read().then(({value:p,done:b})=>{if(b){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,f),m())},p=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const b of f.renderTasks)b.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(p);else if(f.opListReadCapability)f.opListReadCapability.reject(p);else throw p}})};m()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof Tu){let r=hP;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Ii(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var ps,Wn,Pi,Ks,pu,Qs,Zs,Ke,Jc,LA,PA,No,or,tu;const ie=class ie{constructor({name:t=null,port:e=null,verbosity:i=eL()}={}){ni(this,Ke);ni(this,ps,Promise.withResolvers());ni(this,Wn,null);ni(this,Pi,null);ni(this,Ks,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(ne(ie,Zs).has(e))throw new Error("Cannot use more than one PDFWorker per port.");ne(ie,Zs).set(e,this),ii(this,Ke,LA).call(this,e)}else ii(this,Ke,PA).call(this)}get promise(){return ne(this,ps).promise}get port(){return ne(this,Pi)}get messageHandler(){return ne(this,Wn)}destroy(){this.destroyed=!0,ne(this,Ks)?.terminate(),an(this,Ks,null),ne(ie,Zs).delete(ne(this,Pi)),an(this,Pi,null),ne(this,Wn)?.destroy(),an(this,Wn,null)}static create(t){const e=ne(this,Zs).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new ie(t)}static get workerSrc(){if(ys.workerSrc)return ys.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ct(this,"_setupFakeWorkerGlobal",(async()=>ne(this,or,tu)?ne(this,or,tu):(await import(this.workerSrc)).WorkerMessageHandler)())}};ps=new WeakMap,Wn=new WeakMap,Pi=new WeakMap,Ks=new WeakMap,pu=new WeakMap,Qs=new WeakMap,Zs=new WeakMap,Ke=new WeakSet,Jc=function(){ne(this,ps).resolve(),ne(this,Wn).send("configure",{verbosity:this.verbosity})},LA=function(t){an(this,Pi,t),an(this,Wn,new Mo("main","worker",t)),ne(this,Wn).on("ready",()=>{}),ii(this,Ke,Jc).call(this)},PA=function(){if(ne(ie,Qs)||ne(ie,or,tu)){ii(this,Ke,No).call(this);return}let{workerSrc:t}=ie;try{ie._isSameOrigin(window.location,t)||(t=ie._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new Mo("main","worker",e),r=()=>{o.abort(),i.destroy(),e.terminate(),this.destroyed?ne(this,ps).reject(new Error("Worker was destroyed")):ii(this,Ke,No).call(this)},o=new AbortController;e.addEventListener("error",()=>{ne(this,Ks)||r()},{signal:o.signal}),i.on("test",u=>{if(o.abort(),this.destroyed||!u){r();return}an(this,Wn,i),an(this,Pi,e),an(this,Ks,e),ii(this,Ke,Jc).call(this)}),i.on("ready",u=>{if(o.abort(),this.destroyed){r();return}try{c()}catch{ii(this,Ke,No).call(this)}});const c=()=>{const u=new Uint8Array;i.send("test",u,[u.buffer])};c();return}catch{Eu("The worker has been disabled.")}ii(this,Ke,No).call(this)},No=function(){ne(ie,Qs)||(St("Setting up fake worker."),an(ie,Qs,!0)),ie._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){ne(this,ps).reject(new Error("Worker was destroyed"));return}const e=new AL;an(this,Pi,e);const i=`fake${bv(ie,pu)._++}`,r=new Mo(i+"_worker",i,e);t.setup(r,e),an(this,Wn,new Mo(i,i+"_worker",e)),ii(this,Ke,Jc).call(this)}).catch(t=>{ne(this,ps).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},or=new WeakSet,tu=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},ni(ie,or),ni(ie,pu,0),ni(ie,Qs,!1),ni(ie,Zs,new WeakMap),Xe&&(an(ie,Qs,!0),ys.workerSrc||="./pdf.worker.mjs"),ie._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!i?.origin||i.origin==="null")return!1;const r=new URL(e,i);return i.origin===r.origin},ie._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},ie.fromPort=t=>{if(uL("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return ie.create(t)};let hr=ie;class mP{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#r=null;constructor(t,e,i,r,o,c){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new kA,this.fontLoader=new yL({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=c,this.setupMessageHandler()}#s(t,e=null){const i=this.#t.get(t);if(i)return i;const r=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,r),r}get annotationStorage(){return Ct(this,"annotationStorage",new cp)}getRenderingIntent(t,e=ci.ENABLE,i=null,r=!1,o=!1){let c=bn.DISPLAY,u=om;switch(t){case"any":c=bn.ANY;break;case"display":break;case"print":c=bn.PRINT;break;default:St(`getRenderingIntent - invalid intent: ${t}`)}const d=c&bn.PRINT&&i instanceof bA?i:this.annotationStorage;switch(e){case ci.DISABLE:c+=bn.ANNOTATIONS_DISABLE;break;case ci.ENABLE:break;case ci.ENABLE_FORMS:c+=bn.ANNOTATIONS_FORMS;break;case ci.ENABLE_STORAGE:c+=bn.ANNOTATIONS_STORAGE,u=d.serializable;break;default:St(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(c+=bn.IS_EDITING),o&&(c+=bn.OPLIST);const{ids:f,hash:m}=d.modifiedIds,p=[c,u.hash,m];return{renderingIntent:c,cacheKey:p.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of this.#e.values())t.push(i._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),$o.cleanup(),this._networkStream?.cancelAllRequests(new Ii("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,r)=>{Lt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:c}){if(c){r.close();return}Lt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async i=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:c}=this._fullReader;return(!r||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=u=>{e.onProgress?.({loaded:u.loaded,total:u.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:c}}),t.on("GetRangeReader",(i,r)=>{Lt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(i.begin,i.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:c,done:u}){if(u){r.close();return}Lt(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{o.cancel(c),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new dP(i,this))}),t.on("DocException",i=>{e._capability.reject(rn(i))}),t.on("PasswordRequest",i=>{this.#r=Promise.withResolvers();try{if(!e.onPassword)throw rn(i);const r=o=>{o instanceof Error?this.#r.reject(o):this.#r.resolve({password:o})};e.onPassword(r,i.code)}catch(r){this.#r.reject(r)}return this.#r.promise}),t.on("DataLoaded",i=>{e.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;this.#e.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,r,o])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in o){const m=o.error;St(`Error during font loading: ${m}`),this.commonObjs.resolve(i,m);break}const c=new qt(o),u=this._params.pdfBug&&globalThis.FontInspector?.enabled?(m,p)=>globalThis.FontInspector.fontAdded(m,p):null,d=new vL(c,u,o.extra,o.charProcOperatorList);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=o;Lt(f,"The imageRef must be defined.");for(const m of this.#e.values())for(const[,p]of m.objs)if(p?.ref===f)return p.dataLen?(this.commonObjs.resolve(i,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([i,r,o,c])=>{if(this.destroyed)return;const u=this.#e.get(r);if(!u.objs.has(i)){if(u._intentStates.size===0){c?.bitmap?.close();return}switch(o){case"Image":case"Pattern":u.objs.resolve(i,c);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",i=>{this.destroyed||e.onProgress?.({loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&St("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=this.#i.get(e);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#n.set(o.refStr,t);const c=new fP(e,o,this,this._params.pdfBug);return this.#e.set(e,c),c});return this.#i.set(e,r),r}getPageIndex(t){return lm(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new $L(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new GL(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),$o.cleanup()}}cachedPageNumber(t){if(!lm(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class pP{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class tr{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:i,commonObjs:r,annotationCanvasMap:o,operatorList:c,pageIndex:u,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:m=!1,pdfBug:p=!1,pageColors:b=null,enableHWA:x=!1,operationsFilter:S=null}){this.callback=t,this.params=e,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=p,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new pP(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=x,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=S}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(tr.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");tr.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:o,dependencyTracker:c}=this.params,u=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new nr(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,c),this.gfx.beginDrawing({transform:r,viewport:i,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),tr.#e.delete(this._canvas),t||=new Tu(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),tr.#e.delete(this._canvas),this.callback())))}}const jA="5.4.296",OA="f56dc8601";class xn{#t=null;#e=null;#i;#n=null;#r=!1;#s=!1;#a=null;#o;#c=null;#l=null;static#d=null;static get _keyboardManager(){return Ct(this,"_keyboardManager",new ol([[["Escape","mac+Escape"],xn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],xn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],xn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],xn.prototype._moveToPrevious],[["Home","mac+Home"],xn.prototype._moveToBeginning],[["End","mac+End"],xn.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#a=t):this.#s=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",xn.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#a&&(t.ariaControls=`${this.#a.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#m.bind(this),{signal:e}),t.addEventListener("keydown",this.#g.bind(this),{signal:e});const i=this.#e=document.createElement("span");return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=this.#i,t.append(i),t}renderMainDropdown(){const t=this.#n=this.#h();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#h(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",An,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#a&&(t.id=`${this.#a.id}_colorpicker_dropdown`);for(const[i,r]of this.#l.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=i,o.setAttribute("data-l10n-id",xn.#d[i]);const c=document.createElement("span");o.append(c),c.className="swatch",c.style.backgroundColor=r,o.ariaSelected=r===this.#i,o.addEventListener("click",this.#f.bind(this,r),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#g.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Dt.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#m(t);return}const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){if(!this.#p){this.#m(t);return}if(t.target===this.#t){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#t){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#m(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#p){this.#m(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#p){this.#m(t);return}this.#n.lastChild?.focus()}#g(t){xn._keyboardManager.exec(this,t)}#m(t){if(this.#p){this.hideDropdown();return}if(this.#r=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#h();this.#t.append(e)}#u(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#p){this.#a?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#r})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const i of this.#n.children)i.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class Xo{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,Xo.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,colorValue:i}=this.#e,r=this.#t=document.createElement("input");return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",Xo.#n[t]),r.addEventListener("input",()=>{this.#i.updateParams(e,r.value)},{signal:this.#i._signal}),r}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function kx(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function Ao(a){return Math.max(0,Math.min(255,255*a))}class Lx{static CMYK_G([t,e,i,r]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Ao(t),[t,t,t]}static G_HTML([t]){const e=kx(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(Ao)}static RGB_HTML(t){return`#${t.map(kx).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,i,r]){return[Ao(1-Math.min(1,t+r)),Ao(1-Math.min(1,i+r)),Ao(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const r=1-t,o=1-e,c=1-i,u=Math.min(r,o,c);return["CMYK",r,o,c,u]}}class gP{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Kt("Abstract method `_createSVG` called.")}}class Yo extends gP{_createSVG(t){return document.createElementNS(Li,t)}}const yP=9,na=new WeakSet,vP=new Date().getTimezoneOffset()*60*1e3;class Px{static create(t){switch(t.data.annotationType){case me.LINK:return new gp(t);case me.TEXT:return new xP(t);case me.WIDGET:switch(t.data.fieldType){case"Tx":return new wP(t);case"Btn":return t.data.radioButton?new BA(t):t.data.checkBox?new SP(t):new EP(t);case"Ch":return new TP(t);case"Sig":return new AP(t)}return new ra(t);case me.POPUP:return new hm(t);case me.FREETEXT:return new FA(t);case me.LINE:return new _P(t);case me.SQUARE:return new MP(t);case me.CIRCLE:return new NP(t);case me.POLYLINE:return new zA(t);case me.CARET:return new DP(t);case me.INK:return new yp(t);case me.POLYGON:return new RP(t);case me.HIGHLIGHT:return new IA(t);case me.UNDERLINE:return new kP(t);case me.SQUIGGLY:return new LP(t);case me.STRIKEOUT:return new PP(t);case me.STAMP:return new UA(t);case me.FILEATTACHMENT:return new jP(t);default:return new le(t)}}}class le{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return le._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:i,rect:r}=this.data;let o=-1/0,c=-1/0;if(e?.length>=8){for(let u=0;u<e.length;u+=8)e[u+1]>c?(c=e[u+1],o=e[u+2]):e[u+1]===c&&(o=Math.max(o,e[u+2]));return[o,c]}if(i?.length>=1){for(const u of i)for(let d=0,f=u.length;d<f;d+=2)u[d+1]>c?(c=u[d+1],o=u[d]):u[d+1]===c&&(o=Math.max(o,u[d]));if(o!==1/0)return[o,c]}return r?[r[2],r[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:o,pageY:c}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-o)/i,t[1]=100*(t[1]-c)/r,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${Ho}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,i={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:i})||this.annotationStorage.setValue(`${Ho}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:i}=t;e&&this.#n(e);let r=this.#i?.popup||this.popup;!r&&i?.text&&(this._createPopup(i),r=this.#i.popup),r&&(r.updateEdited(t),i?.deleted&&(r.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:c,pageX:u,pageY:d}}}}=this;i?.splice(0,4,...t),e.left=`${100*(t[0]-u)/o}%`,e.top=`${100*(c-t[3]+d)/c}%`,r===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/c}%`):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:i,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),!(this instanceof ra)&&!(this instanceof gp)&&(o.tabIndex=0);const{style:c}=o;if(c.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof hm){const{rotation:w}=e;return!e.hasOwnCanvas&&w!==0&&this.setRotation(w,o),o}const{width:u,height:d}=this;if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const w=e.borderStyle.horizontalCornerRadius,T=e.borderStyle.verticalCornerRadius;if(w>0||T>0){const C=`calc(${w}px * var(--total-scale-factor)) / calc(${T}px * var(--total-scale-factor))`;c.borderRadius=C}else if(this instanceof BA){const C=`calc(${u}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;c.borderRadius=C}switch(e.borderStyle.style){case Xa.SOLID:c.borderStyle="solid";break;case Xa.DASHED:c.borderStyle="dashed";break;case Xa.BEVELED:St("Unimplemented border style: beveled");break;case Xa.INSET:St("Unimplemented border style: inset");break;case Xa.UNDERLINE:c.borderBottomStyle="solid";break}const E=e.borderColor||null;E?(this.#e=!0,c.borderColor=it.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):c.borderWidth=0}const f=it.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:m,pageHeight:p,pageX:b,pageY:x}=r.rawDims;c.left=`${100*(f[0]-b)/m}%`,c.top=`${100*(f[1]-x)/p}%`;const{rotation:S}=e;return e.hasOwnCanvas||S===0?(c.width=`${100*u/m}%`,c.height=`${100*d/p}%`):this.setRotation(S,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:o,height:c}=this;t%180!==0&&([o,c]=[c,o]),e.style.width=`${100*o/i}%`,e.style.height=`${100*c/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,r)=>{const o=r.detail[e],c=o[0],u=o.slice(1);r.target.style[i]=Lx[`${c}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[i]:Lx[`${c}_rgb`](u)})};return Ct(this,"_commonActions",{display:e=>{const{display:i}=e.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const r of Object.keys(e.detail))(t[r]||i[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[r,o]of Object.entries(e)){const c=i[r];if(c){const u={detail:{[r]:o},target:t};c(u),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,r,o]=this.data.rect.map(w=>Math.fround(w));if(t.length===8){const[w,T,E,C]=t.subarray(2,6);if(r===w&&o===T&&e===E&&i===C)return}const{style:c}=this.container;let u;if(this.#e){const{borderColor:w,borderWidth:T}=c;c.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}const d=r-e,f=o-i,{svgFactory:m}=this,p=m.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const b=m.createElement("defs");p.append(b);const x=m.createElement("clipPath"),S=`clippath_${this.data.id}`;x.setAttribute("id",S),x.setAttribute("clipPathUnits","objectBoundingBox"),b.append(x);for(let w=2,T=t.length;w<T;w+=8){const E=t[w],C=t[w+1],M=t[w+2],R=t[w+3],D=m.createElement("rect"),P=(M-e)/d,j=(o-C)/f,F=(E-M)/d,H=(C-R)/f;D.setAttribute("x",P),D.setAttribute("y",j),D.setAttribute("width",F),D.setAttribute("height",H),x.append(D),u?.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${j}" width="${F}" height="${H}"/>`)}this.#e&&(u.push("</g></svg>')"),c.backgroundImage=u.join("")),this.container.append(p),this.container.style.clipPath=`url(#${S})`}_createPopup(t=null){const{data:e}=this;let i,r;t?(i={str:t.text},r=t.date):(i=e.contentsObj,r=e.modificationDate);const o=this.#i=new hm({data:{color:e.color,titleObj:e.titleObj,modificationDate:r,contentsObj:i,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(o.render())}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){Kt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:o,id:c,exportValues:u}of r){if(o===-1||c===e)continue;const d=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${c}"]`);if(f&&!na.has(f)){St(`_getElementsByName - element not allowed: ${c}`);continue}i.push({id:c,exportValue:d,domElement:f})}return i}for(const r of document.getElementsByName(t)){const{exportValue:o}=r,c=r.getAttribute("data-element-id");c!==e&&na.has(r)&&i.push({id:c,exportValue:o,domElement:r})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class bP extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class gp extends le{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(i,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),r=!0):t.attachment?(this.#e(i,t.attachment,t.overlaidText,t.attachmentDest),r=!0):t.setOCGState?(this.#i(i,t.setOCGState,t.overlaidText),r=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),r=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,i=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),i&&(t.title=i)}_bindNamedAction(t,e,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),i&&(t.title=i),this.#t()}#e(t,e,i="",r=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:i&&(t.title=i),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,r),!1),this.#t()}#i(t,e,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),i&&(t.title=i),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const o=i.get(r);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){St('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{i?.();const{fields:r,refs:o,include:c}=e,u=[];if(r.length!==0||o.length!==0){const m=new Set(o);for(const p of r){const b=this._fieldObjects[p]||[];for(const{id:x}of b)m.add(x)}for(const p of Object.values(this._fieldObjects))for(const b of p)m.has(b.id)===c&&u.push(b)}else for(const m of Object.values(this._fieldObjects))u.push(...m);const d=this.annotationStorage,f=[];for(const m of u){const{id:p}=m;switch(f.push(p),m.type){case"text":{const x=m.defaultValue||"";d.setValue(p,{value:x});break}case"checkbox":case"radiobutton":{const x=m.defaultValue===m.exportValues;d.setValue(p,{value:x});break}case"combobox":case"listbox":{const x=m.defaultValue||"";d.setValue(p,{value:x});break}default:continue}const b=document.querySelector(`[data-element-id="${p}"]`);if(b){if(!na.has(b)){St(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class xP extends le{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class ra extends le{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Re.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,r,o){i.includes("mouse")?t.addEventListener(i,c=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(i,c=>{if(i==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c)}})})}_setEventListeners(t,e,i,r){for(const[o,c]of i)(c==="Action"||this.data.actions?.[c])&&((c==="Focus"||c==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,c,r),c==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):c==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":it.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||yP,o=t.style;let c;const u=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),m=Math.round(f/(Af*r))||1,p=f/m;c=Math.min(r,d(p/Af))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);c=Math.min(r,d(f/Af))}o.fontSize=`calc(${c}px * var(--total-scale-factor))`,o.color=it.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class wP extends ra{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,r){const o=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=i),o.setValue(c.id,{[r]:i})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let o=r.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let u=r.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),na.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:f,datetimeType:m,timeStep:p}=this.data,b=!!m&&this.enableScripting;f&&(i.title=f),this._setRequired(i,this.data.required),c&&(i.maxLength=c),i.addEventListener("input",S=>{t.setValue(e,{value:S.target.value}),this.setPropertyOnSiblings(i,"value",S.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",S=>{const w=this.data.defaultFieldValue??"";i.value=d.userValue=w,d.formattedValue=null});let x=S=>{const{formattedValue:w}=d;w!=null&&(S.target.value=w),S.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",w=>{if(d.focused)return;const{target:T}=w;if(b&&(T.type=m,p&&(T.step=p)),d.userValue){const E=d.userValue;if(b)if(m==="time"){const C=new Date(E),M=[C.getHours(),C.getMinutes(),C.getSeconds()];T.value=M.map(R=>R.toString().padStart(2,"0")).join(":")}else T.value=new Date(E-vP).toISOString().split(m==="date"?"T":".",1)[0];else T.value=E}d.lastCommittedValue=T.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",w=>{this.showElementAndHideCanvas(w.target);const T={value(E){d.userValue=E.detail.value??"",b||t.setValue(e,{value:d.userValue.toString()}),E.target.value=d.userValue},formattedValue(E){const{formattedValue:C}=E.detail;d.formattedValue=C,C!=null&&E.target!==document.activeElement&&(E.target.value=C);const M={formattedValue:C};b&&(M.value=C),t.setValue(e,M)},selRange(E){E.target.setSelectionRange(...E.detail.selRange)},charLimit:E=>{const{charLimit:C}=E.detail,{target:M}=E;if(C===0){M.removeAttribute("maxLength");return}M.setAttribute("maxLength",C);let R=d.userValue;!R||R.length<=C||(R=R.slice(0,C),M.value=d.userValue=R,t.setValue(e,{value:R}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:R,willCommit:!0,commitKey:1,selStart:M.selectionStart,selEnd:M.selectionEnd}}))}};this._dispatchEventFromSandbox(T,w)}),i.addEventListener("keydown",w=>{d.commitKey=1;let T=-1;if(w.key==="Escape"?T=0:w.key==="Enter"&&!this.data.multiLine?T=2:w.key==="Tab"&&(d.commitKey=3),T===-1)return;const{value:E}=w.target;d.lastCommittedValue!==E&&(d.lastCommittedValue=E,d.userValue=E,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:T,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}))});const S=x;x=null,i.addEventListener("blur",w=>{if(!d.focused||!w.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:T}=w;let{value:E}=T;if(b){if(E&&m==="time"){const C=E.split(":").map(M=>parseInt(M,10));E=new Date(2e3,0,1,C[0],C[1],C[2]||0).valueOf(),T.step=""}else E.includes("T")||(E=`${E}T00:00`),E=new Date(E).valueOf();T.type="text"}d.userValue=E,d.lastCommittedValue!==E&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:d.commitKey,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}),S(w)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",w=>{d.lastCommittedValue=null;const{data:T,target:E}=w,{value:C,selectionStart:M,selectionEnd:R}=E;let D=M,P=R;switch(w.inputType){case"deleteWordBackward":{const j=C.substring(0,M).match(/\w*[^\w]*$/);j&&(D-=j[0].length);break}case"deleteWordForward":{const j=C.substring(M).match(/^[^\w]*\w*/);j&&(P+=j[0].length);break}case"deleteContentBackward":M===R&&(D-=1);break;case"deleteContentForward":M===R&&(P+=1);break}w.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,change:T||"",willCommit:!1,selStart:D,selEnd:P}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.value)}if(x&&i.addEventListener("blur",x),this.data.comb){const w=(this.data.rect[2]-this.data.rect[0])/c;i.classList.add("comb"),i.style.letterSpacing=`calc(${w}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class AP extends ra{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class SP extends ra{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return na.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=0,o.addEventListener("change",c=>{const{name:u,checked:d}=c.target;for(const f of this._getElementsByName(u,i)){const m=d&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=m),t.setValue(f.id,{value:m})}t.setValue(i,{value:d})}),o.addEventListener("resetform",c=>{const u=e.defaultFieldValue||"Off";c.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",c=>{const u={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(i,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class BA extends ra{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(i,{value:r})),r)for(const c of this._getElementsByName(e.fieldName,i))t.setValue(c.id,{value:!1});const o=document.createElement("input");if(na.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",c=>{const{name:u,checked:d}=c.target;for(const f of this._getElementsByName(u,i))t.setValue(f.id,{value:!1});t.setValue(i,{value:d})}),o.addEventListener("resetform",c=>{const u=e.defaultFieldValue;c.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;o.addEventListener("updatefromsandbox",u=>{const d={value:f=>{const m=c===f.detail.value;for(const p of this._getElementsByName(f.target.name)){const b=m&&p.id===i;p.domElement&&(p.domElement.checked=b),t.setValue(p.id,{value:b})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class EP extends gp{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class TP extends ra{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");na.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const p=this.data.defaultFieldValue;for(const b of r.options)b.selected=b.value===p});for(const m of this.data.options){const p=document.createElement("option");p.textContent=m.displayValue,p.value=m.exportValue,i.value.includes(m.exportValue)&&(p.setAttribute("selected",!0),o=!1),r.append(p)}let c=null;if(o){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),c=()=>{m.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const u=m=>{const p=m?"value":"textContent",{options:b,multiple:x}=r;return x?Array.prototype.filter.call(b,S=>S.selected).map(S=>S[p]):b.selectedIndex===-1?null:b[b.selectedIndex][p]};let d=u(!1);const f=m=>{const p=m.target.options;return Array.prototype.map.call(p,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const p={value(b){c?.();const x=b.detail.value,S=new Set(Array.isArray(x)?x:[x]);for(const w of r.options)w.selected=S.has(w.value);t.setValue(e,{value:u(!0)}),d=u(!1)},multipleSelection(b){r.multiple=!0},remove(b){const x=r.options,S=b.detail.remove;x[S].selected=!1,r.remove(S),x.length>0&&Array.prototype.findIndex.call(x,T=>T.selected)===-1&&(x[0].selected=!0),t.setValue(e,{value:u(!0),items:f(b)}),d=u(!1)},clear(b){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),d=u(!1)},insert(b){const{index:x,displayValue:S,exportValue:w}=b.detail.insert,T=r.children[x],E=document.createElement("option");E.textContent=S,E.value=w,T?T.before(E):r.append(E),t.setValue(e,{value:u(!0),items:f(b)}),d=u(!1)},items(b){const{items:x}=b.detail;for(;r.length!==0;)r.remove(0);for(const S of x){const{displayValue:w,exportValue:T}=S,E=document.createElement("option");E.textContent=w,E.value=T,r.append(E)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:u(!0),items:f(b)}),d=u(!1)},indices(b){const x=new Set(b.detail.indices);for(const S of b.target.options)S.selected=x.has(S.index);t.setValue(e,{value:u(!0)}),d=u(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(p,m)}),r.addEventListener("input",m=>{const p=u(!0),b=u(!1);t.setValue(e,{value:p}),m.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:b,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class hm extends le{constructor(t){const{data:e,elements:i,parent:r}=t,o=!!r._commentManager;if(super(t,{isRenderable:!o&&le._hasPopupData(e)}),this.elements=i,o&&le._hasPopupData(e)){const c=this.popup=this.#t();for(const u of i)u.popup=c}else this.popup=null}#t(){return new CP({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),i=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",i.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(r=>`${sp}${r}`).join(",")),this.container}}class CP{#t=null;#e=this.#G.bind(this);#i=this.#z.bind(this);#n=this.#L.bind(this);#r=this.#w.bind(this);#s=null;#a=null;#o=null;#c=null;#l=null;#d=null;#h=null;#f=!1;#g=null;#m=null;#u=null;#p=null;#y=null;#b=null;#v=null;#T=null;#S=null;#x=null;#_=!1;#A=null;#E=null;constructor({container:t,color:e,elements:i,titleObj:r,modificationDate:o,contentsObj:c,richText:u,parent:d,rect:f,parentRect:m,open:p,commentManager:b=null}){this.#a=t,this.#S=r,this.#o=c,this.#T=u,this.#d=d,this.#s=e,this.#v=f,this.#h=m,this.#l=i,this.#t=b,this.#A=i[0],this.#c=du.toDateObject(o),this.trigger=i.flatMap(x=>x.getElementsToTriggerPopup()),b?this.renderCommentButton():(this.#R(),this.#a.hidden=!0,p&&this.#w())}#R(){if(this.#m)return;this.#m=new AbortController;const{signal:t}=this.#m;for(const e of this.trigger)e.addEventListener("click",this.#r,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#M(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#y=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#p||(this.#y||this.#M(),!this.#y))return;const{signal:t}=this.#m=new AbortController,e=!!this.#A.extraPopupElement,i=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},r=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},o=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#p=this.#A.container;for(const c of this.trigger)c.ariaHasPopup="dialog",c.ariaControls="commentPopup",c.addEventListener("keydown",this.#e,{signal:t}),c.addEventListener("click",i,{signal:t}),c.addEventListener("pointerenter",r,{signal:t}),c.addEventListener("pointerleave",o,{signal:t}),c.classList.add("popupTriggerArea")}else{const c=this.#p=document.createElement("button");c.className="annotationCommentButton";const u=this.#A.container;c.style.zIndex=u.style.zIndex+1,c.tabIndex=0,c.ariaHasPopup="dialog",c.ariaControls="commentPopup",c.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#B(),this.#N(),c.addEventListener("keydown",this.#e,{signal:t}),c.addEventListener("click",i,{signal:t}),c.addEventListener("pointerenter",r,{signal:t}),c.addEventListener("pointerleave",o,{signal:t}),u.after(c)}}#N(){if(this.#A.extraPopupElement&&!this.#A.editor)return;this.renderCommentButton();const[t,e]=this.#y,{style:i}=this.#p;i.left=`calc(${t}%)`,i.top=`calc(${e}% - var(--comment-button-dim))`}#B(){this.#A.extraPopupElement||(this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#A.commentData;return t?this.#d._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:t,color:e,opacity:i,creationDate:r,modificationDate:o}=this.#A.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:i,creationDate:r,modificationDate:o}}get elementBeforePopup(){return this.#p}get comment(){return this.#E||=this.#A.commentText,this.#E}set comment(t){t!==this.comment&&(this.#A.commentText=this.#E=t)}get parentBoundingClientRect(){return this.#A.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#p&&(this.#p.classList.toggle("selected",t),this.#p.ariaExpanded=e)}setSelectedCommentButton(t){this.#p.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:t,y:e,height:i}=this.#p.getBoundingClientRect(),{x:r,y:o,width:c,height:u}=this.#A.layer.getBoundingClientRect();return[(t-r)/c,(e+i-o)/u]}set commentPopupPosition(t){this.#b=t}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,i]=this.#b||this.commentButtonPosition.map(f=>f/100),r=this.parentBoundingClientRect,{x:o,y:c,width:u,height:d}=r;this.#t.showDialog(null,this,o+e*u,c+i*d,{...t,parentDimensions:r})}render(){if(this.#g)return;const t=this.#g=document.createElement("div");if(t.className="popup",this.#s){const i=t.style.outlineColor=it.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#S?.str){const i=document.createElement("span");i.className="title",e.append(i),{dir:i.dir,str:i.textContent}=this.#S}if(t.append(e),this.#c){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),i.dateTime=this.#c.toISOString(),e.append(i)}rp({html:this.#k||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#a.append(t)}get#k(){const t=this.#T,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#T.html||null}get#P(){return this.#k?.attributes?.style?.fontSize||0}get#F(){return this.#k?.attributes?.style?.color||null}#j(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#F,fontSize:this.#P?`calc(${this.#P}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:r});return i}#G(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#w()}updateEdited({rect:t,popup:e,deleted:i}){if(this.#t){i?(this.remove(),this.#E=null):e&&(e.deleted?this.remove():(this.#B(),this.#E=e.text)),t&&(this.#y=null,this.#M(),this.#N());return}if(i||e?.deleted){this.remove();return}this.#R(),this.#x||={contentsObj:this.#o,richText:this.#T},t&&(this.#u=null),e&&e.text&&(this.#T=this.#j(e.text),this.#c=du.toDateObject(e.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#x&&({contentsObj:this.#o,richText:this.#T}=this.#x,this.#x=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#m?.abort(),this.#m=null,this.#g?.remove(),this.#g=null,this.#_=!1,this.#f=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#C(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:r,pageY:o}}}=this.#d;let c=!!this.#h,u=c?this.#h:this.#v;for(const S of this.#l)if(!u||it.intersect(S.data.rect,u)!==null){u=S.data.rect,c=!0;break}const d=it.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),m=c?u[2]-u[0]+5:0,p=d[0]+m,b=d[1];this.#u=[100*(p-r)/e,100*(b-o)/i];const{style:x}=this.#a;x.left=`${this.#u[0]}%`,x.top=`${this.#u[1]}%`}#w(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#L(),this.#a.addEventListener("click",this.#r),this.#a.addEventListener("keydown",this.#e)):(this.#z(),this.#a.removeEventListener("click",this.#r),this.#a.removeEventListener("keydown",this.#e))}#L(){this.#g||this.render(),this.isVisible?this.#f&&this.#a.classList.add("focused"):(this.#C(),this.#a.hidden=!1,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)+1e3)}#z(){this.#a.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#a.hidden=!0,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)-1e3)}forceHide(){this.#_=this.isVisible,this.#_&&(this.#a.hidden=!0)}maybeShow(){this.#t||(this.#R(),this.#_&&(this.#g||this.#L(),this.#_=!1,this.#a.hidden=!1))}get isVisible(){return this.#t?!1:this.#a.hidden===!1}}class FA extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=At.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class _P extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class MP extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),o=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:rect");return c.setAttribute("x",o/2),c.setAttribute("y",o/2),c.setAttribute("width",e-o),c.setAttribute("height",i-o),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class NP extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),o=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:ellipse");return c.setAttribute("cx",e/2),c.setAttribute("cy",i/2),c.setAttribute("rx",e/2-o/2),c.setAttribute("ry",i/2-o/2),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class zA extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:i,popupRef:r},width:o,height:c}=this;if(!e)return this.container;const u=this.svgFactory.create(o,c,!0);let d=[];for(let m=0,p=e.length;m<p;m+=2){const b=e[m]-t[0],x=t[3]-e[m+1];d.push(`${b},${x}`)}d=d.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class RP extends zA{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class DP extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class yp extends le{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?At.HIGHLIGHT:At.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:i,borderStyle:r,popupRef:o}}=this,{transform:c,width:u,height:d}=this.#i(e,t),f=this.svgFactory.create(u,d,!0),m=this.#t=this.svgFactory.createElement("svg:g");f.append(m),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke-linecap","round"),m.setAttribute("stroke-linejoin","round"),m.setAttribute("stroke-miterlimit",10),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),m.setAttribute("transform",c);for(let p=0,b=i.length;p<b;p++){const x=this.svgFactory.createElement(this.svgElementName);this.#e.push(x),x.setAttribute("points",i[p].join(",")),m.append(x)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:i,rect:r}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),i)for(let c=0,u=this.#e.length;c<u;c++)this.#e[c].setAttribute("points",i[c].join(","));if(r){const{transform:c,width:u,height:d}=this.#i(this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${u} ${d}`),o.setAttribute("transform",c)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class IA extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=At.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class kP extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class LP extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class PP extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class UA extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=At.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class jP extends le{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let i;e.hasAppearance||e.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#e.bind(this)),this.#t=i;const{isMac:r}=Re.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let vp=class VA{#t=null;#e=null;#i=null;#n=new Map;#r=null;#s=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:r,page:o,viewport:c,structTreeLayer:u,commentManager:d,linkService:f,annotationStorage:m}){this.div=t,this.#t=e,this.#e=i,this.#r=u||null,this.#s=f||null,this.#i=m||new cp,this.page=o,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=d||null}hasEditableAnnotations(){return this.#n.size>0}async#a(t,e,i){const r=t.firstChild||t,o=r.id=`${sp}${e}`,c=await this.#r?.getAriaAttributes(o);if(c)for(const[u,d]of c)r.setAttribute(u,d);i?i.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,r,!1))}async render(t){const{annotations:e}=t,i=this.div;ws(i,this.viewport);const r=new Map,o={data:null,layer:i,linkService:this.#s,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Yo,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const u=c.annotationType===me.POPUP;if(u){const m=r.get(c.id);if(!m)continue;o.elements=m}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;o.data=c;const d=Px.create(o);if(!d.isRenderable)continue;if(!u&&c.popupRef){const m=r.get(c.popupRef);m?m.push(d):r.set(c.popupRef,[d])}const f=d.render();c.hidden&&(f.style.visibility="hidden"),await this.#a(f,c.id,o.elements),d.extraPopupElement?.popup?.renderCommentButton(),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#o()}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#s,svgFactory:new Yo,parent:this};for(const i of t){i.borderStyle||=VA._defaultBorderStyle,e.data=i;const r=Px.create(e);if(!r.isRenderable)continue;const o=r.render();await this.#a(o,i.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,ws(e,{rotation:t.rotation}),this.#o(),e.hidden=!1}#o(){if(!this.#e)return;const t=this.div;for(const[e,i]of this.#e){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):r.append(i);const c=this.#n.get(e);c&&(c._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,r.id,i),c._hasNoCanvas=!1):c.canvas=i)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:i,rotation:r}=t,o=new bP({data:{id:i,rect:t.getPDFRect(),rotation:r},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i}),c=o.render();return e.append(c),this.#t?.moveElementInDOM(e,c,c,!1),o.createOrUpdatePopup(),o}static get _defaultBorderStyle(){return Ct(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Xa.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const qc=/\r\n?|\n/g;class Me extends pt{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Me.prototype,e=o=>o.isEmpty(),i=Ui.TRANSLATE_SMALL,r=Ui.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new ol([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=At.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||Me._defaultColor||pt._defaultLineColor,this.#n=t.fontSize||Me._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){pt.initialize(t,e);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Dt.FREETEXT_SIZE:Me._defaultFontSize=e;break;case Dt.FREETEXT_COLOR:Me._defaultColor=e;break}}updateParams(t,e){switch(t){case Dt.FREETEXT_SIZE:this.#r(e);break;case Dt.FREETEXT_COLOR:this.#s(e);break}}static get defaultPropertiesToUpdate(){return[[Dt.FREETEXT_SIZE,Me._defaultFontSize],[Dt.FREETEXT_COLOR,Me._defaultColor||pt._defaultLineColor]]}get propertiesToUpdate(){return[[Dt.FREETEXT_SIZE,this.#n],[Dt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Xo(this),[["colorPicker",this._colorPicker]]}get colorType(){return Dt.FREETEXT_COLOR}#r(t){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#n)*this.parentScale),this.#n=r,this.#o()},i=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(t){const e=r=>{this.color=r,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Me._internalPadding*t,-(Me._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#a(){const t=[];this.editorDiv.normalize();let e=null;for(const i of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(Me.#c(i)),e=i);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,c=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=c,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/e):(this.width=i.height/t,this.height=i.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#a().trimEnd();if(t===e)return;const i=r=>{if(this.#t=r,!r){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{i(e)},undo:()=>{i(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Me._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,m]=this.pageDimensions,[p,b]=this.pageTranslation;let x,S;switch(this.rotation){case 0:x=t+(c[0]-p)/f,S=e+this.height-(c[1]-b)/m;break;case 90:x=t+(c[0]-p)/f,S=e-(c[1]-b)/m,[u,d]=[d,-u];break;case 180:x=t-this.width+(c[0]-p)/f,S=e-(c[1]-b)/m,[u,d]=[-u,-d];break;case 270:x=t+(c[0]-p-this.height*m)/f,S=e+(c[1]-b-this.width*f)/m,[u,d]=[-d,u];break}this.setAt(x*r,S*o,u,d)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(qc,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:i}=e;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const r=Me.#h(e.getData("text")||"").replaceAll(qc,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const c=o.getRangeAt(0);if(!r.includes(`
`)){c.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:d}=c,f=[],m=[];if(u.nodeType===Node.TEXT_NODE){const x=u.parentElement;if(m.push(u.nodeValue.slice(d).replaceAll(qc,"")),x!==this.editorDiv){let S=f;for(const w of this.editorDiv.childNodes){if(w===x){S=m;continue}S.push(Me.#c(w))}}f.push(u.nodeValue.slice(0,d).replaceAll(qc,""))}else if(u===this.editorDiv){let x=f,S=0;for(const w of this.editorDiv.childNodes)S++===d&&(x=m),x.push(Me.#c(w))}this.#t=`${f.join(`
`)}${r}${m.join(`
`)}`,this.#l();const p=new Range;let b=Math.sumPrecise(f.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const S=x.nodeValue.length;if(b<=S){p.setStart(x,b),p.setEnd(x,b);break}b-=S}o.removeAllRanges(),o.addRange(p)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#d(){return this.#t.replaceAll(""," ")}static#h(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Me._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,i){let r=null;if(t instanceof FA){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:d,rotation:f,id:m,popupRef:p,richText:b,contentsObj:x,creationDate:S,modificationDate:w},textContent:T,textPosition:E,parent:{page:{pageNumber:C}}}=t;if(!T||T.length===0)return null;r=t={annotationType:At.FREETEXT,color:Array.from(u),fontSize:c,value:T.join(`
`),position:E,pageIndex:C-1,rect:d.slice(0),rotation:f,annotationElementId:m,id:m,deleted:!1,popupRef:p,comment:x?.str||null,richText:b,creationDate:S,modificationDate:w}}const o=await super.deserialize(t,e,i);return o.#n=t.fontSize,o.color=it.makeHexColor(...t.color),o.#t=Me.#h(t.value),o._initialData=r,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=pt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#d()});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!this.#f(i)?null:(i.id=this.annotationElementId,i)}#f(t){const{value:e,fontSize:i,color:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==i||t.color.some((c,u)=>c!==r[u])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:i}=e;i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,e.replaceChildren();for(const r of this.#t.split(`
`)){const o=document.createElement("div");o.append(r?document.createTextNode(r):document.createElement("br")),e.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class nt{static PRECISION=1e-4;toSVGPath(){Kt("Abstract method `toSVGPath` must be implemented.")}get box(){Kt("Abstract getter `box` must be implemented.")}serialize(t,e){Kt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,r,o,c){c||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)c[u]=e+t[u]*r,c[u+1]=i+t[u+1]*o;return c}static _rescaleAndSwap(t,e,i,r,o,c){c||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)c[u]=e+t[u+1]*r,c[u+1]=i+t[u]*o;return c}static _translate(t,e,i,r){r||=new Float32Array(t.length);for(let o=0,c=t.length;o<c;o+=2)r[o]=e+t[o],r[o+1]=i+t[o+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,r,o){switch(o){case 90:return[1-e/i,t/r];case 180:return[1-t/i,1-e/r];case 270:return[e/i,1-t/r];default:return[t/i,e/r]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,r,o,c){return[(t+5*i)/6,(e+5*r)/6,(5*i+o)/6,(5*r+c)/6,(i+o)/2,(r+c)/2]}}class Ws{#t;#e=[];#i;#n;#r=[];#s=new Float32Array(18);#a;#o;#c;#l;#d;#h;#f=[];static#g=8;static#m=2;static#u=Ws.#g+Ws.#m;constructor({x:t,y:e},i,r,o,c,u=0){this.#t=i,this.#h=o*r,this.#n=c,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=u,this.#l=Ws.#g*r,this.#c=Ws.#u*r,this.#d=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#p(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[i,r,o,c]=this.#t;return[(this.#a+(t[0]-e[0])/2-i)/o,(this.#o+(t[1]-e[1])/2-r)/c,(this.#a+(e[0]-t[0])/2-i)/o,(this.#o+(e[1]-t[1])/2-r)/c]}add({x:t,y:e}){this.#a=t,this.#o=e;const[i,r,o,c]=this.#t;let[u,d,f,m]=this.#s.subarray(8,12);const p=t-f,b=e-m,x=Math.hypot(p,b);if(x<this.#c)return!1;const S=x-this.#l,w=S/x,T=w*p,E=w*b;let C=u,M=d;u=f,d=m,f+=T,m+=E,this.#f?.push(t,e);const R=-E/S,D=T/S,P=R*this.#h,j=D*this.#h;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+P,m+j],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-P,m-j],16),isNaN(this.#s[6])?(this.#r.length===0&&(this.#s.set([u+P,d+j],2),this.#r.push(NaN,NaN,NaN,NaN,(u+P-i)/o,(d+j-r)/c),this.#s.set([u-P,d-j],14),this.#e.push(NaN,NaN,NaN,NaN,(u-P-i)/o,(d-j-r)/c)),this.#s.set([C,M,u,d,f,m],6),!this.isEmpty()):(this.#s.set([C,M,u,d,f,m],6),Math.abs(Math.atan2(M-d,C-u)-Math.atan2(E,T))<Math.PI/2?([u,d,f,m]=this.#s.subarray(2,6),this.#r.push(NaN,NaN,NaN,NaN,((u+f)/2-i)/o,((d+m)/2-r)/c),[u,d,C,M]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((C+u)/2-i)/o,((M+d)/2-r)/c),!0):([C,M,u,d,f,m]=this.#s.subarray(0,6),this.#r.push(((C+5*u)/6-i)/o,((M+5*d)/6-r)/c,((5*u+f)/6-i)/o,((5*d+m)/6-r)/c,((u+f)/2-i)/o,((d+m)/2-r)/c),[f,m,u,d,C,M]=this.#s.subarray(12,18),this.#e.push(((C+5*u)/6-i)/o,((M+5*d)/6-r)/c,((5*u+f)/6-i)/o,((5*d+m)/6-r)/c,((u+f)/2-i)/o,((d+m)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#r,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const i=[];i.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#v(i);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#b(i),i.join(" ")}#y(){const[t,e,i,r]=this.#t,[o,c,u,d]=this.#p();return`M${(this.#s[2]-t)/i} ${(this.#s[3]-e)/r} L${(this.#s[4]-t)/i} ${(this.#s[5]-e)/r} L${o} ${c} L${u} ${d} L${(this.#s[16]-t)/i} ${(this.#s[17]-e)/r} L${(this.#s[14]-t)/i} ${(this.#s[15]-e)/r} Z`}#b(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#v(t){const[e,i,r,o]=this.#t,c=this.#s.subarray(4,6),u=this.#s.subarray(16,18),[d,f,m,p]=this.#p();t.push(`L${(c[0]-e)/r} ${(c[1]-i)/o} L${d} ${f} L${m} ${p} L${(u[0]-e)/r} ${(u[1]-i)/o}`)}newFreeDrawOutline(t,e,i,r,o,c){return new HA(t,e,i,r,o,c)}getOutlines(){const t=this.#r,e=this.#e,i=this.#s,[r,o,c,u]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let p=0,b=d.length-2;p<b;p+=2)d[p]=(this.#f[p]-r)/c,d[p+1]=(this.#f[p+1]-o)/u;if(d[d.length-2]=(this.#a-r)/c,d[d.length-1]=(this.#o-o)/u,isNaN(i[6])&&!this.isEmpty())return this.#T(d);const f=new Float32Array(this.#r.length+24+this.#e.length);let m=t.length;for(let p=0;p<m;p+=2){if(isNaN(t[p])){f[p]=f[p+1]=NaN;continue}f[p]=t[p],f[p+1]=t[p+1]}m=this.#x(f,m);for(let p=e.length-6;p>=6;p-=6)for(let b=0;b<6;b+=2){if(isNaN(e[p+b])){f[m]=f[m+1]=NaN,m+=2;continue}f[m]=e[p+b],f[m+1]=e[p+b+1],m+=2}return this.#S(f,m),this.newFreeDrawOutline(f,d,this.#t,this.#d,this.#i,this.#n)}#T(t){const e=this.#s,[i,r,o,c]=this.#t,[u,d,f,m]=this.#p(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(e[2]-i)/o,(e[3]-r)/c,NaN,NaN,NaN,NaN,(e[4]-i)/o,(e[5]-r)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,m,NaN,NaN,NaN,NaN,(e[16]-i)/o,(e[17]-r)/c,NaN,NaN,NaN,NaN,(e[14]-i)/o,(e[15]-r)/c],0),this.newFreeDrawOutline(p,t,this.#t,this.#d,this.#i,this.#n)}#S(t,e){const i=this.#e;return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6}#x(t,e){const i=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[o,c,u,d]=this.#t,[f,m,p,b]=this.#p();return t.set([NaN,NaN,NaN,NaN,(i[0]-o)/u,(i[1]-c)/d,NaN,NaN,NaN,NaN,f,m,NaN,NaN,NaN,NaN,p,b,NaN,NaN,NaN,NaN,(r[0]-o)/u,(r[1]-c)/d],e),e+=24}}class HA extends nt{#t;#e=new Float32Array(4);#i;#n;#r;#s;#a;constructor(t,e,i,r,o,c){super(),this.#a=t,this.#r=e,this.#t=i,this.#s=r,this.#i=o,this.#n=c,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(c);const[u,d,f,m]=this.#e;for(let p=0,b=t.length;p<b;p+=2)t[p]=(t[p]-u)/f,t[p+1]=(t[p+1]-d)/m;for(let p=0,b=e.length;p<b;p+=2)e[p]=(e[p]-u)/f,e[p+1]=(e[p+1]-d)/m}toSVGPath(){const t=[`M${this.#a[4]} ${this.#a[5]}`];for(let e=6,i=this.#a.length;e<i;e+=6){if(isNaN(this.#a[e])){t.push(`L${this.#a[e+4]} ${this.#a[e+5]}`);continue}t.push(`C${this.#a[e]} ${this.#a[e+1]} ${this.#a[e+2]} ${this.#a[e+3]} ${this.#a[e+4]} ${this.#a[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,i,r],o){const c=i-t,u=r-e;let d,f;switch(o){case 0:d=nt._rescale(this.#a,t,r,c,-u),f=nt._rescale(this.#r,t,r,c,-u);break;case 90:d=nt._rescaleAndSwap(this.#a,t,e,c,u),f=nt._rescaleAndSwap(this.#r,t,e,c,u);break;case 180:d=nt._rescale(this.#a,i,e,-c,u),f=nt._rescale(this.#r,i,e,-c,u);break;case 270:d=nt._rescaleAndSwap(this.#a,i,r,-c,-u),f=nt._rescaleAndSwap(this.#r,i,r,-c,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(t){const e=this.#a;let i=e[4],r=e[5];const o=[i,r,i,r];let c=i,u=r,d=i,f=r;const m=t?Math.max:Math.min,p=new Float32Array(4);for(let x=6,S=e.length;x<S;x+=6){const w=e[x+4],T=e[x+5];isNaN(e[x])?(it.pointBoundingBox(w,T,o),u>T?(c=w,u=T):u===T&&(c=m(c,w)),f<T?(d=w,f=T):f===T&&(d=m(d,w))):(p[0]=p[1]=1/0,p[2]=p[3]=-1/0,it.bezierBoundingBox(i,r,...e.slice(x,x+6),p),it.rectBoundingBox(p[0],p[1],p[2],p[3],o),u>p[1]?(c=p[0],u=p[1]):u===p[1]&&(c=m(c,p[0])),f<p[3]?(d=p[2],f=p[3]):f===p[3]&&(d=m(d,p[2]))),i=w,r=T}const b=this.#e;b[0]=o[0]-this.#i,b[1]=o[1]-this.#i,b[2]=o[2]-o[0]+2*this.#i,b[3]=o[3]-o[1]+2*this.#i,this.firstPoint=[c,u],this.lastPoint=[d,f]}get box(){return this.#e}newOutliner(t,e,i,r,o,c=0){return new Ws(t,e,i,r,o,c)}getNewOutline(t,e){const[i,r,o,c]=this.#e,[u,d,f,m]=this.#t,p=o*f,b=c*m,x=i*f+u,S=r*m+d,w=this.newOutliner({x:this.#r[0]*p+x,y:this.#r[1]*b+S},this.#t,this.#s,t,this.#n,e??this.#i);for(let T=2;T<this.#r.length;T+=2)w.add({x:this.#r[T]*p+x,y:this.#r[T+1]*b+S});return w.getOutlines()}}class dm{#t;#e;#i;#n=[];#r=[];constructor(t,e=0,i=0,r=!0){const o=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:w,y:T,width:E,height:C}of t){const M=Math.floor((w-e)/c)*c,R=Math.ceil((w+E+e)/c)*c,D=Math.floor((T-e)/c)*c,P=Math.ceil((T+C+e)/c)*c,j=[M,D,P,!0],F=[R,D,P,!1];this.#n.push(j,F),it.rectBoundingBox(M,D,R,P,o)}const u=o[2]-o[0]+2*i,d=o[3]-o[1]+2*i,f=o[0]-i,m=o[1]-i;let p=r?-1/0:1/0,b=1/0;const x=this.#n.at(r?-1:-2),S=[x[0],x[2]];for(const w of this.#n){const[T,E,C,M]=w;!M&&r?E<b?(b=E,p=T):E===b&&(p=Math.max(p,T)):M&&!r&&(E<b?(b=E,p=T):E===b&&(p=Math.min(p,T))),w[0]=(T-f)/u,w[1]=(E-m)/d,w[2]=(C-m)/d}this.#t=new Float32Array([f,m,u,d]),this.#e=[p,b],this.#i=S}getOutlines(){this.#n.sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#c(e),t.push(...this.#l(e)));return this.#s(t)}#s(t){const e=[],i=new Set;for(const c of t){const[u,d,f]=c;e.push([u,d,c],[u,f,c])}e.sort((c,u)=>c[1]-u[1]||c[0]-u[0]);for(let c=0,u=e.length;c<u;c+=2){const d=e[c][2],f=e[c+1][2];d.push(f),f.push(d),i.add(d),i.add(f)}const r=[];let o;for(;i.size>0;){const c=i.values().next().value;let[u,d,f,m,p]=c;i.delete(c);let b=u,x=d;for(o=[u,f],r.push(o);;){let S;if(i.has(m))S=m;else if(i.has(p))S=p;else break;i.delete(S),[u,d,f,m,p]=S,b!==u&&(o.push(b,x,u,x===d?d:f),b=u),x=x===d?f:d}o.push(b,x)}return new OP(r,this.#t,this.#e,this.#i)}#a(t){const e=this.#r;let i=0,r=e.length-1;for(;i<=r;){const o=i+r>>1,c=e[o][0];if(c===t)return o;c<t?i=o+1:r=o-1}return r+1}#o([,t,e]){const i=this.#a(t);this.#r.splice(i,0,[t,e])}#c([,t,e]){const i=this.#a(t);for(let r=i;r<this.#r.length;r++){const[o,c]=this.#r[r];if(o!==t)break;if(o===t&&c===e){this.#r.splice(r,1);return}}for(let r=i-1;r>=0;r--){const[o,c]=this.#r[r];if(o!==t)break;if(o===t&&c===e){this.#r.splice(r,1);return}}}#l(t){const[e,i,r]=t,o=[[e,i,r]],c=this.#a(r);for(let u=0;u<c;u++){const[d,f]=this.#r[u];for(let m=0,p=o.length;m<p;m++){const[,b,x]=o[m];if(!(f<=b||x<=d)){if(b>=d){if(x>f)o[m][1]=f;else{if(p===1)return[];o.splice(m,1),m--,p--}continue}o[m][2]=d,x>f&&o.push([e,f,x])}}}return o}}class OP extends nt{#t;#e;constructor(t,e,i,r){super(),this.#e=t,this.#t=e,this.firstPoint=i,this.lastPoint=r}toSVGPath(){const t=[];for(const e of this.#e){let[i,r]=e;t.push(`M${i} ${r}`);for(let o=2;o<e.length;o+=2){const c=e[o],u=e[o+1];c===i?(t.push(`V${u}`),r=u):u===r&&(t.push(`H${c}`),i=c)}t.push("Z")}return t.join(" ")}serialize([t,e,i,r],o){const c=[],u=i-t,d=r-e;for(const f of this.#e){const m=new Array(f.length);for(let p=0;p<f.length;p+=2)m[p]=t+f[p]*u,m[p+1]=r-f[p+1]*d;c.push(m)}return c}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class fm extends Ws{newFreeDrawOutline(t,e,i,r,o,c){return new BP(t,e,i,r,o,c)}}class BP extends HA{newOutliner(t,e,i,r,o,c=0){return new fm(t,e,i,r,o,c)}}class pe extends pt{#t=null;#e=0;#i;#n=null;#r=null;#s=null;#a=null;#o=0;#c=null;#l=null;#d=null;#h=!1;#f=null;#g=null;#m=null;#u="";#p;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=At.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=pe.prototype;return Ct(this,"_keyboardManager",new ol([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||pe._defaultColor,this.#p=t.thickness||pe._defaultThickness,this.opacity=t.opacity||pe._defaultOpacity,this.#i=t.boxes||null,this.#y=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#v(t),this.#A()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#a=t.focusNode,this.#o=t.focusOffset,this.#b(),this.#A(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new dm(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new dm(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{firstPoint:i}=this.#l;this.#f=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height];const{lastPoint:r}=this.#s;this.#g=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#v({highlightOutlines:t,highlightId:e,clipPathId:i}){this.#l=t;const r=1.5;if(this.#s=t.getNewOutline(this.#p/2+r,.0025),e>=0)this.#d=e,this.#n=i,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#m=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:pe.#E(this.#l.box,(p-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#m,{bbox:pe.#E(this.#s.box,p),path:{d:this.#s.toSVGPath()}})}const[o,c,u,d]=t.box;switch(this.rotation){case 0:this.x=o,this.y=c,this.width=u,this.height=d;break;case 90:{const[p,b]=this.parentDimensions;this.x=c,this.y=1-o,this.width=u*b/p,this.height=d*p/b;break}case 180:this.x=1-o,this.y=1-c,this.width=u,this.height=d;break;case 270:{const[p,b]=this.parentDimensions;this.x=1-c,this.y=o,this.width=u*b/p,this.height=d*p/b;break}}const{firstPoint:f}=t;this.#f=[(f[0]-o)/u,(f[1]-c)/d];const{lastPoint:m}=this.#s;this.#g=[(m[0]-o)/u,(m[1]-c)/d]}static initialize(t,e){pt.initialize(t,e),pe._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Dt.HIGHLIGHT_COLOR:pe._defaultColor=e;break;case Dt.HIGHLIGHT_THICKNESS:pe._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(t,e){switch(t){case Dt.HIGHLIGHT_COLOR:this.#T(e);break;case Dt.HIGHLIGHT_THICKNESS:this.#S(e);break}}static get defaultPropertiesToUpdate(){return[[Dt.HIGHLIGHT_COLOR,pe._defaultColor],[Dt.HIGHLIGHT_THICKNESS,pe._defaultThickness]]}get propertiesToUpdate(){return[[Dt.HIGHLIGHT_COLOR,this.color||pe._defaultColor],[Dt.HIGHLIGHT_THICKNESS,this.#p||pe._defaultThickness],[Dt.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#r?.updateColor(this.color),super.onUpdatedColor()}#T(t){const e=(o,c)=>{this.color=o,this.opacity=c,this.onUpdatedColor()},i=this.color,r=this.opacity;this.addCommands({cmd:e.bind(this,t,pe._defaultOpacity),undo:e.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#S(t){const e=this.#p,i=r=>{this.#p=r,this.#x(r)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#r=new xn({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#N())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#N())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#_(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#A(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#_():t&&(this.#A(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#x(t){this.#h&&(this.#v({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#_(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#m),this.#m=null)}#A(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#m=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#h),this.#c&&(this.#c.style.clipPath=this.#n))}static#E([t,e,i,r],o){switch(o){case 90:return[1-e-r,t,r,i];case 180:return[1-t-i,1-e-r,i,r];case 270:return[e,1-t-i,r,i]}return[t,e,i,r]}rotate(t){const{drawLayer:e}=this.parent;let i;this.#h?(t=(t-this.rotation+360)%360,i=pe.#E(this.#l.box,t)):i=pe.#E([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:i,root:{"data-main-rotation":t}}),e.updateProperties(this.#m,{bbox:pe.#E(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(this.width,this.height),yA(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1}})}#R(t){pe._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#M(!0);break;case 1:case 3:this.#M(!1);break}}#M(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#a,this.#o)}select(){super.select(),this.#m&&this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#m&&(this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{selected:!1}}),this.#h||this.#M(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#m,{rootClass:{hidden:!t}}))}#N(){return this.#h?this.rotation:0}#B(){if(this.#h)return null;const[t,e]=this.pageDimensions,[i,r]=this.pageTranslation,o=this.#i,c=new Float32Array(o.length*8);let u=0;for(const{x:d,y:f,width:m,height:p}of o){const b=d*t+i,x=(1-f)*e+r;c[u]=c[u+4]=b,c[u+1]=c[u+3]=x,c[u+2]=c[u+6]=b+m*t,c[u+5]=c[u+7]=x-p*e,u+=8}return c}#k(t){return this.#l.serialize(t,this.#N())}static startHighlighting(t,e,{target:i,x:r,y:o}){const{x:c,y:u,width:d,height:f}=i.getBoundingClientRect(),m=new AbortController,p=t.combinedSignal(m),b=x=>{m.abort(),this.#F(t,x)};window.addEventListener("blur",b,{signal:p}),window.addEventListener("pointerup",b,{signal:p}),window.addEventListener("pointerdown",ae,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",An,{signal:p}),i.addEventListener("pointermove",this.#P.bind(this,t),{signal:p}),this._freeHighlight=new fm({x:r,y:o},[c,u,d,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#P(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#F(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,i){let r=null;if(t instanceof IA){const{data:{quadPoints:S,rect:w,rotation:T,id:E,color:C,opacity:M,popupRef:R,richText:D,contentsObj:P,creationDate:j,modificationDate:F},parent:{page:{pageNumber:H}}}=t;r=t={annotationType:At.HIGHLIGHT,color:Array.from(C),opacity:M,quadPoints:S,boxes:null,pageIndex:H-1,rect:w.slice(0),rotation:T,annotationElementId:E,id:E,deleted:!1,popupRef:R,richText:D,comment:P?.str||null,creationDate:j,modificationDate:F}}else if(t instanceof yp){const{data:{inkLists:S,rect:w,rotation:T,id:E,color:C,borderStyle:{rawWidth:M},popupRef:R,richText:D,contentsObj:P,creationDate:j,modificationDate:F},parent:{page:{pageNumber:H}}}=t;r=t={annotationType:At.HIGHLIGHT,color:Array.from(C),thickness:M,inkLists:S,boxes:null,pageIndex:H-1,rect:w.slice(0),rotation:T,annotationElementId:E,id:E,deleted:!1,popupRef:R,richText:D,comment:P?.str||null,creationDate:j,modificationDate:F}}const{color:o,quadPoints:c,inkLists:u,opacity:d}=t,f=await super.deserialize(t,e,i);f.color=it.makeHexColor(...o),f.opacity=d||1,u&&(f.#p=t.thickness),f._initialData=r,t.comment&&f.setCommentData(t);const[m,p]=f.pageDimensions,[b,x]=f.pageTranslation;if(c){const S=f.#i=[];for(let w=0;w<c.length;w+=8)S.push({x:(c[w]-b)/m,y:1-(c[w+1]-x)/p,width:(c[w+2]-c[w])/m,height:(c[w+1]-c[w+5])/p});f.#b(),f.#A(),f.rotate(f.rotation)}else if(u){f.#h=!0;const S=u[0],w={x:S[0]-b,y:p-(S[1]-x)},T=new fm(w,[0,0,m,p],1,f.#p/2,!0,.001);for(let M=0,R=S.length;M<R;M+=2)w.x=S[M]-b,w.y=p-(S[M+1]-x),T.add(w);const{id:E,clipPathId:C}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:T.toSVGPath()}},!0,!0);f.#v({highlightOutlines:T.getOutlines(),highlightId:E,clipPathId:C}),f.#A(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=pt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:e,opacity:this.opacity,thickness:this.#p,quadPoints:this.#B(),outlines:this.#k(i.rect)}),this.addComment(i),this.annotationElementId&&!this.#j(i)?null:(i.id=this.annotationElementId,i)}#j(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((i,r)=>i!==e[r])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class GA{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Kt("Not implemented")}}class bt extends pt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#r=null;static#s=NaN;static#a=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:i}){this.#t=t,this._drawingOptions||=i,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#u(t.box)}#d(t,e){const{id:i}=e.drawLayer.draw(bt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(t,e){const i=new Set(Object.keys(t));for(const[r,o]of Object.entries(e))i.has(r)?Object.assign(t[r],o):t[r]=o;return t}static getDefaultDrawingOptions(t){Kt("Not implemented")}static get typesMap(){Kt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,e),this._currentParent&&(bt.#i.updateProperty(i,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[i,r]of this.typesMap)t.push([i,e[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[i,r]of this.constructor.typesMap)t.push([i,e[r]]);return t}_updateProperty(t,e,i){const r=this._drawingOptions,o=r[e],c=u=>{r.updateProperty(e,u);const d=this.#t.updateProperty(e,u);d&&this.#u(d),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:c.bind(this,i),undo:c.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#m()),{bbox:this.#p()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#m()),{bbox:this.#p()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#p()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#m(),this.parentDimensions),{bbox:this.#p()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#h(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#h()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#h(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#g([t,e,i,r]){const{parentDimensions:[o,c],rotation:u}=this;switch(u){case 90:return[e,1-t,i*(c/o),r*(o/c)];case 180:return[1-t,1-e,i,r];case 270:return[1-e,t,i*(c/o),r*(o/c)];default:return[t,e,i,r]}}#m(){const{x:t,y:e,width:i,height:r,parentDimensions:[o,c],rotation:u}=this;switch(u){case 90:return[1-e,t,i*(o/c),r*(c/o)];case 180:return[1-t,1-e,i,r];case 270:return[e,1-t,i*(o/c),r*(c/o)];default:return[t,e,i,r]}}#u(t){[this.x,this.y,this.width,this.height]=this.#g(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#p(){const{x:t,y:e,width:i,height:r,rotation:o,parentRotation:c,parentDimensions:[u,d]}=this;switch((o*4+c)/90){case 1:return[1-e-r,t,r,i];case 2:return[1-t-i,1-e-r,i,r];case 3:return[e,1-t-i,r,i];case 4:return[t,e-i*(u/d),r*(d/u),i*(u/d)];case 5:return[1-e,t,i*(u/d),r*(d/u)];case 6:return[1-t-r*(d/u),1-e,r*(d/u),i*(u/d)];case 7:return[e-i*(u/d),1-t-r*(d/u),i*(u/d),r*(d/u)];case 8:return[t-i,e-r,i,r];case 9:return[1-e,t-i,r,i];case 10:return[1-t,1-e,i,r];case 11:return[e-r,1-t,r,i];case 12:return[t-r*(d/u),e,r*(d/u),i*(u/d)];case 13:return[1-e-i*(u/d),t-r*(d/u),i*(u/d),r*(d/u)];case 14:return[1-t,1-e-i*(u/d),r*(d/u),i*(u/d)];case 15:return[e,1-t,i*(u/d),r*(d/u)];default:return[t,e,i,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,bt._mergeSVGProperties({bbox:this.#p()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const i=super.render();i.classList.add("draw");const r=document.createElement("div");return i.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),i}static createDrawerInstance(t,e,i,r,o){Kt("Not implemented")}static startDrawing(t,e,i,r){const{target:o,offsetX:c,offsetY:u,pointerId:d,pointerType:f}=r;if(bt.#a&&bt.#a!==f)return;const{viewport:{rotation:m}}=t,{width:p,height:b}=o.getBoundingClientRect(),x=bt.#n=new AbortController,S=t.combinedSignal(x);if(bt.#s||=d,bt.#a??=f,window.addEventListener("pointerup",w=>{bt.#s===w.pointerId?this._endDraw(w):bt.#o?.delete(w.pointerId)},{signal:S}),window.addEventListener("pointercancel",w=>{bt.#s===w.pointerId?this._currentParent.endDrawingSession():bt.#o?.delete(w.pointerId)},{signal:S}),window.addEventListener("pointerdown",w=>{bt.#a===w.pointerType&&((bt.#o||=new Set).add(w.pointerId),bt.#i.isCancellable()&&(bt.#i.removeLastElement(),bt.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",An,{signal:S}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),o.addEventListener("touchmove",w=>{w.timeStamp===bt.#c&&ae(w)},{signal:S}),t.toggleDrawing(),e._editorUndoBar?.hide(),bt.#i){t.drawLayer.updateProperties(this._currentDrawId,bt.#i.startNew(c,u,p,b,m));return}e.updateUIForDefaultProperties(this),bt.#i=this.createDrawerInstance(c,u,p,b,m),bt.#r=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(bt.#r.toSVGProperties(),bt.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(bt.#c=-1,!bt.#i)return;const{offsetX:e,offsetY:i,pointerId:r}=t;if(bt.#s===r){if(bt.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,bt.#i.add(e,i)),bt.#c=t.timeStamp,ae(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,bt.#i=null,bt.#r=null,bt.#a=null,bt.#c=NaN),bt.#n&&(bt.#n.abort(),bt.#n=null,bt.#s=NaN,bt.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,bt.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=bt.#i,r=this._currentDrawId,o=i.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(r,i.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(r,i.removeLastElement())},mustExec:!1,type:Dt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Dt.DRAW_STEP),!bt.#i.isEmpty()){const{pageDimensions:[i,r],scale:o}=e,c=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:bt.#i.getOutlines(i*o,r*o,o,this._INNER_MARGIN),drawingOptions:bt.#r,mustBeCommitted:!t});return this._cleanup(!0),c}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,i,r,o,c){Kt("Not implemented")}static async deserialize(t,e,i){const{rawDims:{pageWidth:r,pageHeight:o,pageX:c,pageY:u}}=e.viewport,d=this.deserializeDraw(c,u,r,o,this._INNER_MARGIN,t),f=await super.deserialize(t,e,i);return f.createDrawingOptions(t),f.#l({drawOutlines:d}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,i]=this.pageTranslation,[r,o]=this.pageDimensions;return this.#t.serialize([e,i,r,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class FP{#t=new Float64Array(6);#e;#i;#n;#r;#s;#a="";#o=0;#c=new ul;#l;#d;constructor(t,e,i,r,o,c){this.#l=i,this.#d=r,this.#n=o,this.#r=c,[t,e]=this.#h(t,e);const u=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#i=[{line:u,points:this.#s}],this.#t.set(u,0)}updateProperty(t,e){t==="stroke-width"&&(this.#r=e)}#h(t,e){return nt._normalizePoint(t,e,this.#l,this.#d,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#h(t,e);const[i,r,o,c]=this.#t.subarray(2,6),u=t-o,d=e-c;return Math.hypot(this.#l*u,this.#d*d)<=2?null:(this.#s.push(t,e),isNaN(i)?(this.#t.set([o,c,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([i,r,o,c,t,e],0),this.#e.push(...nt.createBezierPoints(i,r,o,c,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,r,o){this.#l=i,this.#d=r,this.#n=o,[t,e]=this.#h(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const u=this.#i.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#i.push({line:c,points:this.#s}),this.#t.set(c,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#a="";for(let t=0,e=this.#i.length;t<e;t++){const{line:i,points:r}=this.#i[t];this.#e=i,this.#s=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#a}}}toSVGPath(){const t=nt.svgRound(this.#e[4]),e=nt.svgRound(this.#e[5]);if(this.#s.length===2)return this.#a=`${this.#a} M ${t} ${e} Z`,this.#a;if(this.#s.length<=6){const r=this.#a.lastIndexOf("M");this.#a=`${this.#a.slice(0,r)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const r=nt.svgRound(this.#e[10]),o=nt.svgRound(this.#e[11]);return this.#a=`${this.#a} L ${r} ${o}`,this.#o=12,this.#a}const i=[];this.#o===0&&(i.push(`M ${t} ${e}`),this.#o=6);for(let r=this.#o,o=this.#e.length;r<o;r+=6){const[c,u,d,f,m,p]=this.#e.slice(r,r+6).map(nt.svgRound);i.push(`C${c} ${u} ${d} ${f} ${m} ${p}`)}return this.#a+=i.join(" "),this.#o=this.#e.length,this.#a}getOutlines(t,e,i,r){const o=this.#i.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#c.build(this.#i,t,e,i,this.#n,this.#r,r),this.#t=null,this.#e=null,this.#i=null,this.#a=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class ul extends nt{#t;#e=0;#i;#n;#r;#s;#a;#o;#c;build(t,e,i,r,o,c,u){this.#r=e,this.#s=i,this.#a=r,this.#o=o,this.#c=c,this.#i=u??0,this.#n=t,this.#h()}get thickness(){return this.#c}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${nt.svgRound(e[4])} ${nt.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${nt.svgRound(e[10])} ${nt.svgRound(e[11])}`);continue}for(let i=6,r=e.length;i<r;i+=6){const[o,c,u,d,f,m]=e.subarray(i,i+6).map(nt.svgRound);t.push(`C${o} ${c} ${u} ${d} ${f} ${m}`)}}return t.join("")}serialize([t,e,i,r],o){const c=[],u=[],[d,f,m,p]=this.#d();let b,x,S,w,T,E,C,M,R;switch(this.#o){case 0:R=nt._rescale,b=t,x=e+r,S=i,w=-r,T=t+d*i,E=e+(1-f-p)*r,C=t+(d+m)*i,M=e+(1-f)*r;break;case 90:R=nt._rescaleAndSwap,b=t,x=e,S=i,w=r,T=t+f*i,E=e+d*r,C=t+(f+p)*i,M=e+(d+m)*r;break;case 180:R=nt._rescale,b=t+i,x=e,S=-i,w=r,T=t+(1-d-m)*i,E=e+f*r,C=t+(1-d)*i,M=e+(f+p)*r;break;case 270:R=nt._rescaleAndSwap,b=t+i,x=e+r,S=-i,w=-r,T=t+(1-f-p)*i,E=e+(1-d-m)*r,C=t+(1-f)*i,M=e+(1-d)*r;break}for(const{line:D,points:P}of this.#n)c.push(R(D,b,x,S,w,o?new Array(D.length):null)),u.push(R(P,b,x,S,w,o?new Array(P.length):null));return{lines:c,points:u,rect:[T,E,C,M]}}static deserialize(t,e,i,r,o,{paths:{lines:c,points:u},rotation:d,thickness:f}){const m=[];let p,b,x,S,w;switch(d){case 0:w=nt._rescale,p=-t/i,b=e/r+1,x=1/i,S=-1/r;break;case 90:w=nt._rescaleAndSwap,p=-e/r,b=-t/i,x=1/r,S=1/i;break;case 180:w=nt._rescale,p=t/i+1,b=-e/r,x=-1/i,S=1/r;break;case 270:w=nt._rescaleAndSwap,p=e/r+1,b=t/i+1,x=-1/r,S=-1/i;break}if(!c){c=[];for(const E of u){const C=E.length;if(C===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(C===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const M=new Float32Array(3*(C-2));c.push(M);let[R,D,P,j]=E.subarray(0,4);M.set([NaN,NaN,NaN,NaN,R,D],0);for(let F=4;F<C;F+=2){const H=E[F],Y=E[F+1];M.set(nt.createBezierPoints(R,D,P,j,H,Y),(F-2)*3),[R,D,P,j]=[P,j,H,Y]}}}for(let E=0,C=c.length;E<C;E++)m.push({line:w(c[E].map(M=>M??NaN),p,b,x,S),points:w(u[E].map(M=>M??NaN),p,b,x,S)});const T=new this.prototype.constructor;return T.build(m,i,r,1,d,f,o),T}#l(t=this.#c){const e=this.#i+t/2*this.#a;return this.#o%180===0?[e/this.#r,e/this.#s]:[e/this.#s,e/this.#r]}#d(){const[t,e,i,r]=this.#t,[o,c]=this.#l(0);return[t+o,e+c,i-2*o,r-2*c]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let u=4,d=r.length;u<d;u+=6)it.pointBoundingBox(r[u],r[u+1],t);continue}let o=r[4],c=r[5];for(let u=6,d=r.length;u<d;u+=6){const[f,m,p,b,x,S]=r.subarray(u,u+6);it.bezierBoundingBox(o,c,f,m,p,b,x,S,t),o=x,c=S}}const[e,i]=this.#l();t[0]=Ie(t[0]-e,0,1),t[1]=Ie(t[1]-i,0,1),t[2]=Ie(t[2]+e,0,1),t[3]=Ie(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,i]=this.#l();this.#c=t;const[r,o]=this.#l(),[c,u]=[r-e,o-i],d=this.#t;return d[0]-=c,d[1]-=u,d[2]+=2*c,d[3]+=2*u,d}updateParentDimensions([t,e],i){const[r,o]=this.#l();this.#r=t,this.#s=e,this.#a=i;const[c,u]=this.#l(),d=c-r,f=u-o,m=this.#t;return m[0]-=d,m[1]-=f,m[2]+=2*d,m[3]+=2*f,m}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(nt.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${nt.svgRound(t)} ${nt.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let i=0,r=0,o=0,c=0,u=0,d=0;switch(this.#e){case 90:r=e/t,o=-t/e,u=t;break;case 180:i=-1,c=-1,u=t,d=e;break;case 270:r=-e/t,o=t/e,d=e;break;default:return""}return`matrix(${i} ${r} ${o} ${c} ${nt.svgRound(u)} ${nt.svgRound(d)})`}getPathResizingSVGProperties([t,e,i,r]){const[o,c]=this.#l(),[u,d,f,m]=this.#t;if(Math.abs(f-o)<=nt.PRECISION||Math.abs(m-c)<=nt.PRECISION){const w=t+i/2-(u+f/2),T=e+r/2-(d+m/2);return{path:{"transform-origin":`${nt.svgRound(t)} ${nt.svgRound(e)}`,transform:`${this.rotationTransform} translate(${w} ${T})`}}}const p=(i-2*o)/(f-2*o),b=(r-2*c)/(m-2*c),x=f/i,S=m/r;return{path:{"transform-origin":`${nt.svgRound(u)} ${nt.svgRound(d)}`,transform:`${this.rotationTransform} scale(${x} ${S}) translate(${nt.svgRound(o)} ${nt.svgRound(c)}) scale(${p} ${b}) translate(${nt.svgRound(-o)} ${nt.svgRound(-c)})`}}}getPathResizedSVGProperties([t,e,i,r]){const[o,c]=this.#l(),u=this.#t,[d,f,m,p]=u;if(u[0]=t,u[1]=e,u[2]=i,u[3]=r,Math.abs(m-o)<=nt.PRECISION||Math.abs(p-c)<=nt.PRECISION){const T=t+i/2-(d+m/2),E=e+r/2-(f+p/2);for(const{line:C,points:M}of this.#n)nt._translate(C,T,E,C),nt._translate(M,T,E,M);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${nt.svgRound(t)} ${nt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const b=(i-2*o)/(m-2*o),x=(r-2*c)/(p-2*c),S=-b*(d+o)+t+o,w=-x*(f+c)+e+c;if(b!==1||x!==1||S!==0||w!==0)for(const{line:T,points:E}of this.#n)nt._rescale(T,S,w,b,x,T),nt._rescale(E,S,w,b,x,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${nt.svgRound(t)} ${nt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],i){const[r,o]=i,c=this.#t,u=t-c[0],d=e-c[1];if(this.#r===r&&this.#s===o)for(const{line:f,points:m}of this.#n)nt._translate(f,u,d,f),nt._translate(m,u,d,m);else{const f=this.#r/r,m=this.#s/o;this.#r=r,this.#s=o;for(const{line:p,points:b}of this.#n)nt._rescale(p,u,d,f,m,p),nt._rescale(b,u,d,f,m,b);c[2]*=f,c[3]*=m}return c[0]=t,c[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${nt.svgRound(t)} ${nt.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${nt.svgRound(t[0])} ${nt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Mu extends GA{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:pt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Mu(this._viewParameters);return t.updateAll(this),t}}class bp extends bt{static _type="ink";static _editorType=At.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){pt.initialize(t,e),this._defaultDrawingOptions=new Mu(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ct(this,"typesMap",new Map([[Dt.INK_THICKNESS,"stroke-width"],[Dt.INK_COLOR,"stroke"],[Dt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,i,r,o){return new FP(t,e,i,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,i,r,o,c){return ul.deserialize(t,e,i,r,o,c)}static async deserialize(t,e,i){let r=null;if(t instanceof yp){const{data:{inkLists:c,rect:u,rotation:d,id:f,color:m,opacity:p,borderStyle:{rawWidth:b},popupRef:x,richText:S,contentsObj:w,creationDate:T,modificationDate:E},parent:{page:{pageNumber:C}}}=t;r=t={annotationType:At.INK,color:Array.from(m),thickness:b,opacity:p,paths:{points:c},boxes:null,pageIndex:C-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:x,richText:S,comment:w?.str||null,creationDate:T,modificationDate:E}}const o=await super.deserialize(t,e,i);return o._initialData=r,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||=new Xo(this),[["colorPicker",this._colorPicker]]}get colorType(){return Dt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:i}=this;e.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:i}){this._drawingOptions=bp.getDefaultDrawingOptions({stroke:it.makeHexColor(...t),"stroke-width":e,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:r,"stroke-opacity":o,"stroke-width":c}}=this,u=Object.assign(super.serialize(t),{color:pt._colorManager.convert(r),opacity:o,thickness:c,paths:{lines:e,points:i}});return this.addComment(u),t?(u.isCopy=!0,u):this.annotationElementId&&!this.#t(u)?null:(u.id=this.annotationElementId,u)}#t(t){const{color:e,thickness:i,opacity:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((c,u)=>c!==e[u])||t.thickness!==i||t.opacity!==r||t.pageIndex!==o}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class mm extends ul{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const $c=8,So=3;class $s{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,i,r){return i-=t,r-=e,i===0?r>0?0:4:i===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,i,r,o,c,u){const d=this.#e(i,r,o,c);for(let f=0;f<8;f++){const m=(-f+d-u+16)%8,p=this.#i[2*m],b=this.#i[2*m+1];if(t[(i+p)*e+(r+b)]!==0)return m}return-1}static#r(t,e,i,r,o,c,u){const d=this.#e(i,r,o,c);for(let f=0;f<8;f++){const m=(f+d+u+16)%8,p=this.#i[2*m],b=this.#i[2*m+1];if(t[(i+p)*e+(r+b)]!==0)return m}return-1}static#s(t,e,i,r){const o=t.length,c=new Int32Array(o);for(let m=0;m<o;m++)c[m]=t[m]<=r?1:0;for(let m=1;m<i-1;m++)c[m*e]=c[m*e+e-1]=0;for(let m=0;m<e;m++)c[m]=c[e*i-1-m]=0;let u=1,d;const f=[];for(let m=1;m<i-1;m++){d=1;for(let p=1;p<e-1;p++){const b=m*e+p,x=c[b];if(x===0)continue;let S=m,w=p;if(x===1&&c[b-1]===0)u+=1,w-=1;else if(x>=1&&c[b+1]===0)u+=1,w+=1,x>1&&(d=x);else{x!==1&&(d=Math.abs(x));continue}const T=[p,m],E=w===p+1,C={isHole:E,points:T,id:u,parent:0};f.push(C);let M;for(const J of f)if(J.id===d){M=J;break}M?M.isHole?C.parent=E?M.parent:d:C.parent=E?d:M.parent:C.parent=E?d:0;const R=this.#n(c,e,m,p,S,w,0);if(R===-1){c[b]=-u,c[b]!==1&&(d=Math.abs(c[b]));continue}let D=this.#i[2*R],P=this.#i[2*R+1];const j=m+D,F=p+P;S=j,w=F;let H=m,Y=p;for(;;){const J=this.#r(c,e,H,Y,S,w,1);D=this.#i[2*J],P=this.#i[2*J+1];const at=H+D,ft=Y+P;T.push(ft,at);const rt=H*e+Y;if(c[rt+1]===0?c[rt]=-u:c[rt]===1&&(c[rt]=u),at===m&&ft===p&&H===j&&Y===F){c[b]!==1&&(d=Math.abs(c[b]));break}else S=H,w=Y,H=at,Y=ft}}}return f}static#a(t,e,i,r){if(i-e<=4){for(let j=e;j<i-2;j+=2)r.push(t[j],t[j+1]);return}const o=t[e],c=t[e+1],u=t[i-4]-o,d=t[i-3]-c,f=Math.hypot(u,d),m=u/f,p=d/f,b=m*c-p*o,x=d/u,S=1/f,w=Math.atan(x),T=Math.cos(w),E=Math.sin(w),C=S*(Math.abs(T)+Math.abs(E)),M=S*(1-C+C**2),R=Math.max(Math.atan(Math.abs(E+T)*M),Math.atan(Math.abs(E-T)*M));let D=0,P=e;for(let j=e+2;j<i-2;j+=2){const F=Math.abs(b-m*t[j+1]+p*t[j]);F>D&&(P=j,D=F)}D>(f*R)**2?(this.#a(t,e,P+2,r),this.#a(t,P,i,r)):r.push(o,c)}static#o(t){const e=[],i=t.length;return this.#a(t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e}static#c(t,e,i,r,o,c){const u=new Float32Array(c**2),d=-2*r**2,f=c>>1;for(let w=0;w<c;w++){const T=(w-f)**2;for(let E=0;E<c;E++)u[w*c+E]=Math.exp((T+(E-f)**2)/d)}const m=new Float32Array(256),p=-2*o**2;for(let w=0;w<256;w++)m[w]=Math.exp(w**2/p);const b=t.length,x=new Uint8Array(b),S=new Uint32Array(256);for(let w=0;w<i;w++)for(let T=0;T<e;T++){const E=w*e+T,C=t[E];let M=0,R=0;for(let P=0;P<c;P++){const j=w+P-f;if(!(j<0||j>=i))for(let F=0;F<c;F++){const H=T+F-f;if(H<0||H>=e)continue;const Y=t[j*e+H],J=u[P*c+F]*m[Math.abs(Y-C)];M+=Y*J,R+=J}}const D=x[E]=Math.round(M/R);S[D]++}return[x,S]}static#l(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e}static#d(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let r=-1/0,o=1/0;for(let u=0,d=i.length;u<d;u++){const f=i[u]=t[u<<2];r=Math.max(r,f),o=Math.min(o,f)}const c=255/(r-o);for(let u=0,d=i.length;u<d;u++)i[u]=(i[u]-o)*c;return i}static#h(t){let e,i=-1/0,r=-1/0;const o=t.findIndex(d=>d!==0);let c=o,u=o;for(e=o;e<256;e++){const d=t[e];d>i&&(e-c>r&&(r=e-c,u=e-1),i=d,c=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:i,height:r}=t,{maxDim:o}=this.#t;let c=i,u=r;if(i>o||r>o){let b=i,x=r,S=Math.log2(Math.max(i,r)/o);const w=Math.floor(S);S=S===w?w-1:w;for(let E=0;E<S;E++){c=Math.ceil(b/2),u=Math.ceil(x/2);const C=new OffscreenCanvas(c,u);C.getContext("2d").drawImage(t,0,0,b,x,0,0,c,u),b=c,x=u,t!==e&&t.close(),t=C.transferToImageBitmap()}const T=Math.min(o/c,o/u);c=Math.round(c*T),u=Math.round(u*T)}const f=new OffscreenCanvas(c,u).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,c,u),f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,c,u);const m=f.getImageData(0,0,c,u).data;return[this.#d(m),c,u]}static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:r},o,c,u,d){let f=new OffscreenCanvas(1,1),m=f.getContext("2d",{alpha:!1});const p=200,b=m.font=`${i} ${r} ${p}px ${e}`,{actualBoundingBoxLeft:x,actualBoundingBoxRight:S,actualBoundingBoxAscent:w,actualBoundingBoxDescent:T,fontBoundingBoxAscent:E,fontBoundingBoxDescent:C,width:M}=m.measureText(t),R=1.5,D=Math.ceil(Math.max(Math.abs(x)+Math.abs(S)||0,M)*R),P=Math.ceil(Math.max(Math.abs(w)+Math.abs(T)||p,Math.abs(E)+Math.abs(C)||p)*R);f=new OffscreenCanvas(D,P),m=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),m.font=b,m.filter="grayscale(1)",m.fillStyle="white",m.fillRect(0,0,D,P),m.fillStyle="black",m.fillText(t,D*(R-1)/2,P*(3-R)/2);const j=this.#d(m.getImageData(0,0,D,P).data),F=this.#l(j),H=this.#h(F),Y=this.#s(j,D,P,H);return this.processDrawnLines({lines:{curves:Y,width:D,height:P},pageWidth:o,pageHeight:c,rotation:u,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,i,r,o){const[c,u,d]=this.#f(t),[f,m]=this.#c(c,u,d,Math.hypot(u,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),p=this.#h(m),b=this.#s(f,u,d,p);return this.processDrawnLines({lines:{curves:b,width:u,height:d},pageWidth:e,pageHeight:i,rotation:r,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:r,innerMargin:o,mustSmooth:c,areContours:u}){r%180!==0&&([e,i]=[i,e]);const{curves:d,width:f,height:m}=t,p=t.thickness??0,b=[],x=Math.min(e/f,i/m),S=x/e,w=x/i,T=[];for(const{points:C}of d){const M=c?this.#o(C):C;if(!M)continue;T.push(M);const R=M.length,D=new Float32Array(R),P=new Float32Array(3*(R===2?2:R-2));if(b.push({line:P,points:D}),R===2){D[0]=M[0]*S,D[1]=M[1]*w,P.set([NaN,NaN,NaN,NaN,D[0],D[1]],0);continue}let[j,F,H,Y]=M;j*=S,F*=w,H*=S,Y*=w,D.set([j,F,H,Y],0),P.set([NaN,NaN,NaN,NaN,j,F],0);for(let J=4;J<R;J+=2){const at=D[J]=M[J]*S,ft=D[J+1]=M[J+1]*w;P.set(nt.createBezierPoints(j,F,H,Y,at,ft),(J-2)*3),[j,F,H,Y]=[H,Y,at,ft]}}if(b.length===0)return null;const E=u?new mm:new ul;return E.build(b,e,i,1,r,u?0:p,o),{outline:E,newCurves:T,areContours:u,thickness:p,width:f,height:m}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:r,height:o}){let c=1/0,u=-1/0,d=0;for(const M of t){d+=M.length;for(let R=2,D=M.length;R<D;R++){const P=M[R]-M[R-2];c=Math.min(c,P),u=Math.max(u,P)}}let f;c>=-128&&u<=127?f=Int8Array:c>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const m=t.length,p=$c+So*m,b=new Uint32Array(p);let x=0;b[x++]=p*Uint32Array.BYTES_PER_ELEMENT+(d-2*m)*f.BYTES_PER_ELEMENT,b[x++]=0,b[x++]=r,b[x++]=o,b[x++]=e?0:1,b[x++]=Math.max(0,Math.floor(i??0)),b[x++]=m,b[x++]=f.BYTES_PER_ELEMENT;for(const M of t)b[x++]=M.length-2,b[x++]=M[0],b[x++]=M[1];const S=new CompressionStream("deflate-raw"),w=S.writable.getWriter();await w.ready,w.write(b);const T=f.prototype.constructor;for(const M of t){const R=new T(M.length-2);for(let D=2,P=M.length;D<P;D++)R[D-2]=M[D]-M[D-2];w.write(R)}w.close();const E=await new Response(S.readable).arrayBuffer(),C=new Uint8Array(E);return uA(C)}static async decompressSignature(t){try{const e=cL(t),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),o=r.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let c=null,u=0;for await(const M of i)c||=new Uint8Array(new Uint32Array(M.buffer,0,4)[0]),c.set(M,u),u+=M.length;const d=new Uint32Array(c.buffer,0,c.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const m=d[2],p=d[3],b=d[4]===0,x=d[5],S=d[6],w=d[7],T=[],E=($c+So*S)*Uint32Array.BYTES_PER_ELEMENT;let C;switch(w){case Int8Array.BYTES_PER_ELEMENT:C=new Int8Array(c.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:C=new Int16Array(c.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:C=new Int32Array(c.buffer,E);break}u=0;for(let M=0;M<S;M++){const R=d[So*M+$c],D=new Float32Array(R+2);T.push(D);for(let P=0;P<So-1;P++)D[P]=d[So*M+$c+P+1];for(let P=0;P<R;P++)D[P+2]=D[P]+C[u++]}return{areContours:b,thickness:x,outlines:T,width:m,height:p}}catch(e){return St(`decompressSignature: ${e}`),null}}}class xp extends GA{constructor(){super(),super.updateProperties({fill:pt._defaultLineColor,"stroke-width":0})}clone(){const t=new xp;return t.updateAll(this),t}}class wp extends Mu{constructor(t){super(t),super.updateProperties({stroke:pt._defaultLineColor,"stroke-width":1})}clone(){const t=new wp(this._viewParameters);return t.updateAll(this),t}}class ri extends bt{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=At.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){pt.initialize(t,e),this._defaultDrawingOptions=new xp,this._defaultDrawnSignatureOptions=new wp(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ct(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:o,areContours:c,description:u,uuid:d,heightInPage:f}=this.#i,{rawDims:{pageWidth:m,pageHeight:p},rotation:b}=this.parent.viewport,x=$s.processDrawnLines({lines:r,pageWidth:m,pageHeight:p,rotation:b,innerMargin:ri._INNER_MARGIN,mustSmooth:o,areContours:c});this.addSignature(x,f,u,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:i,width:r,height:o}=this.#i,c=Math.max(r,o),u=$s.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:i,width:r,height:o},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,i,r){const{x:o,y:c}=this,{outline:u}=this.#i=t;this.#t=u instanceof mm,this.description=i;let d;this.#t?d=ri.getDefaultDrawingOptions():(d=ri._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:d});const[,f]=this.pageDimensions;let m=e/f;m=m>=1?.5:m,this.width*=m/this.height,this.width>=1&&(m*=.9/this.width,this.width=.9),this.height=m,this.setDims(),this.x=o,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:r}=this.parent.viewport;return $s.process(t,e,i,r,ri._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:i,pageHeight:r},rotation:o}=this.parent.viewport;return $s.extractContoursFromText(t,e,i,r,o,ri._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:r}=this.parent.viewport;return $s.processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:r,innerMargin:ri._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=ri.getDefaultDrawingOptions():(this._drawingOptions=ri._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":r}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:r});return this.addComment(o),t?(o.paths={lines:e,points:i},o.uuid=this.#n,o.isCopy=!0):o.lines=e,this.#e&&(o.accessibilityData={type:"Figure",alt:this.#e}),o}static deserializeDraw(t,e,i,r,o,c){return c.areContours?mm.deserialize(t,e,i,r,o,c):ul.deserialize(t,e,i,r,o,c)}static async deserialize(t,e,i){const r=await super.deserialize(t,e,i);return r.#t=t.areContours,r.description=t.accessibilityData?.alt||"",r.#n=t.uuid,r}}class zP extends pt{#t=null;#e=null;#i=null;#n=null;#r=null;#s="";#a=null;#o=!1;#c=null;#l=!1;#d=!1;static _type="stamp";static _editorType=At.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#r=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){pt.initialize(t,e)}static isHandlingMimeForPasting(t){return fu.includes(t)}static paste(t,e){e.pasteEditor({mode:At.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#m()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#a){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:c}=t||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:r,width:o,height:c,channels:r.length/(o*c)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#g(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(i=>this.#h(i,!0)).finally(()=>this.#f());return}if(this.#n){const i=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(i).then(r=>this.#h(r)).finally(()=>this.#f());return}if(this.#r){const i=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(i).then(r=>this.#h(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=fu.join(",");const e=this._uiManager._signal;this.#i=new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(r)}i()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#a?.remove(),this.#a=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#g();return}super.rebuild(),this.div!==null&&(this.#e&&this.#a===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#r||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#m():this.#g()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:i,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#e=i,r&&(this.#t=r),this.#o=!1,this.#m())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#p()},t)}#m(){const{div:t}=this;let{width:e,height:i}=this.#t;const[r,o]=this.pageDimensions,c=.75;if(this.width)e=this.width*r,i=this.height*o;else if(e>c*r||i>c*o){const d=Math.min(c*r/e,c*o/i);e*=d,i*=d}this._uiManager.enableWaiting(!1);const u=this.#a=document.createElement("canvas");u.setAttribute("role","img"),this.addContainer(u),this.width=e/r,this.height=i/o,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#p(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,i=!1){t||(t=224);const{width:r,height:o}=this.#t,c=new Qn;let u=this.#t,d=r,f=o,m=null;if(e){if(r>e||o>e){const P=Math.min(e/r,e/o);d=Math.floor(r*P),f=Math.floor(o*P)}m=document.createElement("canvas");const b=m.width=Math.ceil(d*c.sx),x=m.height=Math.ceil(f*c.sy);this.#l||(u=this.#u(b,x));const S=m.getContext("2d");S.filter=this._uiManager.hcmFilter;let w="white",T="#cfcfd8";this._uiManager.hcmFilter!=="none"?T="black":dL.isDarkMode&&(w="#8f8f9d",T="#42414d");const E=15,C=E*c.sx,M=E*c.sy,R=new OffscreenCanvas(C*2,M*2),D=R.getContext("2d");D.fillStyle=w,D.fillRect(0,0,C*2,M*2),D.fillStyle=T,D.fillRect(0,0,C,M),D.fillRect(C,M,C,M),S.fillStyle=S.createPattern(R,"repeat"),S.fillRect(0,0,b,x),S.drawImage(u,0,0,u.width,u.height,0,0,b,x)}let p=null;if(i){let b,x;if(c.symmetric&&u.width<t&&u.height<t)b=u.width,x=u.height;else if(u=this.#t,r>t||o>t){const T=Math.min(t/r,t/o);b=Math.floor(r*T),x=Math.floor(o*T),this.#l||(u=this.#u(b,x))}const w=new OffscreenCanvas(b,x).getContext("2d",{willReadFrequently:!0});w.drawImage(u,0,0,u.width,u.height,0,0,b,x),p={width:b,height:x,data:w.getImageData(0,0,b,x).data}}return{canvas:m,width:d,height:f,imageData:p}}#u(t,e){const{width:i,height:r}=this.#t;let o=i,c=r,u=this.#t;for(;o>2*t||c>2*e;){const d=o,f=c;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const m=new OffscreenCanvas(o,c);m.getContext("2d").drawImage(u,0,0,d,f,0,0,o,c),u=m.transferToImageBitmap()}return u}#p(){const[t,e]=this.parentDimensions,{width:i,height:r}=this,o=new Qn,c=Math.ceil(i*t*o.sx),u=Math.ceil(r*e*o.sy),d=this.#a;if(!d||d.width===c&&d.height===u)return;d.width=c,d.height=u;const f=this.#l?this.#t:this.#u(c,u),m=d.getContext("2d");m.filter=this._uiManager.hcmFilter,m.drawImage(f,0,0,f.width,f.height,0,0,c,u)}#y(t){if(t){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,i]=this.pageDimensions,r=Math.round(this.width*e*ea.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*ea.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(r,o);return c.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,o),c.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,i){let r=null,o=!1;if(t instanceof UA){const{data:{rect:w,rotation:T,id:E,structParent:C,popupRef:M,richText:R,contentsObj:D,creationDate:P,modificationDate:j},container:F,parent:{page:{pageNumber:H}},canvas:Y}=t;let J,at;Y?(delete t.canvas,{id:J,bitmap:at}=i.imageManager.getFromCanvas(F.id,Y),Y.remove()):(o=!0,t._hasNoCanvas=!0);const ft=(await e._structTree.getAriaAttributes(`${sp}${E}`))?.get("aria-label")||"";r=t={annotationType:At.STAMP,bitmapId:J,bitmap:at,pageIndex:H-1,rect:w.slice(0),rotation:T,annotationElementId:E,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:ft},isSvg:!1,structParent:C,popupRef:M,richText:R,comment:D?.str||null,creationDate:P,modificationDate:j}}const c=await super.deserialize(t,e,i),{rect:u,bitmap:d,bitmapUrl:f,bitmapId:m,isSvg:p,accessibilityData:b}=t;o?(i.addMissingCanvas(t.id,c),c.#o=!0):m&&i.imageManager.isValidId(m)?(c.#e=m,d&&(c.#t=d)):c.#n=f,c.#l=p;const[x,S]=c.pageDimensions;return c.width=(u[2]-u[0])/x,c.height=(u[3]-u[1])/S,b&&(c.altTextData=b),c._initialData=r,t.comment&&c.setCommentData(t),c.#d=!!r,c}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(i),t)return i.bitmapUrl=this.#y(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const u=this.#b(i);return u.isSame?null:(u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(e===null)return i;e.stamps||=new Map;const c=this.#l?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:c,serialized:i}),i.bitmap=this.#y(!1);else if(this.#l){const u=e.stamps.get(this.#e);c>u.area&&(u.area=c,u.serialized.bitmap.close(),u.serialized.bitmap=this.#y(!1))}return i}#b(t){const{pageIndex:e,accessibilityData:{altText:i}}=this._initialData,r=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class li{#t;#e=!1;#i=null;#n=null;#r=null;#s=new Map;#a=!1;#o=!1;#c=!1;#l=null;#d=null;#h=null;#f=null;#g=null;#m=-1;#u;static _initialized=!1;static#p=new Map([Me,bp,zP,pe,ri].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:r,accessibilityManager:o,annotationLayer:c,drawLayer:u,textLayer:d,viewport:f,l10n:m}){const p=[...li.#p.values()];if(!li._initialized){li._initialized=!0;for(const b of p)b.initialize(m,t)}t.registerEditorTypes(p),this.#u=t,this.pageIndex=e,this.div=i,this.#t=o,this.#i=c,this.viewport=f,this.#h=d,this.drawLayer=u,this._structTree=r,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===At.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#x(),t){case At.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case At.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case At.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===At.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const i of li.#p.values())e.toggle(`${i._type}Editing`,t===i._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}get#y(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const t=new Set;for(const i of this.#y)i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#u.removeChangedExistingAnnotation(i),t.add(i.annotationElementId));const e=this.#i;if(e)for(const i of e.getEditableAnnotations()){if(i.hide(),this.#u.isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#g){this.#g=new AbortController;const i=this.#u.combinedSignal(this.#g);this.#h.div.addEventListener("pointerdown",r=>{const{clientX:c,clientY:u,timeStamp:d}=r,f=this.#m;if(d-f>500){this.#m=d;return}this.#m=-1;const{classList:m}=this.div;m.toggle("getElements",!0);const p=document.elementsFromPoint(c,u);if(m.toggle("getElements",!1),!this.div.contains(p[0]))return;let b;const x=new RegExp(`^${Ho}[0-9]+$`);for(const w of p)if(x.test(w.id)){b=w.id;break}if(!b)return;const S=this.#s.get(b);S?.annotationElementId===null&&(r.stopPropagation(),r.preventDefault(),S.dblclick(r))},{signal:i,capture:!0})}const t=this.#i;if(t){const i=new Map,r=new Map;for(const c of this.#y){if(c.disableEditing(),!c.annotationElementId){c.updateFakeAnnotationElement(t);continue}if(c.serialize()!==null){i.set(c.annotationElementId,c);continue}else r.set(c.annotationElementId,c);this.getEditableAnnotation(c.annotationElementId)?.show(),c.remove()}const o=t.getEditableAnnotations();for(const c of o){const{id:u}=c.data;if(this.#u.isDeletedAnnotationElement(u)){c.updateEdited({deleted:!0});continue}let d=r.get(u);if(d){d.resetAnnotationElement(c),d.show(!1),c.show();continue}d=i.get(u),d&&(this.#u.addChangedExistingAnnotation(d),d.renderAnnotationElement(c)&&d.show(!1)),c.show()}}this.#x(),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const i of li.#p.values())e.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#h.div.addEventListener("pointerdown",this.#b.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#h.div.classList.remove("highlighting"))}#b(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:i}=Re.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#u.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),pe.startHighlighting(this,this.#u.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t.annotationElementId),pt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#r&&(t._focusEventsAllowed=!1,this.#r=setTimeout(()=>{this.#r=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getEditorByUID(t){for(const e of this.#s.values())if(e.uid===t)return e;return null}getNextId(){return this.#u.getId()}get#v(){return li.#p.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#T(t){const e=this.#v;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:i,offsetY:r}=this.#S(),o=this.getNextId(),c=this.#T({parent:this,id:o,x:i,y:r,uiManager:this.#u,isCentered:!0,...e});c&&this.add(c)}async deserialize(t){return await li.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,i={}){const r=this.getNextId(),o=this.#T({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...i});return o&&this.add(o),o}get boundingClientRect(){return this.div.getBoundingClientRect()}#S(){const{x:t,y:e,width:i,height:r}=this.boundingClientRect,o=Math.max(0,t),c=Math.max(0,e),u=Math.min(window.innerWidth,t+i),d=Math.min(window.innerHeight,e+r),f=(o+u)/2-t,m=(c+d)/2-e,[p,b]=this.viewport.rotation%180===0?[f,m]:[m,f];return{offsetX:p,offsetY:b}}addNewEditor(t={}){this.createAndAddNewEditor(this.#S(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=Re.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#a||(this.#a=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const i=this.#u.getMode();if(i===At.STAMP||i===At.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===At.HIGHLIGHT&&this.enableTextSelection(),this.#a){this.#a=!1;return}const{isMac:e}=Re.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#a=!0,this.#v?.isDrawer){this.startDrawingSession(t);return}const i=this.#u.getActive();this.#e=!i||i.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#v.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#v.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#v.endDrawing(t)):null}findNewParent(t,e,i){const r=this.#u.findParent(e,i);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#r&&(clearTimeout(this.#r),this.#r=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#x(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,ws(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#x();const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,ws(this.div,{rotation:i}),e!==i)for(const r of this.#s.values())r.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class Ne{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Ct(this,"_svgFactory",new Yo)}static#r(t,[e,i,r,o]){const{style:c}=t;c.top=`${100*i}%`,c.left=`${100*e}%`,c.width=`${100*r}%`,c.height=`${100*o}%`}#s(){const t=Ne._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#a(t,e){const i=Ne._svgFactory.createElement("clipPath");t.append(i);const r=`clip_${e}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const o=Ne._svgFactory.createElement("use");return i.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),r}#o(t,e){for(const[i,r]of Object.entries(e))r===null?t.removeAttribute(i):t.setAttribute(i,r)}draw(t,e=!1,i=!1){const r=Ne.#n++,o=this.#s(),c=Ne._svgFactory.createElement("defs");o.append(c);const u=Ne._svgFactory.createElement("path");c.append(u);const d=`path_p${this.pageIndex}_${r}`;u.setAttribute("id",d),u.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(r,u);const f=i?this.#a(c,d):null,m=Ne._svgFactory.createElement("use");return o.append(m),m.setAttribute("href",`#${d}`),this.updateProperties(o,t),this.#e.set(r,o),{id:r,clipPathId:`url(#${f})`}}drawOutline(t,e){const i=Ne.#n++,r=this.#s(),o=Ne._svgFactory.createElement("defs");r.append(o);const c=Ne._svgFactory.createElement("path");o.append(c);const u=`path_p${this.pageIndex}_${i}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const p=Ne._svgFactory.createElement("mask");o.append(p),d=`mask_p${this.pageIndex}_${i}`,p.setAttribute("id",d),p.setAttribute("maskUnits","objectBoundingBox");const b=Ne._svgFactory.createElement("rect");p.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const x=Ne._svgFactory.createElement("use");p.append(x),x.setAttribute("href",`#${u}`),x.setAttribute("stroke","none"),x.setAttribute("fill","black"),x.setAttribute("fill-rule","nonzero"),x.classList.add("mask")}const f=Ne._svgFactory.createElement("use");r.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const m=f.cloneNode();return r.append(m),f.classList.add("mainOutline"),m.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(i,r),i}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:i,bbox:r,rootClass:o,path:c}=e,u=typeof t=="number"?this.#e.get(t):t;if(u){if(i&&this.#o(u,i),r&&Ne.#r(u,r),o){const{classList:d}=u;for(const[f,m]of Object.entries(o))d.toggle(f,m)}if(c){const f=u.firstChild.firstChild;this.#o(f,c)}}}updateParent(t,e){if(e===this)return;const i=this.#e.get(t);i&&(e.#t.append(i),this.#e.delete(t),e.#e.set(t,i))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:dm};globalThis.pdfjsLib={AbortException:Ii,AnnotationEditorLayer:li,AnnotationEditorParamsType:Dt,AnnotationEditorType:At,AnnotationEditorUIManager:Ui,AnnotationLayer:vp,AnnotationMode:ci,AnnotationType:me,applyOpacity:pA,build:OA,ColorPicker:xn,createValidAbsoluteUrl:ep,CSSConstants:mA,DOMSVGFactory:Yo,DrawLayer:Ne,FeatureTest:Re,fetchData:vr,findContrastColor:gA,getDocument:fp,getFilenameFromUrl:hA,getPdfFilenameFromUrl:dA,getRGB:br,getUuid:ip,getXfaPageViewport:fA,GlobalWorkerOptions:ys,ImageKind:jo,InvalidPDFException:hu,isDataScheme:rl,isPdfFile:Cu,isValidExplicitDest:xA,MathClamp:Ie,noContextMenu:An,normalizeUnicode:cA,OPS:ur,OutputScale:Qn,PasswordResponses:oA,PDFDataRangeTransport:pp,PDFDateString:du,PDFWorker:hr,PermissionFlag:rA,PixelsPerInch:ea,RenderingCancelledException:Tu,renderRichText:rp,ResponseException:Go,setLayerDimensions:ws,shadow:Ct,SignatureExtractor:$s,stopEvent:ae,SupportedImageMimeTypes:fu,TextLayer:$o,TouchManager:ll,updateUrlHash:np,Util:it,VerbosityLevel:il,version:jA,XfaLayer:ap};const IP=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Ii,AnnotationEditorLayer:li,AnnotationEditorParamsType:Dt,AnnotationEditorType:At,AnnotationEditorUIManager:Ui,AnnotationLayer:vp,AnnotationMode:ci,AnnotationType:me,CSSConstants:mA,ColorPicker:xn,DOMSVGFactory:Yo,DrawLayer:Ne,FeatureTest:Re,GlobalWorkerOptions:ys,ImageKind:jo,InvalidPDFException:hu,MathClamp:Ie,OPS:ur,OutputScale:Qn,PDFDataRangeTransport:pp,PDFDateString:du,PDFWorker:hr,PasswordResponses:oA,PermissionFlag:rA,PixelsPerInch:ea,RenderingCancelledException:Tu,ResponseException:Go,SignatureExtractor:$s,SupportedImageMimeTypes:fu,TextLayer:$o,TouchManager:ll,Util:it,VerbosityLevel:il,XfaLayer:ap,applyOpacity:pA,build:OA,createValidAbsoluteUrl:ep,fetchData:vr,findContrastColor:gA,getDocument:fp,getFilenameFromUrl:hA,getPdfFilenameFromUrl:dA,getRGB:br,getUuid:ip,getXfaPageViewport:fA,isDataScheme:rl,isPdfFile:Cu,isValidExplicitDest:xA,noContextMenu:An,normalizeUnicode:cA,renderRichText:rp,setLayerDimensions:ws,shadow:Ct,stopEvent:ae,updateUrlHash:np,version:jA},Symbol.toStringTag,{value:"Module"}));function qA(a){var t,e,i="";if(typeof a=="string"||typeof a=="number")i+=a;else if(typeof a=="object")if(Array.isArray(a)){var r=a.length;for(t=0;t<r;t++)a[t]&&(e=qA(a[t]))&&(i&&(i+=" "),i+=e)}else for(e in a)a[e]&&(i&&(i+=" "),i+=e);return i}function Nu(){for(var a,t,e=0,i="",r=arguments.length;e<r;e++)(a=arguments[e])&&(t=qA(a))&&(i&&(i+=" "),i+=t);return i}var jx=Object.prototype.hasOwnProperty;function Ox(a,t,e){for(e of a.keys())if(ar(e,t))return e}function ar(a,t){var e,i,r;if(a===t)return!0;if(a&&t&&(e=a.constructor)===t.constructor){if(e===Date)return a.getTime()===t.getTime();if(e===RegExp)return a.toString()===t.toString();if(e===Array){if((i=a.length)===t.length)for(;i--&&ar(a[i],t[i]););return i===-1}if(e===Set){if(a.size!==t.size)return!1;for(i of a)if(r=i,r&&typeof r=="object"&&(r=Ox(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(a.size!==t.size)return!1;for(i of a)if(r=i[0],r&&typeof r=="object"&&(r=Ox(t,r),!r)||!ar(i[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)a=new Uint8Array(a),t=new Uint8Array(t);else if(e===DataView){if((i=a.byteLength)===t.byteLength)for(;i--&&a.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(a)){if((i=a.byteLength)===t.byteLength)for(;i--&&a[i]===t[i];);return i===-1}if(!e||typeof a=="object"){i=0;for(e in a)if(jx.call(a,e)&&++i&&!jx.call(t,e)||!(e in t)||!ar(a[e],t[e]))return!1;return Object.keys(t).length===i}}return a!==a&&t!==t}function hl(a){let t=!1;return{promise:new Promise((i,r)=>{a.then(o=>!t&&i(o)).catch(o=>!t&&r(o))}),cancel(){t=!0}}}const UP=["onCopy","onCut","onPaste"],VP=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],HP=["onFocus","onBlur"],GP=["onInput","onInvalid","onReset","onSubmit"],qP=["onLoad","onError"],$P=["onKeyDown","onKeyPress","onKeyUp"],XP=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],YP=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],WP=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],KP=["onSelect"],QP=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],ZP=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],JP=["onScroll"],tj=["onWheel"],ej=["onAnimationStart","onAnimationEnd","onAnimationIteration"],nj=["onTransitionEnd"],ij=["onToggle"],sj=["onChange"],aj=[...UP,...VP,...HP,...GP,...qP,...$P,...XP,...YP,...WP,...KP,...QP,...ZP,...JP,...tj,...ej,...nj,...sj,...ij];function $A(a,t){const e={};for(const i of aj){const r=a[i];r&&(t?e[i]=(o=>r(o,t(i))):e[i]=r)}return e}var rj="Invariant failed";function Wt(a,t){if(!a)throw new Error(rj)}var Rf,Bx;function oj(){if(Bx)return Rf;Bx=1;var a=function(){};return Rf=a,Rf}var lj=oj();const Ve=wE(lj),XA=N.createContext(null),cj="noopener noreferrer nofollow";class uj{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Wt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Wt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||cj,t.target=i?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{Wt(this.pdfDocument),Wt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Wt(Array.isArray(e));const i=e[0];new Promise(r=>{Wt(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(o=>{r(o)}).catch(()=>{Wt(!1)}):typeof i=="number"?r(i):Wt(!1)}).then(r=>{const o=r+1;Wt(this.pdfViewer),Wt(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:o})})})}goToPage(t){const e=t-1;Wt(this.pdfViewer),Wt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function rr({children:a,type:t}){return v.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:a})}const Fx={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function hj(a,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return a}}function dr(){return N.useReducer(hj,{value:void 0,error:void 0})}const Ru=typeof window<"u",YA=Ru&&window.location.protocol==="file:";function dj(a){return typeof a<"u"}function Gs(a){return dj(a)&&a!==null}function fj(a){return typeof a=="string"}function mj(a){return a instanceof ArrayBuffer}function pj(a){return Wt(Ru),a instanceof Blob}function pm(a){return fj(a)&&/^data:/.test(a)}function zx(a){Wt(pm(a));const[t="",e=""]=a.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function gj(){return Ru&&window.devicePixelRatio||1}const WA="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Ix(){Ve(!YA,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${WA}`)}function yj(){Ve(!YA,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${WA}`)}function ia(a){a?.cancel&&a.cancel()}function gm(a,t){return Object.defineProperty(a,"width",{get(){return this.getViewport({scale:t}).width},configurable:!0}),Object.defineProperty(a,"height",{get(){return this.getViewport({scale:t}).height},configurable:!0}),Object.defineProperty(a,"originalWidth",{get(){return this.getViewport({scale:1}).width},configurable:!0}),Object.defineProperty(a,"originalHeight",{get(){return this.getViewport({scale:1}).height},configurable:!0}),a}function KA(a){return a.name==="AbortException"||a.name==="RenderingCancelledException"}function vj(a){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(a)})}const{PDFDataRangeTransport:bj}=IP,xj=(a,t)=>{switch(t){case Fx.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");a(e);break}case Fx.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");a(e);break}}};function Ux(a){return typeof a=="object"&&a!==null&&("data"in a||"range"in a||"url"in a)}const wj=N.forwardRef(function({children:t,className:e,error:i="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:o,file:c,inputRef:u,imageResourcesPath:d,loading:f="Loading PDF",noData:m="No PDF file specified.",onItemClick:p,onLoadError:b,onLoadProgress:x,onLoadSuccess:S,onPassword:w=xj,onSourceError:T,onSourceSuccess:E,options:C,renderMode:M,rotate:R,scale:D,...P},j){const[F,H]=dr(),{value:Y,error:J}=F,[at,ft]=dr(),{value:rt,error:vt}=at,B=N.useRef(new uj),V=N.useRef([]),Q=N.useRef(void 0),lt=N.useRef(void 0);c&&c!==Q.current&&Ux(c)&&(Ve(!ar(c,Q.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Q.current=c),C&&C!==lt.current&&(Ve(!ar(C,lt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),lt.current=C);const xt=N.useRef({scrollPageIntoView:Xt=>{const{dest:Pt,pageNumber:Zt,pageIndex:Te=Zt-1}=Xt;if(p){p({dest:Pt,pageIndex:Te,pageNumber:Zt});return}const ge=V.current[Te];if(ge){ge.scrollIntoView();return}Ve(!1,`An internal link leading to page ${Zt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});N.useImperativeHandle(j,()=>({linkService:B,pages:V,viewer:xt}),[]);function L(){E&&E()}function $(){J&&(Ve(!1,J.toString()),T&&T(J))}function Z(){H({type:"RESET"})}N.useEffect(Z,[c,H]);const et=N.useCallback(async()=>{if(!c)return null;if(typeof c=="string")return pm(c)?{data:zx(c)}:(Ix(),{url:c});if(c instanceof bj)return{range:c};if(mj(c))return{data:c};if(Ru&&pj(c))return{data:await vj(c)};if(Wt(typeof c=="object"),Wt(Ux(c)),"url"in c&&typeof c.url=="string"){if(pm(c.url)){const{url:Xt,...Pt}=c;return{data:zx(Xt),...Pt}}Ix()}return c},[c]);N.useEffect(()=>{const Xt=hl(et());return Xt.promise.then(Pt=>{H({type:"RESOLVE",value:Pt})}).catch(Pt=>{H({type:"REJECT",error:Pt})}),()=>{ia(Xt)}},[et,H]),N.useEffect(()=>{if(!(typeof Y>"u")){if(Y===!1){$();return}L()}},[Y]);function dt(){rt&&(S&&S(rt),V.current=new Array(rt.numPages),B.current.setDocument(rt))}function gt(){vt&&(Ve(!1,vt.toString()),b&&b(vt))}N.useEffect(function(){ft({type:"RESET"})},[ft,Y]),N.useEffect(function(){if(!Y)return;const Pt=C?{...Y,...C}:Y,Zt=fp(Pt);x&&(Zt.onProgress=x),w&&(Zt.onPassword=w);const Te=Zt;return Te.promise.then(ge=>{Te.destroyed||ft({type:"RESOLVE",value:ge})}).catch(ge=>{Te.destroyed||ft({type:"REJECT",error:ge})}),()=>{Te.destroy()}},[C,ft,Y]),N.useEffect(()=>{if(!(typeof rt>"u")){if(rt===!1){gt();return}dt()}},[rt]),N.useEffect(function(){B.current.setViewer(xt.current),B.current.setExternalLinkRel(r),B.current.setExternalLinkTarget(o)},[r,o]);const ht=N.useCallback((Xt,Pt)=>{V.current[Xt]=Pt},[]),$t=N.useCallback(Xt=>{delete V.current[Xt]},[]),jt=N.useMemo(()=>({imageResourcesPath:d,linkService:B.current,onItemClick:p,pdf:rt,registerPage:ht,renderMode:M,rotate:R,scale:D,unregisterPage:$t}),[d,p,rt,ht,M,R,D,$t]),Ge=N.useMemo(()=>$A(P,()=>rt),[P,rt]);function zt(){function Xt(Zt){return!!Zt?.pdf}if(!Xt(jt))throw new Error("pdf is undefined");const Pt=typeof t=="function"?t(jt):t;return v.jsx(XA.Provider,{value:jt,children:Pt})}function ln(){return c?rt==null?v.jsx(rr,{type:"loading",children:typeof f=="function"?f():f}):rt===!1?v.jsx(rr,{type:"error",children:typeof i=="function"?i():i}):zt():v.jsx(rr,{type:"no-data",children:typeof m=="function"?m():m})}return v.jsx("div",{className:Nu("react-pdf__Document",e),ref:u,...Ge,children:ln()})});function QA(){return N.useContext(XA)}function ZA(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];var e=a.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(o){for(var c=0,u=e;c<u.length;c++){var d=u[c];typeof d=="function"?d(o):d&&(d.current=o)}}}const JA=N.createContext(null);function Du(){return N.useContext(JA)}function Aj(){const a=QA(),t=Du();Wt(t);const e={...a,...t},{filterAnnotations:i,imageResourcesPath:r,linkService:o,onGetAnnotationsError:c,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:f,page:m,pdf:p,renderForms:b,rotate:x,scale:S=1}=e;Wt(p),Wt(m),Wt(o);const[w,T]=dr(),{value:E,error:C}=w,M=N.useRef(null);Ve(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function R(){E&&u&&u(E)}function D(){C&&(Ve(!1,C.toString()),c&&c(C))}N.useEffect(function(){T({type:"RESET"})},[T,m]),N.useEffect(function(){if(!m)return;const Y=hl(m.getAnnotations()),J=Y;return Y.promise.then(at=>{T({type:"RESOLVE",value:at})}).catch(at=>{T({type:"REJECT",error:at})}),()=>{ia(J)}},[T,m]),N.useEffect(()=>{if(E!==void 0){if(E===!1){D();return}R()}},[E]);function P(){f&&f()}function j(H){Ve(!1,`${H}`),d&&d(H)}const F=N.useMemo(()=>m.getViewport({scale:S,rotation:x}),[m,x,S]);return N.useEffect(function(){if(!p||!m||!o||!E)return;const{current:Y}=M;if(!Y)return;const J=F.clone({dontFlip:!0}),at={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:p.annotationStorage,commentManager:null,div:Y,l10n:null,linkService:o,page:m,structTreeLayer:null,viewport:J},ft={annotations:i?i({annotations:E}):E,annotationStorage:p.annotationStorage,div:Y,imageResourcesPath:r,linkService:o,page:m,renderForms:b,viewport:J};Y.innerHTML="";try{new vp(at).render(ft),P()}catch(rt){j(rt)}return()=>{}},[E,i,r,o,m,p,b,F]),v.jsx("div",{className:Nu("react-pdf__Page__annotations","annotationLayer"),ref:M})}const tS={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Sj=/^H(\d+)$/;function Ej(a){return a in tS}function ku(a){return"children"in a}function eS(a){return ku(a)?a.children.length===1&&0 in a.children&&"id"in a.children[0]:!1}function Tj(a){const t={};if(ku(a)){const{role:e}=a,i=e.match(Sj);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(Ej(e)){const r=tS[e];r&&(t.role=r)}}return t}function nS(a){const t={};if(ku(a)){if(a.alt!==void 0&&(t["aria-label"]=a.alt),a.lang!==void 0&&(t.lang=a.lang),eS(a)){const[e]=a.children;if(e){const i=nS(e);return{...t,...i}}}}else"id"in a&&(t["aria-owns"]=a.id);return t}function Cj(a){return a?{...Tj(a),...nS(a)}:null}function iS({className:a,node:t}){const e=N.useMemo(()=>Cj(t),[t]),i=N.useMemo(()=>!ku(t)||eS(t)?null:t.children.map((r,o)=>v.jsx(iS,{node:r},o)),[t]);return v.jsx("span",{className:a,...e,children:i})}function _j(){const a=Du();Wt(a);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=a,[i,r]=dr(),{value:o,error:c}=i,{customTextRenderer:u,page:d}=a;function f(){o&&e&&e(o)}function m(){c&&(Ve(!1,c.toString()),t&&t(c))}return N.useEffect(function(){r({type:"RESET"})},[r,d]),N.useEffect(function(){if(u||!d)return;const b=hl(d.getStructTree()),x=b;return b.promise.then(S=>{r({type:"RESOLVE",value:S})}).catch(S=>{r({type:"REJECT",error:S})}),()=>ia(x)},[u,d,r]),N.useEffect(()=>{if(o!==void 0){if(o===!1){m();return}f()}},[o]),o?v.jsx(iS,{className:"react-pdf__Page__structTree structTree",node:o}):null}const Vx=ci;function Mj(a){const t=Du();Wt(t);const e={...t,...a},{_className:i,canvasBackground:r,devicePixelRatio:o=gj(),onRenderError:c,onRenderSuccess:u,page:d,renderForms:f,renderTextLayer:m,rotate:p,scale:b}=e,{canvasRef:x}=a;Wt(d);const S=N.useRef(null);function w(){d&&u&&u(gm(d,b))}function T(R){KA(R)||(Ve(!1,R.toString()),c&&c(R))}const E=N.useMemo(()=>d.getViewport({scale:b*o,rotation:p}),[o,d,p,b]),C=N.useMemo(()=>d.getViewport({scale:b,rotation:p}),[d,p,b]);N.useEffect(function(){if(!d)return;d.cleanup();const{current:D}=S;if(!D)return;D.width=E.width,D.height=E.height,D.style.width=`${Math.floor(C.width)}px`,D.style.height=`${Math.floor(C.height)}px`,D.style.visibility="hidden";const P={annotationMode:f?Vx.ENABLE_FORMS:Vx.ENABLE,canvas:D,canvasContext:D.getContext("2d",{alpha:!1}),viewport:E};r&&(P.background=r);const j=d.render(P),F=j;return j.promise.then(()=>{D.style.visibility="",w()}).catch(T),()=>ia(F)},[r,d,f,E,C]);const M=N.useCallback(()=>{const{current:R}=S;R&&(R.width=0,R.height=0)},[]);return N.useEffect(()=>M,[M]),v.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:ZA(x,S),style:{display:"block",userSelect:"none"},children:m?v.jsx(_j,{}):null})}function Nj(a){return"str"in a}function Rj(){const a=Du();Wt(a);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:c,pageIndex:u,pageNumber:d,rotate:f,scale:m}=a;Wt(c);const[p,b]=dr(),{value:x,error:S}=p,w=N.useRef(null);Ve(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function T(){x&&i&&i(x)}function E(){S&&(Ve(!1,S.toString()),e&&e(S))}N.useEffect(function(){b({type:"RESET"})},[c,b]),N.useEffect(function(){if(!c)return;const F=hl(c.getTextContent()),H=F;return F.promise.then(Y=>{b({type:"RESOLVE",value:Y})}).catch(Y=>{b({type:"REJECT",error:Y})}),()=>ia(H)},[c,b]),N.useEffect(()=>{if(x!==void 0){if(x===!1){E();return}T()}},[x]);const C=N.useCallback(()=>{o&&o()},[o]),M=N.useCallback(j=>{KA(j)||(Ve(!1,j.toString()),r&&r(j))},[r]);function R(){const j=w.current;j&&j.classList.add("selecting")}function D(){const j=w.current;j&&j.classList.remove("selecting")}const P=N.useMemo(()=>c.getViewport({scale:m,rotation:f}),[c,f,m]);return N.useLayoutEffect(function(){if(!c||!x)return;const{current:F}=w;if(!F)return;F.innerHTML="";const H=c.streamTextContent({includeMarkedContent:!0}),Y={container:F,textContentSource:H,viewport:P},J=new $o(Y),at=J;return J.render().then(()=>{const ft=document.createElement("div");ft.className="endOfContent",F.append(ft);const rt=F.querySelectorAll('[role="presentation"]');if(t){let vt=0;x.items.forEach((B,V)=>{if(!Nj(B))return;const Q=rt[vt];if(!Q)return;const lt=t({pageIndex:u,pageNumber:d,itemIndex:V,...B});Q.innerHTML=lt,vt+=B.str&&B.hasEOL?2:1})}C()}).catch(M),()=>ia(at)},[t,M,C,c,u,d,x,P]),v.jsx("div",{className:Nu("react-pdf__Page__textContent","textLayer"),onMouseUp:D,onMouseDown:R,ref:w})}const Hx=1;function Dj(a){const e={...QA(),...a},{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:c,children:u,className:d,customRenderer:f,customTextRenderer:m,devicePixelRatio:p,error:b="Failed to load the page.",filterAnnotations:x,height:S,inputRef:w,loading:T="Loading page",noData:E="No page specified.",onGetAnnotationsError:C,onGetAnnotationsSuccess:M,onGetStructTreeError:R,onGetStructTreeSuccess:D,onGetTextError:P,onGetTextSuccess:j,onLoadError:F,onLoadSuccess:H,onRenderAnnotationLayerError:Y,onRenderAnnotationLayerSuccess:J,onRenderError:at,onRenderSuccess:ft,onRenderTextLayerError:rt,onRenderTextLayerSuccess:vt,pageIndex:B,pageNumber:V,pdf:Q,registerPage:lt,renderAnnotationLayer:xt=!0,renderForms:L=!1,renderMode:$="canvas",renderTextLayer:Z=!0,rotate:et,scale:dt=Hx,unregisterPage:gt,width:ht,...$t}=e,[jt,Ge]=dr(),{value:zt,error:ln}=jt,Xt=N.useRef(null);Wt(Q);const Pt=Gs(V)?V-1:B??null,Zt=V??(Gs(B)?B+1:null),Te=et??(zt?zt.rotate:null),ge=N.useMemo(()=>{if(!zt)return null;let cn=1;const Vi=dt??Hx;if(ht||S){const Hn=zt.getViewport({scale:1,rotation:Te});ht?cn=ht/Hn.width:S&&(cn=S/Hn.height)}return Vi*cn},[S,zt,Te,dt,ht]);N.useEffect(function(){return()=>{Gs(Pt)&&r&&gt&&gt(Pt)}},[r,Q,Pt,gt]);function fl(){if(H){if(!zt||!ge)return;H(gm(zt,ge))}if(r&&lt){if(!Gs(Pt)||!Xt.current)return;lt(Pt,Xt.current)}}function xr(){ln&&(Ve(!1,ln.toString()),F&&F(ln))}N.useEffect(function(){Ge({type:"RESET"})},[Ge,Q,Pt]),N.useEffect(function(){if(!Q||!Zt)return;const Vi=hl(Q.getPage(Zt)),Hn=Vi;return Vi.promise.then(Ar=>{Ge({type:"RESOLVE",value:Ar})}).catch(Ar=>{Ge({type:"REJECT",error:Ar})}),()=>ia(Hn)},[Ge,Q,Zt]),N.useEffect(()=>{if(zt!==void 0){if(zt===!1){xr();return}fl()}},[zt,ge]);const Es=N.useMemo(()=>Gs(Pt)&&Zt&&Gs(Te)&&Gs(ge)?{_className:i,canvasBackground:o,customTextRenderer:m,devicePixelRatio:p,filterAnnotations:x,onGetAnnotationsError:C,onGetAnnotationsSuccess:M,onGetStructTreeError:R,onGetStructTreeSuccess:D,onGetTextError:P,onGetTextSuccess:j,onRenderAnnotationLayerError:Y,onRenderAnnotationLayerSuccess:J,onRenderError:at,onRenderSuccess:ft,onRenderTextLayerError:rt,onRenderTextLayerSuccess:vt,page:zt,pageIndex:Pt,pageNumber:Zt,renderForms:L,renderTextLayer:Z,rotate:Te,scale:ge}:null,[i,o,m,p,x,C,M,R,D,P,j,Y,J,at,ft,rt,vt,zt,Pt,Zt,L,Z,Te,ge]),wr=N.useMemo(()=>$A($t,()=>zt&&(ge?gm(zt,ge):void 0)),[$t,zt,ge]),oa=`${Pt}@${ge}/${Te}`;function Lu(){switch($){case"custom":return Wt(f),v.jsx(f,{},`${oa}_custom`);case"none":return null;default:return v.jsx(Mj,{canvasRef:c},`${oa}_canvas`)}}function qe(){return Z?v.jsx(Rj,{},`${oa}_text`):null}function Pu(){return xt?v.jsx(Aj,{},`${oa}_annotations`):null}function ml(){function cn(Hn){return!!Hn?.page}if(!cn(Es))throw new Error("page is undefined");const Vi=typeof u=="function"?u(Es):u;return v.jsxs(JA.Provider,{value:Es,children:[Lu(),qe(),Pu(),Vi]})}function pl(){return Zt?Q===null||zt===void 0||zt===null?v.jsx(rr,{type:"loading",children:typeof T=="function"?T():T}):Q===!1||zt===!1?v.jsx(rr,{type:"error",children:typeof b=="function"?b():b}):ml():v.jsx(rr,{type:"no-data",children:typeof E=="function"?E():E})}return v.jsx("div",{className:Nu(i,d),"data-page-number":Zt,ref:ZA(w,Xt),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${ge}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...wr,children:pl()})}yj();ys.workerSrc="pdf.worker.mjs";ys.workerSrc="/pdfjs/pdf.worker.mjs";function dl({article:a,onClose:t}){console.log("PDF URL:",a.pdfUrl);const[e,i]=N.useState(0),[r,o]=N.useState(1),[c,u]=N.useState(1.2),[d,f]=N.useState(!0);N.useEffect(()=>{const w=E=>(E.preventDefault(),!1),T=E=>{if((E.ctrlKey||E.metaKey)&&["p","s","c"].includes(E.key.toLowerCase()))return E.preventDefault(),E.stopPropagation(),alert("This action is restricted for this document."),!1};return document.addEventListener("contextmenu",w,!0),document.addEventListener("keydown",T,!0),document.addEventListener("dragstart",w,!0),document.addEventListener("selectstart",w,!0),document.addEventListener("copy",w,!0),document.addEventListener("cut",w,!0),()=>{document.removeEventListener("contextmenu",w,!0),document.removeEventListener("keydown",T,!0),document.removeEventListener("dragstart",w,!0),document.removeEventListener("selectstart",w,!0),document.removeEventListener("copy",w,!0),document.removeEventListener("cut",w,!0)}},[]);const m=N.useCallback(({numPages:w})=>{i(w),f(!1)},[]),p=()=>u(w=>Math.min(w+.2,3)),b=()=>u(w=>Math.max(w-.2,.5)),x=()=>o(w=>Math.min(w+1,e)),S=()=>o(w=>Math.max(w-1,1));return v.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 flex flex-col",onContextMenu:w=>w.preventDefault(),children:[v.jsx("div",{className:"absolute inset-0 pointer-events-none z-10 opacity-5",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='500' height='500'%3E%3Ctext x='50%25' y='50%25' font-size='40' fill='white' text-anchor='middle' transform='rotate(-45 250 250)'%3EConfidential - Aman Sah%3C/text%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}}),v.jsxs("div",{className:"h-16 glass-card border-b border-border/50 flex items-center justify-between px-4 relative z-20 shrink-0",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:t,className:"w-10 h-10 rounded-lg neu-button flex items-center justify-center hover:scale-105 transition-transform",children:v.jsx(Au,{className:"w-5 h-5"})}),v.jsxs("div",{className:"hidden sm:block",children:[v.jsx("h3",{className:"font-semibold text-sm truncate max-w-[300px]",children:a.title}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:["By ",a.author,"  ",a.date]})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("div",{className:"hidden sm:flex items-center gap-1 glass-card p-1",children:[v.jsx("button",{onClick:b,className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center",children:v.jsx(Pk,{className:"w-4 h-4"})}),v.jsxs("span",{className:"text-sm w-16 text-center",children:[Math.round(c*100),"%"]}),v.jsx("button",{onClick:p,className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center",children:v.jsx(kk,{className:"w-4 h-4"})})]}),v.jsxs("div",{className:"flex items-center gap-1 glass-card p-1",children:[v.jsx("button",{onClick:S,disabled:r<=1,className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center disabled:opacity-50",children:v.jsx(pD,{className:"w-4 h-4"})}),v.jsxs("span",{className:"text-sm px-2 min-w-[60px] text-center",children:[r," / ",e]}),v.jsx("button",{onClick:x,disabled:r>=e,className:"w-8 h-8 rounded-lg hover:bg-white/10 flex items-center justify-center disabled:opacity-50",children:v.jsx(yr,{className:"w-4 h-4"})})]}),v.jsxs("span",{className:"hidden md:flex items-center gap-1 text-xs text-red-400 bg-red-500/10 px-2 py-1 rounded",children:[v.jsx(im,{className:"w-3 h-3"}),"Protected"]})]})]}),v.jsxs("div",{className:"flex-1 overflow-auto bg-[#1a1a1a] relative z-20 flex items-start justify-center p-4",style:{userSelect:"none"},children:[d&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:v.jsxs("div",{className:"glass-card p-6 rounded-xl",children:[v.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-2"}),v.jsx("p",{children:"Loading document..."})]})}),v.jsx(wj,{file:a.pdfUrl,onLoadSuccess:m,loading:null,error:v.jsxs("div",{className:"text-white text-center p-8 glass-card rounded-xl",children:[v.jsx("p",{className:"text-red-400 mb-2",children:"Failed to load PDF"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Please try again later"})]}),children:v.jsx(Dj,{pageNumber:r,scale:c,renderTextLayer:!1,renderAnnotationLayer:!1,className:"shadow-2xl",loading:v.jsx("div",{className:"w-[600px] h-[800px] glass-card flex items-center justify-center",children:v.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"})})})})]}),v.jsxs("div",{className:"h-12 glass-card border-t border-border/50 flex items-center justify-center gap-4 text-xs text-muted-foreground relative z-20 shrink-0",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(im,{className:"w-3 h-3 text-red-400"}),"View Only Mode"]}),v.jsx("span",{children:""}),v.jsx("span",{children:"Downloading, printing, and copying are disabled"}),v.jsx("span",{children:""}),v.jsxs("span",{children:[" 2024 ",a.author]})]})]})}const ki="/assets/game-H_RFMszN.pdf",kj=[{id:1,title:"Published New Paper on Quantum Entanglement",date:"2024-01-20",excerpt:"Our latest research on quantum entanglement has been published in Nature Physics.",content:"We are excited to announce that our latest research paper on quantum entanglement has been published in Nature Physics. This work represents years of collaboration with international research teams and opens new possibilities for quantum communication technologies.",tags:["Publication","Quantum Physics"],author:"Aman Shah",attachments:[{name:"Research_Paper.pdf",size:"2.4 MB",pdfUrl:ki},{name:"Supplementary_Data.pdf",size:"15.8 MB",pdfUrl:ki}]},{id:2,title:"CERN Experiment Results Announced",date:"2024-01-15",excerpt:"New particle detection results from the LHC experiments show promising findings.",content:"The latest results from our CERN collaboration have revealed interesting patterns in particle collision data. These findings could potentially lead to new discoveries in the field of particle physics.",tags:["CERN","Research"],author:"Aman Shah",attachments:[{name:"Experiment_Results.pdf",size:"5.2 MB",pdfUrl:ki}]},{id:3,title:"Speaking at International Physics Conference",date:"2024-01-10",excerpt:"I will be presenting our latest findings at the International Physics Conference.",content:"I am honored to be invited as a keynote speaker at the International Physics Conference in Geneva. I will be presenting our recent work on dark matter detection methods and their implications for future experiments.",tags:["Conference","Speaking"],author:"Aman Shah",attachments:[{name:"Presentation_Slides.pdf",size:"12.5 MB",pdfUrl:ki},{name:"Conference_Program.pdf",size:"1.8 MB",pdfUrl:ki}]},{id:4,title:"New Grant Awarded for Quantum Computing Research",date:"2024-01-05",excerpt:"We have received a major grant to continue our quantum computing research.",content:"We are thrilled to announce that our research group has been awarded a $2.5 million grant from the National Science Foundation to continue our work on quantum computing applications in physics simulations.",tags:["Funding","Quantum Computing"],author:"Aman Shah",attachments:[{name:"Grant_Proposal.pdf",size:"3.1 MB",pdfUrl:ki}]},{id:5,title:"Open Source Physics Simulator Released",date:"2023-12-28",excerpt:"Our new open-source physics simulation tool is now available on GitHub.",content:"After months of development, we are excited to release our open-source physics simulation tool. This project aims to make physics simulations accessible to students and researchers worldwide.",tags:["Open Source","Software"],author:"Aman Shah",attachments:[{name:"User_Manual.pdf",size:"4.5 MB",pdfUrl:ki},{name:"Release_Notes.pdf",size:"12 KB",pdfUrl:ki}]},{id:6,title:"Collaboration with European Research Institute",date:"2023-12-20",excerpt:"New international collaboration announced for dark matter research.",content:"We are pleased to announce a new collaboration with the European Research Institute for Dark Matter Studies. This partnership will combine our expertise in detection methods with their advanced simulation capabilities.",tags:["Collaboration","Dark Matter"],author:"Aman Shah",attachments:[{name:"MOU.pdf",size:"1.2 MB",pdfUrl:ki}]}];function Lj(){const[a,t]=N.useState(""),[e,i]=N.useState(null),[r,o]=N.useState(null),c=kj.filter(d=>d.title.toLowerCase().includes(a.toLowerCase())||d.excerpt.toLowerCase().includes(a.toLowerCase())||d.tags.some(f=>f.toLowerCase().includes(a.toLowerCase()))),u=(d,f)=>{o({...d,author:f.author,date:f.date})};return v.jsxs("div",{className:"min-h-screen",children:[v.jsx(In,{}),v.jsx("section",{className:"relative pt-32 pb-20",children:v.jsxs("div",{className:"section-container",children:[v.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[v.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:["Latest ",v.jsx("span",{className:"gradient-text",children:"News"})]}),v.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Stay updated with the latest announcements, publications, and project updates."})]}),v.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-xl mx-auto mb-12",children:v.jsxs("div",{className:"relative",children:[v.jsx(xs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),v.jsx("input",{type:"text",placeholder:"Search news...",value:a,onChange:d=>t(d.target.value),className:"w-full pl-12 pr-4 py-4 glass-input"})]})}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute left-4 md:left-1/2 top-0 bottom-0 w-0.5 timeline-line transform md:-translate-x-1/2"}),v.jsx("div",{className:"space-y-8",children:c.map((d,f)=>v.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*f},className:`relative flex flex-col md:flex-row ${f%2===0?"md:flex-row":"md:flex-row-reverse"} items-start md:items-center gap-4 md:gap-8`,children:[v.jsx("div",{className:"absolute left-4 md:left-1/2 w-4 h-4 rounded-full bg-primary border-4 border-background transform -translate-x-1/2 z-10"}),v.jsx("div",{className:`hidden md:block w-1/2 ${f%2===0?"text-right pr-8":"text-left pl-8"}`,children:v.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[v.jsx(hi,{className:"w-4 h-4 text-primary"}),v.jsx("span",{className:"text-sm font-medium",children:d.date})]})}),v.jsx("div",{className:"ml-12 md:ml-0 w-full md:w-1/2",children:v.jsxs("div",{onClick:()=>i(d),className:"glass-card p-6 cursor-pointer group hover:scale-[1.02] transition-transform",children:[v.jsxs("div",{className:"flex items-center gap-2 md:hidden mb-3",children:[v.jsx(hi,{className:"w-4 h-4 text-primary"}),v.jsx("span",{className:"text-sm font-medium",children:d.date})]}),v.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:d.tags.map(m=>v.jsxs("span",{className:"tag-glass text-xs",children:[v.jsx(cr,{className:"w-3 h-3 inline mr-1"}),m]},m))}),v.jsx("h3",{className:"text-lg font-semibold mb-2 group-hover:text-primary transition-colors",children:d.title}),v.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:d.excerpt}),d.attachments.length>0&&v.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary",children:[v.jsx(Bi,{className:"w-4 h-4"}),d.attachments.length," attachment",d.attachments.length>1?"s":""]}),v.jsxs("div",{className:"flex items-center gap-2 mt-4 text-sm text-muted-foreground",children:[v.jsx("span",{children:"Read more"}),v.jsx(yr,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})})]},d.id))})]}),c.length===0&&v.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[v.jsx("div",{className:"w-20 h-20 rounded-full glass-card flex items-center justify-center mx-auto mb-6",children:v.jsx(sm,{className:"w-10 h-10 text-muted-foreground"})}),v.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No news found"}),v.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search query."})]})]})}),v.jsx(ta,{children:e&&v.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:()=>i(null),children:v.jsxs(tt.div,{initial:{opacity:0,scale:.9,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:50},transition:{duration:.3},className:"glass-card max-w-2xl w-full max-h-[90vh] overflow-hidden",onClick:d=>d.stopPropagation(),children:[v.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border/50",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(sm,{className:"w-5 h-5 text-primary"}),v.jsx("span",{className:"font-medium",children:"News Detail"})]}),v.jsx("button",{onClick:()=>i(null),className:"w-8 h-8 rounded-lg neu-button flex items-center justify-center hover:text-red-500 transition-colors",children:v.jsx(Au,{className:"w-4 h-4"})})]}),v.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)] p-6",children:[v.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags.map(d=>v.jsxs("span",{className:"tag-glass",children:[v.jsx(cr,{className:"w-3 h-3 inline mr-1"}),d]},d))}),v.jsx("h2",{className:"text-2xl font-bold mb-4",children:e.title}),v.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-6",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(hi,{className:"w-4 h-4"}),e.date]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(wD,{className:"w-4 h-4"}),"3 min read"]})]}),v.jsx("div",{className:"prose max-w-none mb-8",children:v.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e.content})}),e.attachments.length>0&&v.jsxs("div",{className:"glass-card p-4",children:[v.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[v.jsx(Bi,{className:"w-4 h-4 text-primary"}),"Attachments"]}),v.jsx("div",{className:"space-y-2",children:e.attachments.map((d,f)=>v.jsxs("div",{className:"flex items-center justify-between p-3 glass-card hover:bg-white/5 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(Bi,{className:"w-5 h-5 text-primary"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-sm",children:d.name}),v.jsx("p",{className:"text-xs text-muted-foreground",children:d.size})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:()=>u(d,e),className:"w-8 h-8 rounded-lg glass-button flex items-center justify-center hover:bg-primary/20 transition-colors",title:"View PDF",children:v.jsx(nl,{className:"w-4 h-4"})}),v.jsx("button",{className:"w-8 h-8 rounded-lg glass-button flex items-center justify-center opacity-50 cursor-not-allowed",title:"Download disabled",disabled:!0,children:v.jsx(im,{className:"w-4 h-4"})})]})]},f))})]})]})]})})}),r&&v.jsx(dl,{article:{id:0,title:r.name,author:r.author,date:r.date,pdfUrl:r.pdfUrl},onClose:()=>o(null)}),v.jsx(Un,{})]})}const Eo=[{id:1,name:"Quantum_Mechanics_Handbook.pdf",type:"pdf",size:"15.2 MB",date:"2024-01-15",description:"Comprehensive handbook covering quantum mechanics fundamentals and applications.",downloads:1250,category:"Educational",path:"/downloads/sample journal.pdf"},{id:2,name:"Physics_Simulation_Toolkit.zip",type:"zip",size:"45.8 MB",date:"2024-01-10",description:"Python-based physics simulation toolkit with examples and documentation.",downloads:890,category:"Software",path:"/downloads/Physics_Simulation_Toolkit.zip"},{id:3,name:"Particle_Data_Analysis_Scripts.zip",type:"zip",size:"12.5 MB",date:"2024-01-05",description:"Collection of scripts for analyzing particle physics experimental data.",downloads:650,category:"Software",path:"/downloads/Particle_Data_Analysis_Scripts.zip"},{id:4,name:"Research_Paper_Template.docx",type:"doc",size:"2.1 MB",date:"2023-12-28",description:"Professional template for writing physics research papers.",downloads:2100,category:"Templates",path:"/downloads/Research_Paper_Template.docx"},{id:5,name:"CERN_Visit_Photos.zip",type:"zip",size:"128.6 MB",date:"2023-12-20",description:"High-resolution photos from the CERN facility visit.",downloads:450,category:"Media",path:"/downloads/CERN_Visit_Photos.zip"},{id:6,name:"Dark_Matter_Presentation.pptx",type:"ppt",size:"18.3 MB",date:"2023-12-15",description:"Presentation slides on dark matter detection methods and research.",downloads:780,category:"Presentations",path:"/downloads/Dark_Matter_Presentation.pptx"},{id:7,name:"Nuclear_Physics_Calculator.exe",type:"exe",size:"8.7 MB",date:"2023-12-10",description:"Windows application for nuclear physics calculations.",downloads:920,category:"Software",path:"/downloads/Nuclear_Physics_Calculator.exe"},{id:8,name:"Quantum_Field_Theory_Notes.pdf",type:"pdf",size:"22.4 MB",date:"2023-12-05",description:"Detailed lecture notes on quantum field theory.",downloads:1500,category:"Educational",path:"/downloads/Quantum_Field_Theory_Notes.pdf"},{id:9,name:"Lab_Report_Template.docx",type:"doc",size:"1.5 MB",date:"2023-11-28",description:"Standardized template for physics laboratory reports.",downloads:1800,category:"Templates",path:"/downloads/Lab_Report_Template.docx"},{id:10,name:"Gravitational_Wave_Dataset.csv",type:"csv",size:"156.2 MB",date:"2023-11-20",description:"Sample dataset from LIGO gravitational wave detection.",downloads:320,category:"Data",path:"/downloads/Gravitational_Wave_Dataset.csv"}],Gx=["All","Software","Educational","Templates","Media","Presentations","Data"],Pj=a=>{switch(a){case"pdf":return Bi;case"zip":return kD;case"doc":return Bi;case"ppt":return Bi;case"exe":return ex;case"csv":return ex;default:return Zw}},jj=a=>{switch(a){case"pdf":return"text-red-400";case"zip":return"text-yellow-400";case"doc":return"text-blue-400";case"ppt":return"text-orange-400";case"exe":return"text-green-400";case"csv":return"text-cyan-400";default:return"text-gray-400"}};function Oj(){const[a,t]=N.useState(""),[e,i]=N.useState("All"),[r,o]=N.useState(null),[c,u]=N.useState([]),[d,f]=N.useState([]),[m,p]=N.useState(new Set);N.useEffect(()=>{(async()=>{const T=[],E=new Set;for(const C of Eo)try{(await fetch(C.path,{method:"HEAD"})).ok?console.log(` Found: ${C.name}`):(T.push(C.id),console.warn(` Missing: ${C.name} at ${C.path}`)),E.add(C.id)}catch{console.log(` Could not verify: ${C.name}`),E.add(C.id)}f(T),p(E)})()},[]);const b=Eo.filter(w=>{const T=w.name.toLowerCase().includes(a.toLowerCase())||w.description.toLowerCase().includes(a.toLowerCase()),E=e==="All"||w.category===e;return T&&E}),x=async w=>{if(d.includes(w.id)){alert(`File "${w.name}" is not available on the server.`);return}o(w.id);try{const T=document.createElement("a");T.href=w.path,T.download=w.name,T.target="_blank",document.body.appendChild(T),T.click(),document.body.removeChild(T),await new Promise(E=>setTimeout(E,800)),u(E=>[...E,w.id])}catch(T){console.error("Download failed:",T),alert(`Failed to download ${w.name}. Please try again.`)}finally{o(null)}},S=Eo.reduce((w,T)=>{const E=parseFloat(T.size),C=T.size.includes("GB")?1024:1;return w+E*C},0);return v.jsxs("div",{className:"min-h-screen",children:[v.jsx(In,{}),v.jsx("section",{className:"relative pt-32 pb-20",children:v.jsxs("div",{className:"section-container",children:[v.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[v.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:v.jsx("span",{className:"gradient-text",children:"Downloads"})}),v.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Access resources, software, templates, and educational materials for your learning journey."})]}),d.length>0&&v.jsx(tt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 glass-card p-4 border-l-4 border-yellow-500 bg-yellow-500/10",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(Jb,{className:"w-5 h-5 text-yellow-500"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"font-medium text-yellow-400",children:"Missing Files Detected"}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.length," file(s) not found in ",v.jsx("code",{children:"public/downloads/"}),". Please ensure files are placed in the correct folder."]})]})]})}),v.jsxs(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-10",children:[v.jsxs("div",{className:"glass-card p-4 text-center",children:[v.jsx("div",{className:"text-2xl font-bold gradient-text",children:Eo.length}),v.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Files"})]}),v.jsxs("div",{className:"glass-card p-4 text-center",children:[v.jsxs("div",{className:"text-2xl font-bold gradient-text",children:[S.toFixed(1)," MB"]}),v.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Size"})]}),v.jsxs("div",{className:"glass-card p-4 text-center",children:[v.jsx("div",{className:"text-2xl font-bold gradient-text",children:Eo.reduce((w,T)=>w+T.downloads,0).toLocaleString()}),v.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Downloads"})]}),v.jsxs("div",{className:"glass-card p-4 text-center",children:[v.jsx("div",{className:"text-2xl font-bold gradient-text",children:Gx.length-1}),v.jsx("div",{className:"text-sm text-muted-foreground",children:"Categories"})]})]}),v.jsxs(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"flex flex-col md:flex-row gap-4 mb-8",children:[v.jsxs("div",{className:"relative flex-1",children:[v.jsx(xs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),v.jsx("input",{type:"text",placeholder:"Search files...",value:a,onChange:w=>t(w.target.value),className:"w-full pl-12 pr-4 py-4 glass-input"})]}),v.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 md:pb-0",children:[v.jsx(UD,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"}),Gx.map(w=>v.jsx("button",{onClick:()=>i(w),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all duration-300 ${e===w?"glass-button":"glass-card hover:bg-white/5"}`,children:w},w))]})]}),v.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"glass-card overflow-hidden",children:[v.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-4 p-4 border-b border-border/50 bg-white/5 font-medium text-sm",children:[v.jsx("div",{className:"col-span-5",children:"File Name"}),v.jsx("div",{className:"col-span-2",children:"Category"}),v.jsx("div",{className:"col-span-2",children:"Size"}),v.jsx("div",{className:"col-span-2",children:"Date"}),v.jsx("div",{className:"col-span-1",children:"Action"})]}),v.jsx("div",{className:"divide-y divide-border/50",children:b.map((w,T)=>{const E=Pj(w.type),C=r===w.id,M=c.includes(w.id),R=d.includes(w.id),D=m.has(w.id);return v.jsxs(tt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:T*.05},className:`grid grid-cols-1 md:grid-cols-12 gap-4 p-4 items-center transition-colors ${R?"opacity-50 bg-red-500/5":"hover:bg-white/5"}`,children:[v.jsxs("div",{className:"col-span-1 md:col-span-5 flex items-center gap-3",children:[v.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${R?"bg-red-500/20":"glass-button"}`,children:v.jsx(E,{className:`w-5 h-5 ${R?"text-red-400":jj(w.type)}`})}),v.jsxs("div",{className:"min-w-0",children:[v.jsxs("p",{className:"font-medium truncate flex items-center gap-2",children:[w.name,R&&v.jsx("span",{className:"text-xs text-red-400 bg-red-500/20 px-2 py-0.5 rounded",children:"Missing"}),!D&&!R&&v.jsx("span",{className:"text-xs text-yellow-400 bg-yellow-500/20 px-2 py-0.5 rounded",children:"Checking..."})]}),v.jsx("p",{className:"text-sm text-muted-foreground truncate md:hidden",children:w.description}),v.jsx("p",{className:"text-xs text-muted-foreground hidden md:block",children:w.description})]})]}),v.jsx("div",{className:"col-span-1 md:col-span-2",children:v.jsx("span",{className:"tag-glass text-xs",children:w.category})}),v.jsxs("div",{className:"col-span-1 md:col-span-2 flex items-center gap-2 text-sm text-muted-foreground",children:[v.jsx(ix,{className:"w-4 h-4 md:hidden"}),v.jsx("span",{children:w.size})]}),v.jsxs("div",{className:"col-span-1 md:col-span-2 flex items-center gap-2 text-sm text-muted-foreground",children:[v.jsx(hi,{className:"w-4 h-4 md:hidden"}),v.jsx("span",{children:w.date})]}),v.jsx("div",{className:"col-span-1",children:v.jsx("button",{onClick:()=>x(w),disabled:C||M||R,className:`w-full md:w-auto px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 flex items-center justify-center gap-2 ${M?"bg-green-500/20 text-green-400 cursor-default":R?"bg-red-500/20 text-red-400 cursor-not-allowed":C?"glass-card cursor-wait":"glass-button hover:scale-105"}`,children:M?v.jsxs(v.Fragment,{children:[v.jsx(bD,{className:"w-4 h-4"}),v.jsx("span",{className:"hidden sm:inline",children:"Done"})]}):R?v.jsxs(v.Fragment,{children:[v.jsx(Jb,{className:"w-4 h-4"}),v.jsx("span",{className:"hidden sm:inline",children:"Missing"})]}):C?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),v.jsx("span",{className:"hidden sm:inline",children:"..."})]}):v.jsxs(v.Fragment,{children:[v.jsx(Kw,{className:"w-4 h-4"}),v.jsx("span",{className:"hidden sm:inline",children:"Download"})]})})})]},w.id)})})]}),b.length===0&&v.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[v.jsx("div",{className:"w-20 h-20 rounded-full glass-card flex items-center justify-center mx-auto mb-6",children:v.jsx(Zw,{className:"w-10 h-10 text-muted-foreground"})}),v.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No files found"}),v.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search or filter."})]}),v.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-8 glass-card p-6",children:[v.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[v.jsx(ix,{className:"w-5 h-5 text-primary"}),"Download Information"]}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["All files are served from ",v.jsx("code",{className:"bg-white/10 px-1 rounded",children:"public/downloads/"})," and downloaded to your default downloads folder. Files in the public folder are not processed by the build system, making this ideal for large files."]})]})]})}),v.jsx(Un,{})]})}const Df="/assets/game-H_RFMszN.pdf",Bj="/assets/Hilly%20region%20Report-Divs8Wzt.pdf",Fj="/assets/sample-journal-C2GMxz_P.pdf",zj=[{id:1,title:"Quantum Entanglement in Modern Physics",author:"Aman Shah",date:"2021-01-15",tags:["Quantum Physics","Research"],views:1250,pdfUrl:Df,description:"An in-depth exploration of quantum entanglement and its applications in quantum computing."},{id:2,title:"Dark Matter Detection Methods",author:"Aman Shah",date:"2024-01-10",tags:["Astrophysics","Dark Matter"],views:980,pdfUrl:Bj,description:"A comprehensive review of current techniques used to detect dark matter particles."},{id:3,title:"Machine Learning in Particle Physics",author:"Aman Shah",date:"2024-01-05",tags:["AI","Particle Physics"],views:1500,pdfUrl:Fj,description:"How machine learning algorithms are revolutionizing data analysis at CERN."},{id:4,title:"The Future of Nuclear Fusion",author:"Aman Shah",date:"2023-12-28",tags:["Nuclear Physics","Energy"],views:2100,pdfUrl:Df,description:"Examining recent breakthroughs in nuclear fusion research and their implications."},{id:5,title:"Gravitational Waves: A New Window",author:"Aman Shah",date:"2023-12-20",tags:["Astrophysics","Gravitational Waves"],views:1800,pdfUrl:Df,description:"Understanding how gravitational wave detection has opened new frontiers in astronomy."}];function Ij(){const[a,t]=N.useState(""),[e,i]=N.useState(null),[r,o]=N.useState(100),[c,u]=N.useState(1);N.useRef(null);const d=zj.filter(f=>f.title.toLowerCase().includes(a.toLowerCase())||f.tags.some(m=>m.toLowerCase().includes(a.toLowerCase())));return v.jsxs("div",{className:"min-h-screen",children:[v.jsx(In,{}),v.jsx("section",{className:"relative pt-32 pb-20",children:v.jsxs("div",{className:"section-container",children:[v.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[v.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:v.jsx("span",{className:"gradient-text",children:"Articles"})}),v.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Browse through my collection of research articles and scientific publications."})]}),v.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-xl mx-auto mb-10",children:v.jsxs("div",{className:"relative",children:[v.jsx(xs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),v.jsx("input",{type:"text",placeholder:"Search articles...",value:a,onChange:f=>t(f.target.value),className:"w-full pl-12 pr-4 py-4 glass-input"})]})}),v.jsx("div",{className:"grid grid-cols-1 gap-6",children:d.map((f,m)=>v.jsx(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*m},onClick:()=>i(f),className:"glass-card p-6 cursor-pointer group hover:scale-[1.01] transition-transform",children:v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[v.jsx("div",{className:"w-14 h-14 rounded-xl glass-button flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:v.jsx(Bi,{className:"w-7 h-7 text-primary"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-primary transition-colors",children:f.title}),v.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:f.description}),v.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[v.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[v.jsx(hi,{className:"w-4 h-4"}),f.date]}),v.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[v.jsx(nl,{className:"w-4 h-4"}),f.views," views"]}),v.jsx("div",{className:"flex gap-2",children:f.tags.map(p=>v.jsxs("span",{className:"tag-glass text-xs",children:[v.jsx(cr,{className:"w-3 h-3 inline mr-1"}),p]},p))})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-sm text-muted-foreground",children:"Click to view"}),v.jsx(yr,{className:"w-5 h-5 text-primary"})]})]})},f.id))}),d.length===0&&v.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[v.jsx("div",{className:"w-20 h-20 rounded-full glass-card flex items-center justify-center mx-auto mb-6",children:v.jsx(Bi,{className:"w-10 h-10 text-muted-foreground"})}),v.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No articles found"}),v.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search query."})]})]})}),e&&v.jsx(dl,{article:e,onClose:()=>i(null)}),v.jsx(Un,{})]})}const Uj="/assets/Hilly%20region%20Report-Divs8Wzt.pdf",Vj=[{id:1,title:"Hilly Region Research Report 2026",author:"Aman Shah",date:"2023-12-31",tags:["Annual","Research"],views:3200,pdfUrl:Uj,description:"Comprehensive overview of research activities and findings throughout 2026.",type:"Annual Report"},{id:2,title:"CERN Experiment Analysis Report",author:"Aman Shah",date:"2023-11-15",tags:["CERN","Particle Physics"],views:2100,pdfUrl:"/sample.pdf",description:"Detailed analysis of particle collision data from the LHC experiments.",type:"Technical Report"},{id:3,title:"Quantum Computing Feasibility Study",author:"Aman Shah",date:"2023-10-20",tags:["Quantum","Computing"],views:1850,pdfUrl:"/sample.pdf",description:"Assessment of quantum computing applications in scientific research.",type:"Feasibility Study"},{id:4,title:"Dark Matter Detection Progress Report",author:"Aman Shah",date:"2023-09-30",tags:["Dark Matter","Research"],views:1600,pdfUrl:"/sample.pdf",description:"Quarterly progress report on dark matter detection experiments.",type:"Progress Report"},{id:5,title:"Nuclear Fusion Safety Assessment",author:"Aman Shah",date:"2023-08-15",tags:["Nuclear","Safety"],views:2400,pdfUrl:"/sample.pdf",description:"Comprehensive safety evaluation of nuclear fusion reactor designs.",type:"Safety Report"}];function Hj(){const[a,t]=N.useState(""),[e,i]=N.useState(null),[r,o]=N.useState(100),[c,u]=N.useState(1);N.useRef(null);const d=Vj.filter(f=>f.title.toLowerCase().includes(a.toLowerCase())||f.tags.some(m=>m.toLowerCase().includes(a.toLowerCase())));return v.jsxs("div",{className:"min-h-screen",children:[v.jsx(In,{}),v.jsx("section",{className:"relative pt-32 pb-20",children:v.jsxs("div",{className:"section-container",children:[v.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[v.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:v.jsx("span",{className:"gradient-text",children:"Reports"})}),v.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Access technical reports, feasibility studies, and research documentation."})]}),v.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-xl mx-auto mb-10",children:v.jsxs("div",{className:"relative",children:[v.jsx(xs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),v.jsx("input",{type:"text",placeholder:"Search reports...",value:a,onChange:f=>t(f.target.value),className:"w-full pl-12 pr-4 py-4 glass-input"})]})}),v.jsx("div",{className:"grid grid-cols-1 gap-6",children:d.map((f,m)=>v.jsx(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*m},onClick:()=>i(f),className:"glass-card p-6 cursor-pointer group hover:scale-[1.01] transition-transform",children:v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[v.jsx("div",{className:"w-14 h-14 rounded-xl glass-button flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:v.jsx(tx,{className:"w-7 h-7 text-primary"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"flex items-center gap-2 mb-2",children:v.jsx("span",{className:"tag-glass text-xs",children:f.type})}),v.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-primary transition-colors",children:f.title}),v.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:f.description}),v.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[v.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[v.jsx(hi,{className:"w-4 h-4"}),f.date]}),v.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[v.jsx(nl,{className:"w-4 h-4"}),f.views," views"]}),v.jsx("div",{className:"flex gap-2",children:f.tags.map(p=>v.jsxs("span",{className:"tag-glass text-xs",children:[v.jsx(cr,{className:"w-3 h-3 inline mr-1"}),p]},p))})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-sm text-muted-foreground",children:"Click to view"}),v.jsx(yr,{className:"w-5 h-5 text-primary"})]})]})},f.id))}),d.length===0&&v.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[v.jsx("div",{className:"w-20 h-20 rounded-full glass-card flex items-center justify-center mx-auto mb-6",children:v.jsx(tx,{className:"w-10 h-10 text-muted-foreground"})}),v.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No reports found"}),v.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search query."})]})]})}),e&&v.jsx(dl,{article:e,onClose:()=>i(null)}),v.jsx(Un,{})]})}const Gj="/assets/Hilly%20region%20Report-Divs8Wzt.pdf",qj=[{id:1,title:"Quantum Field Theory Applications in Condensed Matter",author:"Dr. Alex Chen",date:"2024-01-20",tags:["Quantum Field Theory","Condensed Matter"],views:890,pdfUrl:Gj,description:"Published in Journal of Theoretical Physics, exploring QFT applications.",volume:"Vol. 45, Issue 3"},{id:2,title:"Novel Approaches to Dark Matter Detection",author:"Dr. Alex Chen",date:"2023-12-15",tags:["Dark Matter","Experimental Physics"],views:1200,pdfUrl:"/sample.pdf",description:"Peer-reviewed article on innovative dark matter detection techniques.",volume:"Vol. 28, Issue 7"},{id:3,title:"Machine Learning for Particle Identification",author:"Dr. Alex Chen",date:"2023-11-10",tags:["Machine Learning","Particle Physics"],views:1500,pdfUrl:"/sample.pdf",description:"Application of neural networks in particle physics experiments.",volume:"Vol. 33, Issue 12"},{id:4,title:"Gravitational Wave Signal Processing",author:"Dr. Alex Chen",date:"2023-10-05",tags:["Gravitational Waves","Signal Processing"],views:980,pdfUrl:"/sample.pdf",description:"Advanced signal processing techniques for LIGO data analysis.",volume:"Vol. 19, Issue 4"},{id:5,title:"Topological Insulators: A Review",author:"Dr. Alex Chen",date:"2023-09-01",tags:["Condensed Matter","Topology"],views:2100,pdfUrl:"/sample.pdf",description:"Comprehensive review of topological insulator materials and properties.",volume:"Vol. 52, Issue 8"}];function $j(){const[a,t]=N.useState(""),[e,i]=N.useState(null),[r,o]=N.useState(100),[c,u]=N.useState(1);N.useRef(null);const d=qj.filter(f=>f.title.toLowerCase().includes(a.toLowerCase())||f.tags.some(m=>m.toLowerCase().includes(a.toLowerCase())));return v.jsxs("div",{className:"min-h-screen",children:[v.jsx(In,{}),v.jsx("section",{className:"relative pt-32 pb-20",children:v.jsxs("div",{className:"section-container",children:[v.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[v.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:v.jsx("span",{className:"gradient-text",children:"Journals"})}),v.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Peer-reviewed journal publications and academic research papers."})]}),v.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-xl mx-auto mb-10",children:v.jsxs("div",{className:"relative",children:[v.jsx(xs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),v.jsx("input",{type:"text",placeholder:"Search journals...",value:a,onChange:f=>t(f.target.value),className:"w-full pl-12 pr-4 py-4 glass-input"})]})}),v.jsx("div",{className:"grid grid-cols-1 gap-6",children:d.map((f,m)=>v.jsx(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*m},onClick:()=>i(f),className:"glass-card p-6 cursor-pointer group hover:scale-[1.01] transition-transform",children:v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[v.jsx("div",{className:"w-14 h-14 rounded-xl glass-button flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:v.jsx(cu,{className:"w-7 h-7 text-primary"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"flex items-center gap-2 mb-2",children:v.jsx("span",{className:"tag-glass text-xs",children:f.volume})}),v.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-primary transition-colors",children:f.title}),v.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:f.description}),v.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[v.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[v.jsx(hi,{className:"w-4 h-4"}),f.date]}),v.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[v.jsx(nl,{className:"w-4 h-4"}),f.views," views"]}),v.jsx("div",{className:"flex gap-2",children:f.tags.map(p=>v.jsxs("span",{className:"tag-glass text-xs",children:[v.jsx(cr,{className:"w-3 h-3 inline mr-1"}),p]},p))})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-sm text-muted-foreground",children:"Click to view"}),v.jsx(yr,{className:"w-5 h-5 text-primary"})]})]})},f.id))}),d.length===0&&v.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[v.jsx("div",{className:"w-20 h-20 rounded-full glass-card flex items-center justify-center mx-auto mb-6",children:v.jsx(cu,{className:"w-10 h-10 text-muted-foreground"})}),v.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No journals found"}),v.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search query."})]})]})}),e&&v.jsx(dl,{article:e,onClose:()=>i(null)}),v.jsx(Un,{})]})}const Xj="/assets/Hilly%20region%20Report-Divs8Wzt.pdf",Yj="/assets/game-H_RFMszN.pdf",Wj=[{id:1,title:"Quantum Simulator Web Application",author:"Aman Shah",date:"2024-01-15",tags:["Quantum Computing","Web Development","React"],views:3200,pdfUrl:Xj,description:"Interactive web-based quantum circuit simulator for educational purposes.",status:"Completed",githubUrl:"https://github.com",demoUrl:"https://demo.com"},{id:2,title:"Particle Physics Data Analysis Tool",author:"Aman Shah",date:"2023-12-01",tags:["Particle Physics","Python","Data Science"],views:2100,pdfUrl:Yj,description:"Python-based toolkit for analyzing CERN LHC experiment data.",status:"In Progress",githubUrl:"https://github.com"},{id:3,title:"Gravitational Wave Visualization",author:"Dr. Alex Chen",date:"2023-10-15",tags:["Astrophysics","Visualization","Three.js"],views:2800,pdfUrl:"/sample.pdf",description:"3D visualization of gravitational wave data from LIGO.",status:"Completed",githubUrl:"https://github.com",demoUrl:"https://demo.com"},{id:4,title:"Dark Matter Detection Dashboard",author:"Dr. Alex Chen",date:"2023-09-01",tags:["Dark Matter","Dashboard","D3.js"],views:1900,pdfUrl:"/sample.pdf",description:"Real-time monitoring dashboard for dark matter detection experiments.",status:"In Progress",githubUrl:"https://github.com"},{id:5,title:"Nuclear Reaction Calculator",author:"Dr. Alex Chen",date:"2023-07-20",tags:["Nuclear Physics","Calculator","TypeScript"],views:3500,pdfUrl:"/sample.pdf",description:"Web-based calculator for nuclear reaction equations and decay chains.",status:"Completed",githubUrl:"https://github.com",demoUrl:"https://demo.com"}];function Kj(){const[a,t]=N.useState(""),[e,i]=N.useState(null),[r,o]=N.useState(100),[c,u]=N.useState(1);N.useRef(null);const d=Wj.filter(m=>m.title.toLowerCase().includes(a.toLowerCase())||m.tags.some(p=>p.toLowerCase().includes(a.toLowerCase()))),f=m=>{switch(m){case"Completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"In Progress":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return v.jsxs("div",{className:"min-h-screen",children:[v.jsx(In,{}),v.jsx("section",{className:"relative pt-32 pb-20",children:v.jsxs("div",{className:"section-container",children:[v.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[v.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:v.jsx("span",{className:"gradient-text",children:"Projects"})}),v.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Explore my portfolio of physics-related software projects and applications."})]}),v.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-xl mx-auto mb-10",children:v.jsxs("div",{className:"relative",children:[v.jsx(xs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),v.jsx("input",{type:"text",placeholder:"Search projects...",value:a,onChange:m=>t(m.target.value),className:"w-full pl-12 pr-4 py-4 glass-input"})]})}),v.jsx("div",{className:"grid grid-cols-1 gap-6",children:d.map((m,p)=>v.jsx(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*p},onClick:()=>i(m),className:"glass-card p-6 cursor-pointer group hover:scale-[1.01] transition-transform",children:v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[v.jsx("div",{className:"w-14 h-14 rounded-xl glass-button flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:v.jsx(nx,{className:"w-7 h-7 text-primary"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"flex items-center gap-2 mb-2",children:v.jsx("span",{className:`tag-glass text-xs ${f(m.status)}`,children:m.status})}),v.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-primary transition-colors",children:m.title}),v.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:m.description}),v.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[v.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[v.jsx(hi,{className:"w-4 h-4"}),m.date]}),v.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[v.jsx(nl,{className:"w-4 h-4"}),m.views," views"]}),v.jsx("div",{className:"flex gap-2",children:m.tags.map(b=>v.jsxs("span",{className:"tag-glass text-xs",children:[v.jsx(cr,{className:"w-3 h-3 inline mr-1"}),b]},b))})]}),v.jsxs("div",{className:"flex gap-2 mt-3",children:[m.githubUrl&&v.jsxs("a",{href:m.githubUrl,target:"_blank",rel:"noopener noreferrer",onClick:b=>b.stopPropagation(),className:"flex items-center gap-1 text-xs glass-card px-3 py-1.5 hover:bg-white/5 transition-colors",children:[v.jsx(Jw,{className:"w-3 h-3"}),"GitHub"]}),m.demoUrl&&v.jsxs("a",{href:m.demoUrl,target:"_blank",rel:"noopener noreferrer",onClick:b=>b.stopPropagation(),className:"flex items-center gap-1 text-xs glass-card px-3 py-1.5 hover:bg-white/5 transition-colors",children:[v.jsx(Qw,{className:"w-3 h-3"}),"Demo"]})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-sm text-muted-foreground",children:"Click to view docs"}),v.jsx(yr,{className:"w-5 h-5 text-primary"})]})]})},m.id))}),d.length===0&&v.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[v.jsx("div",{className:"w-20 h-20 rounded-full glass-card flex items-center justify-center mx-auto mb-6",children:v.jsx(nx,{className:"w-10 h-10 text-muted-foreground"})}),v.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No projects found"}),v.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search query."})]})]})}),e&&v.jsx(dl,{article:e,onClose:()=>i(null)}),v.jsx(Un,{})]})}const qx={"quantum-mechanics":{title:"Quantum Mechanics",subtitle:"The Foundation of Modern Physics",content:["Quantum mechanics is a fundamental theory in physics that provides a description of the physical properties of nature at the scale of atoms and subatomic particles. It is the foundation of all quantum physics including quantum chemistry, quantum field theory, quantum technology, and quantum information science.","The mathematical formulations of quantum mechanics are abstract. A mathematical function, the wave function, provides information about the probability amplitude of position, momentum, and other physical properties of a particle. Mathematical manipulations of the wave function involve the mathematics of Hilbert spaces, linear operators, and generalized probability theory.","One of the most revolutionary aspects of quantum mechanics is the concept of wave-particle duality. This principle states that all matter exhibits both wave-like and particle-like properties. A classic example is the double-slit experiment, where particles such as electrons create an interference pattern characteristic of waves when not observed, but act like individual particles when measured.","The uncertainty principle, formulated by Werner Heisenberg in 1927, states that the more precisely the position of a particle is determined, the less precisely its momentum can be known, and vice versa. This is not due to limitations in measurement technology but is a fundamental property of quantum systems.",'Quantum entanglement is another fascinating phenomenon where pairs or groups of particles interact in such a way that the quantum state of each particle cannot be described independently of the others, even when separated by large distances. This "spooky action at a distance," as Einstein called it, has been experimentally verified and forms the basis for quantum computing and quantum cryptography.',"The Schrdinger equation is the fundamental equation of quantum mechanics, analogous to Newton's second law in classical mechanics. It describes how the quantum state of a physical system changes over time. Solutions to this equation provide the wave functions that contain all the information about a quantum system.","Quantum mechanics has led to many technological innovations, including lasers, transistors, electron microscopes, and MRI machines. The emerging field of quantum computing promises to revolutionize computation by exploiting quantum superposition and entanglement to perform calculations exponentially faster than classical computers for certain problems."],keyPoints:["Wave-particle duality: Matter exhibits both wave and particle properties","Heisenberg Uncertainty Principle: Cannot simultaneously know position and momentum precisely","Quantum Superposition: Particles can exist in multiple states simultaneously","Quantum Entanglement: Particles remain connected regardless of distance","Wave Function: Contains all information about a quantum system","Schrdinger Equation: Governs the time evolution of quantum systems"],formulas:[{name:"Schrdinger Equation",formula:"i(/t) = "},{name:"Heisenberg Uncertainty",formula:"x  p  /2"},{name:"Wave Function Probability",formula:"P = ||"},{name:"Energy Eigenvalue",formula:" = E"}],applications:["Quantum Computing","Lasers and Optics","Semiconductor Electronics","Medical Imaging (MRI)","Quantum Cryptography","Electron Microscopy"]},relativity:{title:"Theory of Relativity",subtitle:"Einstein's Revolutionary Framework",content:["The theory of relativity, developed by Albert Einstein in the early 20th century, revolutionized our understanding of space, time, and gravity. It consists of two major components: Special Relativity (1905) and General Relativity (1915).","Special Relativity is based on two fundamental postulates: (1) The laws of physics are identical in all inertial reference frames, and (2) The speed of light in a vacuum is constant for all observers, regardless of their relative motion. These seemingly simple principles lead to profound consequences.","One of the most famous results of Special Relativity is the equivalence of mass and energy, expressed by the equation E = mc. This principle explains the enormous energy released in nuclear reactions and powers the sun through nuclear fusion.","Time dilation and length contraction are other counterintuitive consequences of Special Relativity. Moving clocks run slower relative to stationary observers, and moving objects appear shorter in the direction of motion. These effects become significant only at speeds approaching the speed of light.","General Relativity extends these principles to include gravity. Einstein proposed that massive objects curve the fabric of spacetime, and this curvature is what we perceive as gravity. Planets orbit the sun not because of a mysterious force acting at a distance, but because they are following the curvature of spacetime created by the sun's mass.","General Relativity has been confirmed by numerous experiments and observations, including the bending of starlight by massive objects (gravitational lensing), the precession of Mercury's orbit, and the existence of gravitational wavesripples in spacetime caused by accelerating massive objects, which were directly detected in 2015.","Black holes are perhaps the most exotic prediction of General Relativity. These are regions of spacetime where gravity is so strong that nothing, not even light, can escape. The recent imaging of black holes by the Event Horizon Telescope provides stunning confirmation of Einstein's theory."],keyPoints:["Speed of light is constant for all observers","Mass and energy are equivalent (E = mc)","Time dilation: Moving clocks run slower","Length contraction: Moving objects appear shorter","Gravity is the curvature of spacetime","Black holes are regions of infinite spacetime curvature"],formulas:[{name:"Mass-Energy Equivalence",formula:"E = mc"},{name:"Time Dilation",formula:"t' = t/(1-v/c)"},{name:"Length Contraction",formula:"L' = L(1-v/c)"},{name:"Relativistic Momentum",formula:"p = mv"}],applications:["GPS Satellite Corrections","Particle Accelerators","Nuclear Energy","Astrophysics","Gravitational Wave Detection","Cosmology"]},thermodynamics:{title:"Thermodynamics",subtitle:"The Science of Energy and Heat",content:["Thermodynamics is the branch of physics that deals with heat, work, temperature, and their relation to energy, radiation, and physical properties of matter. The behavior of these quantities is governed by the four laws of thermodynamics.","The Zeroth Law of Thermodynamics establishes the concept of temperature. It states that if two systems are each in thermal equilibrium with a third system, then they are in thermal equilibrium with each other. This law allows us to define temperature scales and thermometers.","The First Law of Thermodynamics is essentially the law of conservation of energy applied to thermodynamic systems. It states that the change in internal energy of a system equals the heat added to the system minus the work done by the system. This law prohibits the creation of perpetual motion machines of the first kind.","The Second Law of Thermodynamics introduces the concept of entropy and the arrow of time. It states that the total entropy of an isolated system can never decrease over time. This law explains why certain processes are irreversible and why heat flows from hot to cold objects.","The Third Law of Thermodynamics states that the entropy of a perfect crystal at absolute zero is exactly equal to zero. This law implies that it is impossible to reach absolute zero temperature in a finite number of steps.","Thermodynamics has wide-ranging applications in engineering, chemistry, biology, and economics. It governs the design of heat engines, refrigerators, and power plants. It also plays a crucial role in understanding chemical reactions, biological processes, and even information theory.","The concept of entropy has profound implications beyond physics. In information theory, entropy measures the amount of uncertainty or information in a message. In ecology, it relates to the flow of energy through ecosystems. The second law of thermodynamics essentially tells us that the universe tends toward disorder."],keyPoints:["Zeroth Law: Defines temperature and thermal equilibrium","First Law: Conservation of energy in thermodynamic systems","Second Law: Entropy of isolated systems never decreases","Third Law: Absolute zero entropy is zero","Heat flows spontaneously from hot to cold objects","Perpetual motion machines are impossible"],formulas:[{name:"First Law",formula:"U = Q - W"},{name:"Entropy Change",formula:"S = Q/T"},{name:"Ideal Gas Law",formula:"PV = nRT"},{name:"Efficiency",formula:" = 1 - Tc/Th"}],applications:["Heat Engines","Refrigeration","Power Plants","Chemical Engineering","Climate Science","Biological Systems"]},electromagnetism:{title:"Electromagnetism",subtitle:"The Unified Theory of Electricity and Magnetism",content:["Electromagnetism is one of the four fundamental forces of nature, describing the interactions between electrically charged particles. It encompasses both electricity and magnetism, which were unified into a single theory by James Clerk Maxwell in the 19th century.","Electric fields are created by electric charges and exert forces on other charges. The strength of the electric field decreases with the square of the distance from the charge. Like charges repel each other, while opposite charges attract.","Magnetic fields are produced by moving electric charges (electric currents) and magnetic dipoles. The Earth itself has a magnetic field, which is why compasses work. Magnetic field lines form closed loops, and the field is strongest near the magnetic poles.","Maxwell's equations are the foundation of classical electromagnetism. These four equations describe how electric and magnetic fields are generated and altered by each other and by charges and currents. They predict the existence of electromagnetic waves, which include light, radio waves, X-rays, and gamma rays.","Electromagnetic induction, discovered by Michael Faraday, is the production of an electromotive force across an electrical conductor in a changing magnetic field. This principle is the basis for electric generators, transformers, and inductors.","Electromagnetic waves are oscillating electric and magnetic fields that propagate through space at the speed of light. The electromagnetic spectrum ranges from low-energy radio waves to high-energy gamma rays, with visible light occupying only a small portion of this spectrum.","Quantum electrodynamics (QED) is the quantum theory of electromagnetism. It describes how light and matter interact and is one of the most precisely tested theories in physics. QED explains phenomena such as the photoelectric effect and the Lamb shift."],keyPoints:["Electric charges create electric fields","Moving charges create magnetic fields","Maxwell's equations unify electricity and magnetism","Electromagnetic waves travel at the speed of light","Electromagnetic induction generates current from changing magnetic fields","The electromagnetic spectrum includes all types of EM radiation"],formulas:[{name:"Coulomb's Law",formula:"F = k(qq)/r"},{name:"Ohm's Law",formula:"V = IR"},{name:"Faraday's Law",formula:" = -d/dt"},{name:"Wave Speed",formula:"c = f"}],applications:["Electric Power Generation","Telecommunications","Medical Imaging","Electronics","Magnetic Levitation","Wireless Charging"]},"particle-physics":{title:"Particle Physics",subtitle:"The Study of Fundamental Particles",content:["Particle physics, also known as high-energy physics, is the study of the fundamental constituents of matter and radiation, and the interactions between them. It seeks to answer the most fundamental questions about the nature of the universe.","The Standard Model of particle physics is the theory that describes three of the four known fundamental forces (electromagnetic, weak, and strong interactions) and classifies all known elementary particles. It is one of the most successful scientific theories ever developed.","Matter is composed of fermions, which include quarks and leptons. Quarks combine to form hadrons such as protons and neutrons. There are six types (flavors) of quarks: up, down, charm, strange, top, and bottom. Leptons include electrons, muons, tau particles, and their associated neutrinos.","Force carriers are bosons that mediate the fundamental forces. Photons carry the electromagnetic force, W and Z bosons carry the weak force, and gluons carry the strong force. The Higgs boson, discovered in 2012 at CERN, is responsible for giving other particles mass through the Higgs mechanism.","Particle accelerators, such as the Large Hadron Collider (LHC) at CERN, are essential tools for particle physics research. By accelerating particles to near the speed of light and colliding them, physicists can recreate conditions that existed moments after the Big Bang and discover new particles.","The strong nuclear force, carried by gluons, binds quarks together inside protons and neutrons. It is called strong because it is much stronger than the electromagnetic force at short distances. The weak nuclear force is responsible for radioactive decay and nuclear fusion.","Despite its success, the Standard Model is incomplete. It does not include gravity, does not explain dark matter or dark energy, and does not account for the matter-antimatter asymmetry in the universe. Physicists continue to search for new physics beyond the Standard Model."],keyPoints:["Standard Model describes fundamental particles and forces","Quarks combine to form protons and neutrons","Force carriers are bosons (photons, gluons, W/Z bosons)","Higgs boson gives particles mass","Particle accelerators recreate Big Bang conditions","The Standard Model is incomplete (no gravity, dark matter)"],formulas:[{name:"Mass-Energy",formula:"E = (pc) + (mc)"},{name:"Decay Rate",formula:"N = Ne^(-t)"},{name:"Cross Section",formula:" = N/(nt)"},{name:"Momentum",formula:"p = mv"}],applications:["Medical Imaging (PET scans)","Cancer Treatment","Materials Science","Archaeological Dating","Nuclear Energy","Fundamental Research"]},"wave-mechanics":{title:"Wave Mechanics",subtitle:"Understanding Wave Phenomena",content:["Wave mechanics is the study of wave phenomena and their mathematical description. Waves are disturbances that propagate through space and time, transferring energy without permanently displacing the medium through which they travel.","Mechanical waves require a medium to travel through. Sound waves, water waves, and seismic waves are all examples of mechanical waves. The particles of the medium oscillate around their equilibrium positions as the wave passes, but they do not travel with the wave.","Electromagnetic waves, including light, radio waves, and X-rays, do not require a medium. They consist of oscillating electric and magnetic fields that propagate through space at the speed of light. All electromagnetic waves travel at the same speed in a vacuum, regardless of their frequency.","Wave interference occurs when two or more waves meet. Constructive interference happens when waves are in phase, resulting in a larger amplitude. Destructive interference occurs when waves are out of phase, potentially canceling each other out. Interference is a characteristic property of waves.","Diffraction is the bending of waves around obstacles or through apertures. The amount of diffraction depends on the wavelength of the wave relative to the size of the obstacle or aperture. This phenomenon explains why we can hear sounds around corners and why light creates patterns when passing through narrow slits.","Standing waves are formed when two waves of the same frequency and amplitude travel in opposite directions and interfere with each other. They appear to stand still, with points of maximum amplitude (antinodes) and zero amplitude (nodes). Standing waves are important in musical instruments and quantum mechanics.","The wave-particle duality, a fundamental concept in quantum mechanics, states that all matter exhibits both wave-like and particle-like properties. Electrons, which were traditionally thought of as particles, can produce interference patterns characteristic of waves. This duality is described mathematically by the de Broglie wavelength."],keyPoints:["Waves transfer energy without transferring matter","Mechanical waves need a medium; electromagnetic waves do not","Interference can be constructive or destructive","Diffraction is the bending of waves around obstacles","Standing waves have nodes and antinodes","Matter exhibits wave-particle duality"],formulas:[{name:"Wave Speed",formula:"v = f"},{name:"De Broglie Wavelength",formula:" = h/p"},{name:"Frequency-Period",formula:"f = 1/T"},{name:"Wave Energy",formula:"E = hf"}],applications:["Musical Instruments","Sonar and Radar","Medical Ultrasound","Telecommunications","Seismology","Quantum Mechanics"]},"nuclear-physics":{title:"Nuclear Physics",subtitle:"The Study of Atomic Nuclei",content:["Nuclear physics is the field of physics that studies atomic nuclei and their constituents and interactions. It seeks to understand the fundamental forces that bind protons and neutrons together and the processes by which nuclei transform.","The atomic nucleus consists of protons and neutrons, collectively called nucleons. The number of protons determines the element, while the total number of nucleons determines the isotope. The strong nuclear force overcomes the electromagnetic repulsion between protons to hold the nucleus together.","Radioactivity is the spontaneous decay of unstable atomic nuclei. There are three main types of radioactive decay: alpha decay (emission of helium nuclei), beta decay (emission of electrons or positrons), and gamma decay (emission of high-energy photons). Each type has different penetrating power and biological effects.","Nuclear fission is the splitting of a heavy nucleus into two or more lighter nuclei, releasing a large amount of energy. This process powers nuclear reactors and atomic bombs. Nuclear fusion, the combining of light nuclei to form heavier ones, powers the sun and stars and is the goal of ongoing research for clean energy.","Half-life is the time required for half of the radioactive atoms in a sample to decay. This concept is used in radioactive dating to determine the age of archaeological artifacts and geological formations. Carbon-14 dating, for example, can determine the age of organic materials up to about 50,000 years old.","Nuclear medicine uses radioactive isotopes for diagnosis and treatment. PET scans use positron-emitting isotopes to create images of metabolic processes in the body. Radiation therapy uses targeted radiation to destroy cancer cells while minimizing damage to healthy tissue.","Particle accelerators are essential tools for nuclear physics research. They can create new isotopes, study the properties of nuclear matter under extreme conditions, and probe the fundamental structure of nucleons. Facilities like CERN and RHIC push the boundaries of our understanding of nuclear matter."],keyPoints:["Nucleus contains protons and neutrons held by strong force","Radioactivity is spontaneous nuclear decay","Fission splits heavy nuclei; fusion combines light nuclei","Half-life is the time for half of nuclei to decay","Nuclear medicine uses isotopes for diagnosis and treatment","Particle accelerators create and study exotic nuclei"],formulas:[{name:"Decay Law",formula:"N = Ne^(-t)"},{name:"Half-Life",formula:"t/ = ln(2)/"},{name:"Mass-Energy",formula:"E = mc"},{name:"Binding Energy",formula:"B = [Zm + Nm - M]c"}],applications:["Nuclear Power","Medical Imaging","Cancer Treatment","Archaeological Dating","Food Preservation","Scientific Research"]},"computational-physics":{title:"Computational Physics",subtitle:"Solving Physics Problems with Computers",content:["Computational physics is the study and implementation of numerical analysis to solve problems in physics. It bridges theoretical physics and experimental physics, using computational methods to study systems that are too complex for analytical solutions or too expensive or dangerous to study experimentally.","Numerical methods are at the heart of computational physics. These include techniques for solving differential equations, performing integrations, finding roots of equations, and optimizing functions. Common methods include the finite difference method, finite element method, and Monte Carlo simulations.","Molecular dynamics simulations track the motion of individual atoms and molecules over time, using Newton's equations of motion. These simulations can model the behavior of materials at the atomic scale, study protein folding, and understand chemical reactions.","Monte Carlo methods use random sampling to solve problems. They are particularly useful for simulating systems with many degrees of freedom, such as statistical mechanical systems, and for calculating high-dimensional integrals. The Metropolis algorithm is a widely used Monte Carlo method.","Quantum mechanical simulations solve the Schrdinger equation for electrons in atoms and molecules. Density functional theory (DFT) is a popular method that reduces the complexity of the many-electron problem. These calculations are essential for understanding chemical bonding and material properties.","High-performance computing (HPC) is essential for many computational physics problems. Supercomputers with thousands of processors can perform simulations that would be impossible on desktop computers. Parallel programming techniques, such as MPI and OpenMP, are used to distribute calculations across multiple processors.","Visualization is a crucial aspect of computational physics. Complex simulation results are often best understood through visual representations. Scientific visualization tools can create 2D plots, 3D renderings, and animations that reveal patterns and insights hidden in raw data."],keyPoints:["Numerical methods solve complex physics problems","Molecular dynamics simulates atomic motion","Monte Carlo methods use random sampling","Quantum simulations solve electronic structure problems","High-performance computing enables large-scale simulations","Visualization reveals patterns in simulation data"],formulas:[{name:"Euler Method",formula:"y = y + hf(x,y)"},{name:"Verlet Algorithm",formula:"r(t+t) = 2r(t) - r(t-t) + a(t)t"},{name:"DFT Energy",formula:"E[] = T[] + V[] + Ec[]"},{name:"Monte Carlo",formula:"A  (1/N)A(x)"}],applications:["Climate Modeling","Materials Design","Drug Discovery","Astrophysical Simulations","Engineering Analysis","Financial Modeling"]},astrophysics:{title:"Astrophysics",subtitle:"The Physics of the Universe",content:["Astrophysics is the branch of astronomy that employs the principles of physics and chemistry to explain the nature of celestial objects and the physical processes that govern their behavior. It seeks to understand the origin and evolution of the universe and everything in it.","Stars are massive, luminous spheres of plasma held together by gravity. They generate energy through nuclear fusion in their cores, converting hydrogen into helium. The balance between gravitational contraction and radiation pressure determines a star's structure and evolution.","Stellar evolution describes how stars change over time. A star's life cycle depends primarily on its mass. Low-mass stars like our Sun end their lives as white dwarfs, while massive stars explode as supernovae, leaving behind neutron stars or black holes.","Black holes are regions of spacetime where gravity is so strong that nothing, not even light, can escape. They form when massive stars collapse at the end of their lives. The event horizon marks the boundary beyond which escape is impossible. Supermassive black holes, millions to billions of times the mass of the Sun, reside at the centers of most galaxies.","Galaxies are vast collections of stars, gas, dust, and dark matter bound together by gravity. Our Milky Way is a barred spiral galaxy containing hundreds of billions of stars. Galaxies come in various shapes and sizes, including ellipticals, spirals, and irregulars.","Cosmology is the study of the universe as a whole. The Big Bang theory describes the origin of the universe approximately 13.8 billion years ago. Evidence for the Big Bang includes the expansion of the universe, the cosmic microwave background radiation, and the abundance of light elements.","Dark matter and dark energy are two mysterious components that dominate the universe. Dark matter, which does not emit light but exerts gravitational force, makes up about 27% of the universe. Dark energy, which drives the accelerating expansion of the universe, accounts for about 68%. Ordinary matter makes up only about 5%."],keyPoints:["Stars generate energy through nuclear fusion","Stellar evolution depends on mass","Black holes have escape velocities exceeding light speed","Galaxies contain billions of stars","The universe began with the Big Bang","Dark matter and dark energy dominate the universe"],formulas:[{name:"Stellar Luminosity",formula:"L = 4RT"},{name:"Schwarzschild Radius",formula:"r = 2GM/c"},{name:"Hubble's Law",formula:"v = Hd"},{name:"Redshift",formula:"z = ( - )/"}],applications:["Space Exploration","Satellite Technology","Navigation Systems","Climate Studies","Fundamental Physics","Public Education"]}};function Qj(){const{topicId:a}=pT(),t=a?qx[a]:null;return t?v.jsxs("div",{className:"min-h-screen",children:[v.jsx(In,{}),v.jsx("section",{className:"relative pt-32 pb-20",children:v.jsxs("div",{className:"section-container",children:[v.jsx(tt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4},className:"mb-8",children:v.jsxs(Ue,{to:"/physics",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-primary transition-colors",children:[v.jsx(nD,{className:"w-4 h-4"}),"Back to Physics"]})}),v.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-12",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx("div",{className:"w-12 h-12 rounded-xl glass-button flex items-center justify-center",children:v.jsx(Po,{className:"w-6 h-6 text-primary"})}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-4xl sm:text-5xl font-bold",children:t.title}),v.jsx("p",{className:"text-muted-foreground",children:t.subtitle})]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 glass-card text-sm hover:bg-white/5 transition-colors",children:[v.jsx(vk,{className:"w-4 h-4"}),"Share"]}),v.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 glass-card text-sm hover:bg-white/5 transition-colors",children:[v.jsx(cD,{className:"w-4 h-4"}),"Save"]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[v.jsxs(tt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"lg:col-span-2",children:[v.jsxs("div",{className:"glass-card p-8",children:[v.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center gap-2",children:[v.jsx(cu,{className:"w-5 h-5 text-primary"}),"Overview"]}),v.jsx("div",{className:"space-y-6",children:t.content.map((e,i)=>v.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e},i))})]}),v.jsxs("div",{className:"glass-card p-8 mt-6",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Key Points"}),v.jsx("ul",{className:"space-y-3",children:t.keyPoints.map((e,i)=>v.jsxs("li",{className:"flex items-start gap-3",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-primary mt-2 flex-shrink-0"}),v.jsx("span",{className:"text-muted-foreground",children:e})]},i))})]}),v.jsxs("div",{className:"glass-card p-8 mt-6",children:[v.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center gap-2",children:[v.jsx(Ww,{className:"w-5 h-5 text-primary"}),"Key Formulas"]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.formulas.map((e,i)=>v.jsxs("div",{className:"glass-card p-4",children:[v.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:e.name}),v.jsx("p",{className:"text-lg font-mono text-primary",children:e.formula})]},i))})]})]}),v.jsxs(tt.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"lg:col-span-1",children:[v.jsxs("div",{className:"glass-card p-6 mb-6",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Applications"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:t.applications.map((e,i)=>v.jsx("span",{className:"tag-glass",children:e},i))})]}),v.jsxs("div",{className:"glass-card p-6",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Related Topics"}),v.jsx("div",{className:"space-y-3",children:Object.entries(qx).filter(([e])=>e!==a).slice(0,4).map(([e,i])=>v.jsxs(Ue,{to:`/physics/${e}`,className:"block p-3 glass-card hover:bg-white/5 transition-colors",children:[v.jsx("p",{className:"font-medium text-sm",children:i.title}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.subtitle})]},e))})]})]})]})]})}),v.jsx(Un,{})]}):v.jsxs("div",{className:"min-h-screen",children:[v.jsx(In,{}),v.jsxs("div",{className:"pt-32 pb-20 text-center",children:[v.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Topic Not Found"}),v.jsx("p",{className:"text-muted-foreground mb-6",children:"The physics topic you're looking for doesn't exist."}),v.jsx(Ue,{to:"/physics",className:"glass-button px-6 py-3",children:"Back to Physics"})]}),v.jsx(Un,{})]})}function Zj(){return v.jsx(uC,{children:v.jsx(tC,{children:v.jsx(ta,{mode:"wait",children:v.jsxs(RT,{children:[v.jsx(jn,{path:"/",element:v.jsx(Ik,{})}),v.jsx(jn,{path:"/about",element:v.jsx(Xk,{})}),v.jsx(jn,{path:"/gallery",element:v.jsx(Kk,{})}),v.jsx(jn,{path:"/physics",element:v.jsx(Jk,{})}),v.jsx(jn,{path:"/physics/:topicId",element:v.jsx(Qj,{})}),v.jsx(jn,{path:"/news",element:v.jsx(Lj,{})}),v.jsx(jn,{path:"/downloads",element:v.jsx(Oj,{})}),v.jsx(jn,{path:"/documents/article",element:v.jsx(Ij,{})}),v.jsx(jn,{path:"/documents/report",element:v.jsx(Hj,{})}),v.jsx(jn,{path:"/documents/journal",element:v.jsx($j,{})}),v.jsx(jn,{path:"/documents/project",element:v.jsx(Kj,{})})]})})})})}DE.createRoot(document.getElementById("root")).render(v.jsx(N.StrictMode,{children:v.jsx(Zj,{})}));
//# sourceMappingURL=index-BEhUd4E7.js.map
